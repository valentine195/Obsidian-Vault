/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => FantasyBestiary
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/settings/settings.ts
var import_obsidian2 = require("obsidian");

// inline-worker:__inline-worker
function inlineWorker(scriptText) {
  let blob = new Blob([scriptText], { type: "text/javascript" });
  let url = URL.createObjectURL(blob);
  let worker = new Worker(url);
  URL.revokeObjectURL(url);
  return worker;
}

// src/importers/importer.worker.ts
function Worker2() {
  return inlineWorker('var yn=Object.create;var At=Object.defineProperty;var Rn=Object.getOwnPropertyDescriptor;var Cn=Object.getOwnPropertyNames;var En=Object.getPrototypeOf,_n=Object.prototype.hasOwnProperty;var be=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var An=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Cn(e))!_n.call(t,i)&&i!==n&&At(t,i,{get:()=>e[i],enumerable:!(r=Rn(e,i))||r.enumerable});return t};var Tn=(t,e,n)=>(n=t!=null?yn(En(t)):{},An(e||!t||!t.__esModule?At(n,"default",{value:t,enumerable:!0}):n,t));var Nt=be(Tt=>{Tt.entityMap={lt:"<",gt:">",amp:"&",quot:\'"\',apos:"\'",Agrave:"\\xC0",Aacute:"\\xC1",Acirc:"\\xC2",Atilde:"\\xC3",Auml:"\\xC4",Aring:"\\xC5",AElig:"\\xC6",Ccedil:"\\xC7",Egrave:"\\xC8",Eacute:"\\xC9",Ecirc:"\\xCA",Euml:"\\xCB",Igrave:"\\xCC",Iacute:"\\xCD",Icirc:"\\xCE",Iuml:"\\xCF",ETH:"\\xD0",Ntilde:"\\xD1",Ograve:"\\xD2",Oacute:"\\xD3",Ocirc:"\\xD4",Otilde:"\\xD5",Ouml:"\\xD6",Oslash:"\\xD8",Ugrave:"\\xD9",Uacute:"\\xDA",Ucirc:"\\xDB",Uuml:"\\xDC",Yacute:"\\xDD",THORN:"\\xDE",szlig:"\\xDF",agrave:"\\xE0",aacute:"\\xE1",acirc:"\\xE2",atilde:"\\xE3",auml:"\\xE4",aring:"\\xE5",aelig:"\\xE6",ccedil:"\\xE7",egrave:"\\xE8",eacute:"\\xE9",ecirc:"\\xEA",euml:"\\xEB",igrave:"\\xEC",iacute:"\\xED",icirc:"\\xEE",iuml:"\\xEF",eth:"\\xF0",ntilde:"\\xF1",ograve:"\\xF2",oacute:"\\xF3",ocirc:"\\xF4",otilde:"\\xF5",ouml:"\\xF6",oslash:"\\xF8",ugrave:"\\xF9",uacute:"\\xFA",ucirc:"\\xFB",uuml:"\\xFC",yacute:"\\xFD",thorn:"\\xFE",yuml:"\\xFF",nbsp:"\\xA0",iexcl:"\\xA1",cent:"\\xA2",pound:"\\xA3",curren:"\\xA4",yen:"\\xA5",brvbar:"\\xA6",sect:"\\xA7",uml:"\\xA8",copy:"\\xA9",ordf:"\\xAA",laquo:"\\xAB",not:"\\xAC",shy:"\\xAD\\xAD",reg:"\\xAE",macr:"\\xAF",deg:"\\xB0",plusmn:"\\xB1",sup2:"\\xB2",sup3:"\\xB3",acute:"\\xB4",micro:"\\xB5",para:"\\xB6",middot:"\\xB7",cedil:"\\xB8",sup1:"\\xB9",ordm:"\\xBA",raquo:"\\xBB",frac14:"\\xBC",frac12:"\\xBD",frac34:"\\xBE",iquest:"\\xBF",times:"\\xD7",divide:"\\xF7",forall:"\\u2200",part:"\\u2202",exist:"\\u2203",empty:"\\u2205",nabla:"\\u2207",isin:"\\u2208",notin:"\\u2209",ni:"\\u220B",prod:"\\u220F",sum:"\\u2211",minus:"\\u2212",lowast:"\\u2217",radic:"\\u221A",prop:"\\u221D",infin:"\\u221E",ang:"\\u2220",and:"\\u2227",or:"\\u2228",cap:"\\u2229",cup:"\\u222A",int:"\\u222B",there4:"\\u2234",sim:"\\u223C",cong:"\\u2245",asymp:"\\u2248",ne:"\\u2260",equiv:"\\u2261",le:"\\u2264",ge:"\\u2265",sub:"\\u2282",sup:"\\u2283",nsub:"\\u2284",sube:"\\u2286",supe:"\\u2287",oplus:"\\u2295",otimes:"\\u2297",perp:"\\u22A5",sdot:"\\u22C5",Alpha:"\\u0391",Beta:"\\u0392",Gamma:"\\u0393",Delta:"\\u0394",Epsilon:"\\u0395",Zeta:"\\u0396",Eta:"\\u0397",Theta:"\\u0398",Iota:"\\u0399",Kappa:"\\u039A",Lambda:"\\u039B",Mu:"\\u039C",Nu:"\\u039D",Xi:"\\u039E",Omicron:"\\u039F",Pi:"\\u03A0",Rho:"\\u03A1",Sigma:"\\u03A3",Tau:"\\u03A4",Upsilon:"\\u03A5",Phi:"\\u03A6",Chi:"\\u03A7",Psi:"\\u03A8",Omega:"\\u03A9",alpha:"\\u03B1",beta:"\\u03B2",gamma:"\\u03B3",delta:"\\u03B4",epsilon:"\\u03B5",zeta:"\\u03B6",eta:"\\u03B7",theta:"\\u03B8",iota:"\\u03B9",kappa:"\\u03BA",lambda:"\\u03BB",mu:"\\u03BC",nu:"\\u03BD",xi:"\\u03BE",omicron:"\\u03BF",pi:"\\u03C0",rho:"\\u03C1",sigmaf:"\\u03C2",sigma:"\\u03C3",tau:"\\u03C4",upsilon:"\\u03C5",phi:"\\u03C6",chi:"\\u03C7",psi:"\\u03C8",omega:"\\u03C9",thetasym:"\\u03D1",upsih:"\\u03D2",piv:"\\u03D6",OElig:"\\u0152",oelig:"\\u0153",Scaron:"\\u0160",scaron:"\\u0161",Yuml:"\\u0178",fnof:"\\u0192",circ:"\\u02C6",tilde:"\\u02DC",ensp:"\\u2002",emsp:"\\u2003",thinsp:"\\u2009",zwnj:"\\u200C",zwj:"\\u200D",lrm:"\\u200E",rlm:"\\u200F",ndash:"\\u2013",mdash:"\\u2014",lsquo:"\\u2018",rsquo:"\\u2019",sbquo:"\\u201A",ldquo:"\\u201C",rdquo:"\\u201D",bdquo:"\\u201E",dagger:"\\u2020",Dagger:"\\u2021",bull:"\\u2022",hellip:"\\u2026",permil:"\\u2030",prime:"\\u2032",Prime:"\\u2033",lsaquo:"\\u2039",rsaquo:"\\u203A",oline:"\\u203E",euro:"\\u20AC",trade:"\\u2122",larr:"\\u2190",uarr:"\\u2191",rarr:"\\u2192",darr:"\\u2193",harr:"\\u2194",crarr:"\\u21B5",lceil:"\\u2308",rceil:"\\u2309",lfloor:"\\u230A",rfloor:"\\u230B",loz:"\\u25CA",spades:"\\u2660",clubs:"\\u2663",hearts:"\\u2665",diams:"\\u2666"}});var It=be(Le=>{var Ue=/[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/,bt=new RegExp("[\\\\-\\\\.0-9"+Ue.source.slice(1,-1)+"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]"),wt=new RegExp("^"+Ue.source+bt.source+"*(?::"+Ue.source+bt.source+"*)?$"),he=0,q=1,ne=2,ge=3,re=4,ie=5,de=6,we=7;function se(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,se)}se.prototype=new Error;se.prototype.name=se.name;function xt(){}xt.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),Mt(e,e={}),Nn(t,e,n,r,this.errorHandler),r.endDocument()}};function Nn(t,e,n,r,i){function s(_){if(_>65535){_-=65536;var g=55296+(_>>10),ee=56320+(_&1023);return String.fromCharCode(g,ee)}else return String.fromCharCode(_)}function o(_){var g=_.slice(1,-1);return g in n?n[g]:g.charAt(0)==="#"?s(parseInt(g.substr(1).replace("x","0x"))):(i.error("entity not found:"+_),_)}function l(_){if(_>R){var g=t.substring(R,_).replace(/&#?\\w+;/g,o);S&&u(R),r.characters(g,0,_-R),R=_}}function u(_,g){for(;_>=f&&(g=h.exec(t));)a=g.index,f=a+g[0].length,S.lineNumber++;S.columnNumber=_-a+1}for(var a=0,f=0,h=/.*(?:\\r\\n?|\\n)|.*$/g,S=r.locator,E=[{currentNSMap:e}],y={},R=0;;){try{var v=t.indexOf("<",R);if(v<0){if(!t.substr(R).match(/^\\s*$/)){var M=r.doc,P=M.createTextNode(t.substr(R));M.appendChild(P),r.currentElement=P}return}switch(v>R&&l(v),t.charAt(v+1)){case"/":var w=t.indexOf(">",v+3),b=t.substring(v+2,w),T=E.pop();w<0?(b=t.substring(v+2).replace(/[\\s<].*/,""),i.error("end tag name: "+b+" is not complete:"+T.tagName),w=v+1+b.length):b.match(/\\s</)&&(b=b.replace(/[\\s<].*/,""),i.error("end tag name: "+b+" maybe not complete"),w=v+1+b.length);var U=T.localNSMap,W=T.tagName==b,d=W||T.tagName&&T.tagName.toLowerCase()==b.toLowerCase();if(d){if(r.endElement(T.uri,T.localName,b),U)for(var G in U)r.endPrefixMapping(G);W||i.fatalError("end tag name: "+b+" is not match the current start tagName:"+T.tagName)}else E.push(T);w++;break;case"?":S&&u(v),w=xn(t,v,r);break;case"!":S&&u(v),w=$n(t,v,r,i);break;default:S&&u(v);var A=new Ot,L=E[E.length-1].currentNSMap,w=bn(t,v,A,L,o,i),j=A.length;if(!A.closed&&Dn(t,w,A.tagName,y)&&(A.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),S&&j){for(var J=Dt(S,{}),z=0;z<j;z++){var V=A[z];u(V.offset),V.locator=Dt(S,{})}r.locator=J,$t(A,r,L)&&E.push(A),r.locator=S}else $t(A,r,L)&&E.push(A);A.uri==="http://www.w3.org/1999/xhtml"&&!A.closed?w=wn(t,w,A.tagName,o,r):w++}}catch(_){if(_ instanceof se)throw _;i.error("element parse error: "+_),w=-1}w>R?R=w:l(Math.max(v,R)+1)}}function Dt(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function bn(t,e,n,r,i,s){function o(E,y,R){E in n.attributeNames&&s.fatalError("Attribute "+E+" redefined"),n.addValue(E,y,R)}for(var l,u,a=++e,f=he;;){var h=t.charAt(a);switch(h){case"=":if(f===q)l=t.slice(e,a),f=ge;else if(f===ne)f=ge;else throw new Error("attribute equal must after attrName");break;case"\'":case\'"\':if(f===ge||f===q)if(f===q&&(s.warning(\'attribute value must after "="\'),l=t.slice(e,a)),e=a+1,a=t.indexOf(h,e),a>0)u=t.slice(e,a).replace(/&#?\\w+;/g,i),o(l,u,e-1),f=ie;else throw new Error("attribute value no end \'"+h+"\' match");else if(f==re)u=t.slice(e,a).replace(/&#?\\w+;/g,i),o(l,u,e),s.warning(\'attribute "\'+l+\'" missed start quot(\'+h+")!!"),e=a+1,f=ie;else throw new Error(\'attribute value must after "="\');break;case"/":switch(f){case he:n.setTagName(t.slice(e,a));case ie:case de:case we:f=we,n.closed=!0;case re:case q:case ne:break;default:throw new Error("attribute invalid close char(\'/\')")}break;case"":return s.error("unexpected end of input"),f==he&&n.setTagName(t.slice(e,a)),a;case">":switch(f){case he:n.setTagName(t.slice(e,a));case ie:case de:case we:break;case re:case q:u=t.slice(e,a),u.slice(-1)==="/"&&(n.closed=!0,u=u.slice(0,-1));case ne:f===ne&&(u=l),f==re?(s.warning(\'attribute "\'+u+\'" missed quot(")!\'),o(l,u.replace(/&#?\\w+;/g,i),e)):((r[""]!=="http://www.w3.org/1999/xhtml"||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning(\'attribute "\'+u+\'" missed value!! "\'+u+\'" instead!!\'),o(u,u,e));break;case ge:throw new Error("attribute value missed!!")}return a;case"\\x80":h=" ";default:if(h<=" ")switch(f){case he:n.setTagName(t.slice(e,a)),f=de;break;case q:l=t.slice(e,a),f=ne;break;case re:var u=t.slice(e,a).replace(/&#?\\w+;/g,i);s.warning(\'attribute "\'+u+\'" missed quot(")!!\'),o(l,u,e);case ie:f=de;break}else switch(f){case ne:var S=n.tagName;(r[""]!=="http://www.w3.org/1999/xhtml"||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning(\'attribute "\'+l+\'" missed value!! "\'+l+\'" instead2!!\'),o(l,l,e),e=a,f=q;break;case ie:s.warning(\'attribute space is required"\'+l+\'"!!\');case de:f=q,e=a;break;case ge:f=re,e=a;break;case we:throw new Error("elements closed character \'/\' and \'>\' must be connected to")}}a++}}function $t(t,e,n){for(var r=t.tagName,i=null,h=t.length;h--;){var s=t[h],o=s.qName,l=s.value,S=o.indexOf(":");if(S>0)var u=s.prefix=o.slice(0,S),a=o.slice(S+1),f=u==="xmlns"&&a;else a=o,u=null,f=o==="xmlns"&&"";s.localName=a,f!==!1&&(i==null&&(i={},Mt(n,n={})),n[f]=i[f]=l,s.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(f,l))}for(var h=t.length;h--;){s=t[h];var u=s.prefix;u&&(u==="xml"&&(s.uri="http://www.w3.org/XML/1998/namespace"),u!=="xmlns"&&(s.uri=n[u||""]))}var S=r.indexOf(":");S>0?(u=t.prefix=r.slice(0,S),a=t.localName=r.slice(S+1)):(u=null,a=t.localName=r);var E=t.uri=n[u||""];if(e.startElement(E,a,r,t),t.closed){if(e.endElement(E,a,r),i)for(u in i)e.endPrefixMapping(u)}else return t.currentNSMap=n,t.localNSMap=i,!0}function wn(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\\w+;/g,r),i.characters(o,0,o.length),s)}return e+1}function Dn(t,e,n,r){var i=r[n];return i==null&&(i=t.lastIndexOf("</"+n+">"),i<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function Mt(t,e){for(var n in t)e[n]=t[n]}function $n(t,e,n,r){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var o=Mn(t,e),l=o.length;if(l>1&&/!doctype/i.test(o[0][0])){var u=o[1][0],a=!1,f=!1;l>3&&(/^public$/i.test(o[2][0])?(a=o[3][0],f=l>4&&o[4][0]):/^system$/i.test(o[2][0])&&(f=o[3][0]));var h=o[l-1];return n.startDTD(u,a,f),n.endDTD(),h.index+h[0].length}}return-1}function xn(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);if(i){var s=i[0].length;return n.processingInstruction(i[1],i[2]),r+2}else return-1}return-1}function Ot(){this.attributeNames={}}Ot.prototype={setTagName:function(t){if(!wt.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!wt.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function Mn(t,e){var n,r=[],i=/\'[^\']+\'|"[^"]+"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}Le.XMLReader=xt;Le.ParseError=se});var Xe=be(Ce=>{function ve(t,e){for(var n in t)e[n]=t[n]}function k(t,e){var n=t.prototype;if(!(n instanceof e)){let i=function(){};var r=i;i.prototype=e.prototype,i=new i,ve(n,i),t.prototype=n=i}n.constructor!=t&&(typeof t!="function"&&console.error("unknow Class:"+t),n.constructor=t)}var On="http://www.w3.org/1999/xhtml",F={},B=F.ELEMENT_NODE=1,oe=F.ATTRIBUTE_NODE=2,De=F.TEXT_NODE=3,Wt=F.CDATA_SECTION_NODE=4,Gt=F.ENTITY_REFERENCE_NODE=5,In=F.ENTITY_NODE=6,jt=F.PROCESSING_INSTRUCTION_NODE=7,Bt=F.COMMENT_NODE=8,Vt=F.DOCUMENT_NODE=9,zt=F.DOCUMENT_TYPE_NODE=10,H=F.DOCUMENT_FRAGMENT_NODE=11,Pn=F.NOTATION_NODE=12,O={},$={},Sa=O.INDEX_SIZE_ERR=($[1]="Index size error",1),va=O.DOMSTRING_SIZE_ERR=($[2]="DOMString size error",2),kn=O.HIERARCHY_REQUEST_ERR=($[3]="Hierarchy request error",3),ya=O.WRONG_DOCUMENT_ERR=($[4]="Wrong document",4),Ra=O.INVALID_CHARACTER_ERR=($[5]="Invalid character",5),Ca=O.NO_DATA_ALLOWED_ERR=($[6]="No data allowed",6),Ea=O.NO_MODIFICATION_ALLOWED_ERR=($[7]="No modification allowed",7),Fn=O.NOT_FOUND_ERR=($[8]="Not found",8),_a=O.NOT_SUPPORTED_ERR=($[9]="Not supported",9),Pt=O.INUSE_ATTRIBUTE_ERR=($[10]="Attribute in use",10),Aa=O.INVALID_STATE_ERR=($[11]="Invalid state",11),Ta=O.SYNTAX_ERR=($[12]="Syntax error",12),Na=O.INVALID_MODIFICATION_ERR=($[13]="Invalid modification",13),ba=O.NAMESPACE_ERR=($[14]="Invalid namespace",14),wa=O.INVALID_ACCESS_ERR=($[15]="Invalid access",15);function te(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,$[t]),this.message=$[t],Error.captureStackTrace&&Error.captureStackTrace(this,te);return n.code=t,e&&(this.message=this.message+": "+e),n}te.prototype=Error.prototype;ve(O,te);function Z(){}Z.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)ae(this[r],n,t,e);return n.join("")}};function ce(t,e){this._node=t,this._refresh=e,Ge(this)}function Ge(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);nn(t,"length",n.length),ve(n,t),t._inc=e}}ce.prototype.item=function(t){return Ge(this),this[t]};k(ce,Z);function $e(){}function Ht(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function kt(t,e,n,r){if(r?e[Ht(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&Yt(i,t,r),Un(i,t,n))}}function Ft(t,e,n){var r=Ht(e,n);if(r>=0){for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var s=t.ownerDocument;s&&(Yt(s,t,n),n.ownerElement=null)}}else throw te(Fn,new Error(t.tagName+"@"+n))}$e.prototype={length:0,item:Z.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new te(Pt);var n=this.getNamedItem(t.nodeName);return kt(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new te(Pt);return n=this.getNamedItemNS(t.namespaceURI,t.localName),kt(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return Ft(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return Ft(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function Kt(t){if(this._features={},t)for(var e in t)this._features=t[e]}Kt.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!!(n&&(!e||e in n))},createDocument:function(t,e,n){var r=new ye;if(r.implementation=this,r.childNodes=new Z,r.doctype=n,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new He;return r.name=t,r.nodeName=t,r.publicId=e,r.systemId=n,r}};function I(){}I.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return qt(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return Xt(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return We(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==De&&t.nodeType==De?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var r in n)if(n[r]==t)return r}e=e.nodeType==oe?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==oe?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function Ut(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t==\'"\'&&"&quot;"||"&#"+t.charCodeAt()+";"}ve(F,I);ve(F,I.prototype);function Se(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Se(t,e))return!0;while(t=t.nextSibling)}function ye(){}function Un(t,e,n){t&&t._inc++;var r=n.namespaceURI;r=="http://www.w3.org/2000/xmlns/"&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function Yt(t,e,n,r){t&&t._inc++;var i=n.namespaceURI;i=="http://www.w3.org/2000/xmlns/"&&delete e._nsMap[n.prefix?n.localName:""]}function je(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s}}}function Xt(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,je(t.ownerDocument,t),e}function qt(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===H){var i=e.firstChild;if(i==null)return e;var s=e.lastChild}else i=s=e;var o=n?n.previousSibling:t.lastChild;i.previousSibling=o,s.nextSibling=n,o?o.nextSibling=i:t.firstChild=i,n==null?t.lastChild=s:n.previousSibling=s;do i.parentNode=t;while(i!==s&&(i=i.nextSibling));return je(t.ownerDocument||t,t),e.nodeType==H&&(e.firstChild=e.lastChild=null),e}function Ln(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e);var r=t.lastChild}var r=t.lastChild;return e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,je(t.ownerDocument,t,e),e}ye.prototype={nodeName:"#document",nodeType:Vt,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==H){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return this.documentElement==null&&t.nodeType==B&&(this.documentElement=t),qt(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),Xt(this,t)},importNode:function(t,e){return tn(this,t,e)},getElementById:function(t){var e=null;return Se(this.documentElement,function(n){if(n.nodeType==B&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=new RegExp("(^|\\\\s)"+t+"(\\\\s|$)");return new ce(this,function(n){var r=[];return Se(n.documentElement,function(i){i!==n&&i.nodeType==B&&e.test(i.getAttribute("class"))&&r.push(i)}),r})},createElement:function(t){var e=new le;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new Z;var n=e.attributes=new $e;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new Me;return t.ownerDocument=this,t.childNodes=new Z,t},createTextNode:function(t){var e=new Be;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Ve;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new ze;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new Ye;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new xe;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Ke;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new le,r=e.split(":"),i=n.attributes=new $e;return n.childNodes=new Z,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new xe,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}};k(ye,I);function le(){this._nsMap={}}le.prototype={nodeType:B,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===H?this.insertBefore(t,null):Ln(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new ce(this,function(e){var n=[];return Se(e,function(r){r!==e&&r.nodeType==B&&(t==="*"||r.tagName==t)&&n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new ce(this,function(n){var r=[];return Se(n,function(i){i!==n&&i.nodeType===B&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&r.push(i)}),r})}};ye.prototype.getElementsByTagName=le.prototype.getElementsByTagName;ye.prototype.getElementsByTagNameNS=le.prototype.getElementsByTagNameNS;k(le,I);function xe(){}xe.prototype.nodeType=oe;k(xe,I);function Re(){}Re.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error($[kn])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),i=this.data.substring(t+e);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}};k(Re,I);function Be(){}Be.prototype={nodeName:"#text",nodeType:De,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};k(Be,Re);function Ve(){}Ve.prototype={nodeName:"#comment",nodeType:Bt};k(Ve,Re);function ze(){}ze.prototype={nodeName:"#cdata-section",nodeType:Wt};k(ze,Re);function He(){}He.prototype.nodeType=zt;k(He,I);function Zt(){}Zt.prototype.nodeType=Pn;k(Zt,I);function Qt(){}Qt.prototype.nodeType=In;k(Qt,I);function Ke(){}Ke.prototype.nodeType=Gt;k(Ke,I);function Me(){}Me.prototype.nodeName="#document-fragment";Me.prototype.nodeType=H;k(Me,I);function Ye(){}Ye.prototype.nodeType=jt;k(Ye,I);function Jt(){}Jt.prototype.serializeToString=function(t,e,n){return en.call(t,e,n)};I.prototype.toString=en;function en(t,e){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&i==null){var i=r.lookupPrefix(s);if(i==null)var o=[{namespace:s,prefix:null}]}return ae(this,n,t,e,o),n.join("")}function Lt(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!r&&!i||r==="xml"&&i==="http://www.w3.org/XML/1998/namespace"||i=="http://www.w3.org/2000/xmlns/")return!1;for(var s=n.length;s--;){var o=n[s];if(o.prefix==r)return o.namespace!=i}return!0}function ae(t,e,n,r,i){if(r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case B:i||(i=[]);var s=i.length,o=t.attributes,l=o.length,y=t.firstChild,u=t.tagName;n=On===t.namespaceURI||n,e.push("<",u);for(var a=0;a<l;a++){var f=o.item(a);f.prefix=="xmlns"?i.push({prefix:f.localName,namespace:f.value}):f.nodeName=="xmlns"&&i.push({prefix:"",namespace:f.value})}for(var a=0;a<l;a++){var f=o.item(a);if(Lt(f,n,i)){var h=f.prefix||"",S=f.namespaceURI,E=h?" xmlns:"+h:" xmlns";e.push(E,\'="\',S,\'"\'),i.push({prefix:h,namespace:S})}ae(f,e,n,r,i)}if(Lt(t,n,i)){var h=t.prefix||"",S=t.namespaceURI;if(S){var E=h?" xmlns:"+h:" xmlns";e.push(E,\'="\',S,\'"\'),i.push({prefix:h,namespace:S})}}if(y||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),n&&/^script$/i.test(u))for(;y;)y.data?e.push(y.data):ae(y,e,n,r,i),y=y.nextSibling;else for(;y;)ae(y,e,n,r,i),y=y.nextSibling;e.push("</",u,">")}else e.push("/>");return;case Vt:case H:for(var y=t.firstChild;y;)ae(y,e,n,r,i),y=y.nextSibling;return;case oe:return e.push(" ",t.name,\'="\',t.value.replace(/[<&"]/g,Ut),\'"\');case De:return e.push(t.data.replace(/[<&]/g,Ut).replace(/]]>/g,"]]&gt;"));case Wt:return e.push("<![CDATA[",t.data,"]]>");case Bt:return e.push("<!--",t.data,"-->");case zt:var R=t.publicId,v=t.systemId;if(e.push("<!DOCTYPE ",t.name),R)e.push(" PUBLIC ",R),v&&v!="."&&e.push(" ",v),e.push(">");else if(v&&v!=".")e.push(" SYSTEM ",v,">");else{var M=t.internalSubset;M&&e.push(" [",M,"]"),e.push(">")}return;case jt:return e.push("<?",t.target," ",t.data,"?>");case Gt:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function tn(t,e,n){var r;switch(e.nodeType){case B:r=e.cloneNode(!1),r.ownerDocument=t;case H:break;case oe:n=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var i=e.firstChild;i;)r.appendChild(tn(t,i,n)),i=i.nextSibling;return r}function We(t,e,n){var r=new e.constructor;for(var i in e){var s=e[i];typeof s!="object"&&s!=r[i]&&(r[i]=s)}switch(e.childNodes&&(r.childNodes=new Z),r.ownerDocument=t,r.nodeType){case B:var o=e.attributes,l=r.attributes=new $e,u=o.length;l._ownerElement=r;for(var a=0;a<u;a++)r.setAttributeNode(We(t,o.item(a),!0));break;case oe:n=!0}if(n)for(var f=e.firstChild;f;)r.appendChild(We(t,f,n)),f=f.nextSibling;return r}function nn(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case B:case H:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Da=t,Object.defineProperty(ce.prototype,"length",{get:function(){return Ge(this),this.$$length}}),Object.defineProperty(I.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case B:case H:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),nn=function(e,n,r){e["$$"+n]=r}}}catch(t){}var Da;Ce.Node=I;Ce.DOMException=te;Ce.DOMImplementation=Kt;Ce.XMLSerializer=Jt});var on=be(_e=>{function sn(t){this.options=t||{locator:{}}}sn.prototype.parseFromString=function(t,e){var n=this.options,r=new jn,i=n.domBuilder||new Ee,s=n.errorHandler,o=n.locator,l=n.xmlns||{},u=/\\/x?html?$/.test(e),a=u?Gn.entityMap:{lt:"<",gt:">",amp:"&",quot:\'"\',apos:"\'"};return o&&i.setDocumentLocator(o),r.errorHandler=Wn(s,i,o),r.domBuilder=n.domBuilder||i,u&&(l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",t&&typeof t=="string"?r.parse(t,l,a):r.errorHandler.error("invalid doc source"),i.doc};function Wn(t,e,n){if(!t){if(e instanceof Ee)return e;t=e}var r={},i=t instanceof Function;n=n||{};function s(o){var l=t[o];!l&&i&&(l=t.length==2?function(u){t(o,u)}:t),r[o]=l&&function(u){l("[xmldom "+o+"]	"+u+qe(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function Ee(){this.cdata=!1}function ue(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Ee.prototype={startDocument:function(){this.doc=new Vn().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,s=i.createElementNS(t,n||e),o=r.length;Oe(this,s),this.currentElement=s,this.locator&&ue(this.locator,s);for(var l=0;l<o;l++){var t=r.getURI(l),u=r.getValue(l),n=r.getQName(l),a=i.createAttributeNS(t,n);this.locator&&ue(r.getLocator(l),a),a.value=a.nodeValue=u,s.setAttributeNode(a)}},endElement:function(t,e,n){var r=this.currentElement,i=r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&ue(this.locator,n),Oe(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=rn.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&ue(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=rn.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&ue(this.locator,r),Oe(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&ue(this.locator,i),Oe(this,i)}},warning:function(t){console.warn("[xmldom warning]	"+t,qe(this.locator))},error:function(t){console.error("[xmldom error]	"+t,qe(this.locator))},fatalError:function(t){throw new Bn(t,this.locator)}};function qe(t){if(t)return`\n@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function rn(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\\w+/g,function(t){Ee.prototype[t]=function(){return null}});function Oe(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}var Gn=Nt(),an=It(),jn=an.XMLReader,Bn=an.ParseError,Vn=_e.DOMImplementation=Xe().DOMImplementation;_e.XMLSerializer=Xe().XMLSerializer;_e.DOMParser=sn;_e.__DOMHandler=Ee});var ln=Tn(on());async function un(t){return new Promise((e,n)=>{let r=new FileReader;r.onload=async i=>{let s=i.target.result,l=new ln.DOMParser().parseFromString(s,"application/xml").getElementsByTagName("monster"),u=[];if(!!l.length){for(let a of Array.from(l))try{let f={image:null,name:x(a,"name"),size:qn(a),type:x(a,"type"),subtype:x(a,"subtype"),alignment:x(a,"alignment"),ac:Zn(a),hp:Number(cn(a,"hp")),hit_dice:cn(a,"hit_dice"),speed:x(a,"speed"),stats:[Number(x(a,"str")),Number(x(a,"dex")),Number(x(a,"con")),Number(x(a,"int")),Number(x(a,"wis")),Number(x(a,"cha"))],saves:Yn(a),skillsaves:Hn(a),damage_vulnerabilities:x(a,"vulnerable"),damage_resistances:x(a,"resist"),damage_immunities:x(a,"immune"),condition_immunities:x(a,"conditionImmune"),senses:x(a,"senses"),languages:x(a,"languages"),cr:x(a,"cr"),traits:Ie(a,"trait"),spells:zn(a),actions:Ie(a,"action"),legendary_actions:Ie(a,"legendary"),reactions:Ie(a,"reaction"),source:Qn(a)};u.push(f)}catch(f){console.error(f);continue}e(u)}},r.readAsText(t)})}function x(t,e){let n=t.getElementsByTagName(e);if(n&&n.length)return n[0].textContent}function Ie(t,e){var i;if(!((i=t.getElementsByTagName(e))!=null&&i.length))return[];let n=t.getElementsByTagName(e),r=[];for(let s of Array.from(n)){let o=s.getElementsByTagName("name");if(!o||!o.length||!o[0].textContent||o[0].textContent.includes("Spellcasting"))continue;let l=[],u=s.getElementsByTagName("text");for(let a of Array.from(u))l.push(a.textContent);r.push({name:o[0].textContent,desc:l.join(" ")})}return r}function zn(t){var r;if(!((r=t.getElementsByTagName("trait"))!=null&&r.length))return[];let n=Array.from(t.getElementsByTagName("trait")).find(i=>{var s;return(s=i.getElementsByTagName("name")[0])==null?void 0:s.textContent.includes("Spellcasting")});return n?Array.from(n.getElementsByTagName("text")).map(i=>i.textContent.replace(/(&#8226;|\u2022)/u,"").trim()).filter(i=>i.length):[]}function Hn(t){var r;if(!((r=t.getElementsByTagName("skill"))!=null&&r.length))return[];let e=t.getElementsByTagName("skill")[0].textContent.split(", "),n=[];return e.forEach(i=>{let s=i.split(/\\s[\\+\\-]/);n.push({[s[0]]:Number(s[1])})}),n}var Kn={Str:"strength",Dex:"dexterity",Con:"constitution",Int:"intelligence",Wis:"wisdom",Cha:"charisma"};function Yn(t){var r;if(!((r=t.getElementsByTagName("save"))!=null&&r.length))return[];let e=t.getElementsByTagName("save")[0].textContent.split(", "),n=[];return e.forEach(i=>{let s=i.split(/\\s[\\+\\-]/);n.push({[Kn[s[0]]]:Number(s[1])})}),n}function cn(t,e){var s,o;if(!((s=t.getElementsByTagName("hp"))!=null&&s.length))return"";let n=t.getElementsByTagName("hp")[0].textContent,[,r,i]=(o=n.match(/(\\d+) \\(([\\s\\S]+)\\)/))!=null?o:[,"",""];return{hp:r,hit_dice:i}[e]}var Xn={T:"tiny",S:"small",M:"medium",L:"large",H:"huge",G:"gargantuan"};function qn(t){var e;return t.getElementsByTagName("size")&&(e=Xn[t.getElementsByTagName("size")[0].textContent])!=null?e:""}function Zn(t){var e;if(t.getElementsByTagName("ac")){let[,n]=(e=t.getElementsByTagName("ac")[0])==null?void 0:e.textContent.match(/(\\d+)/);return Number(n)}return 0}function Qn(t){var n,r,i,s,o,l;let e="Unknown";if((n=t.getElementsByTagName("source"))!=null&&n.length)e=t.getElementsByTagName("source")[0].textContent;else if(((r=t.getElementsByTagName("trait"))==null?void 0:r.length)&&Array.from(t.getElementsByTagName("trait")).find(u=>{var a;return((a=u.getElementsByTagName("name"))==null?void 0:a[0].textContent)=="Source"})){let u=Array.from(t.getElementsByTagName("trait")).find(a=>{var f,h;return((h=(f=a.getElementsByTagName("name"))==null?void 0:f[0])==null?void 0:h.textContent)=="Source"});e=(o=(s=(i=u==null?void 0:u.getElementsByTagName("text"))==null?void 0:i[0])==null?void 0:s.textContent)==null?void 0:o.replace(/p. \\d+/,"").trim()}else if((l=t.getElementsByTagName("description"))!=null&&l.length){let u=t.getElementsByTagName("description"),a="Source: ";if(u[0].textContent.includes(a)){let f=u[0].textContent.lastIndexOf(a);e=u[0].textContent.slice(f+a.length).split(/, ?/)[0]}}return e}var Jn={STR:"strength",DEX:"dexterity",CON:"constitution",INT:"intelligence",WIS:"wisdom",CHA:"charisma"};async function fn(t){return new Promise((e,n)=>{let r=new FileReader,i=[];r.onload=async s=>{var o,l,u,a,f,h,S,E,y,R,v,M,P,b,T,U,W,d,G,A,L,w,j,J,z,V,_,g,ee,C,X,nt,rt,it,st,at,ot,ct,lt,ut,ft,mt,pt,ht,gt,dt,St,vt,yt,Rt,Ct,Et,_t;try{let Pe=JSON.parse(s.target.result),Sn=Object.keys(Pe).filter(ke=>/^Creatures\\./.test(ke));for(let ke of Sn)try{let N=Pe[ke],vn={name:N.Name,source:(o=N.Source)!=null&&o.trim().length?(l=N.Source)==null?void 0:l.trim():"Unknown",type:(f=(a=(u=N.Type)==null?void 0:u.split(/,\\s?/))==null?void 0:a[0])==null?void 0:f.trim(),subtype:"",size:"",alignment:(E=(S=(h=N.Type)==null?void 0:h.split(/,\\s?/))==null?void 0:S[1])==null?void 0:E.trim(),hp:(y=N.HP)==null?void 0:y.Value,hit_dice:(M=(v=(R=N.HP)==null?void 0:R.Notes)==null?void 0:v.replace(/([()])/g,""))==null?void 0:M.trim(),ac:N.AC.Value,speed:(b=(P=N.Speed)==null?void 0:P.join(", "))==null?void 0:b.trim(),stats:Object.values((T=N.Abilities)!=null?T:{}),damage_immunities:(G=(d=(W=(U=N.DamageImmunities)==null?void 0:U.join("; "))==null?void 0:W.toLowerCase())==null?void 0:d.trim())!=null?G:"",damage_resistances:(j=(w=(L=(A=N.DamageResistances)==null?void 0:A.join(", "))==null?void 0:L.toLowerCase())==null?void 0:w.trim())!=null?j:"",damage_vulnerabilities:(_=(V=(z=(J=N.DamageVulnerabilities)==null?void 0:J.join(", "))==null?void 0:z.toLowerCase())==null?void 0:V.trim())!=null?_:"",condition_immunities:(X=(C=(ee=(g=N.ConditionImmunities)==null?void 0:g.join(", "))==null?void 0:ee.toLowerCase())==null?void 0:C.trim())!=null?X:"",saves:(rt=(nt=N.Saves)==null?void 0:nt.map(({Name:D,Modifier:Fe})=>({[Jn[D]]:Fe})))!=null?rt:[],skillsaves:(st=(it=N.Skills)==null?void 0:it.map(({Name:D,Modifier:Fe})=>({[D]:Fe})))!=null?st:[],senses:(ct=(ot=(at=N.Senses)==null?void 0:at.join(", "))==null?void 0:ot.trim())!=null?ct:"",languages:(ft=(ut=(lt=N.Languages)==null?void 0:lt.join(", "))==null?void 0:ut.trim())!=null?ft:"",cr:(pt=(mt=N.Challenge)==null?void 0:mt.trim())!=null?pt:"",traits:(gt=(ht=N.Traits)==null?void 0:ht.map(D=>({name:D.Name,desc:D.Content})))!=null?gt:[],actions:(St=(dt=N.Actions)==null?void 0:dt.map(D=>({name:D.Name,desc:D.Content})))!=null?St:[],bonus_actions:(yt=(vt=N.BonusActions)==null?void 0:vt.map(D=>({name:D.Name,desc:D.Content})))!=null?yt:[],reactions:(Ct=(Rt=N.Reactions)==null?void 0:Rt.map(D=>({name:D.Name,desc:D.Content})))!=null?Ct:[],legendary_actions:(_t=(Et=N.LegendaryActions)==null?void 0:Et.map(D=>({name:D.Name,desc:D.Content})))!=null?_t:[],image:null};i.push(vn)}catch(N){continue}e(i)}catch(Pe){n()}},r.readAsText(t)})}async function mn(t){return new Promise((e,n)=>{let r=new FileReader;r.onload=async i=>{var o,l,u,a,f,h,S,E,y,R,v,M,P,b,T,U,W,d,G,A,L,w,j,J,z;let s=[];try{let V=JSON.parse(i.target.result),_=[];V.creatures?_=V.creatures:_=[V];for(let g of _)try{let ee={image:null,name:g.name,source:"CritterDB",type:g.stats.race,subtype:"",size:g.stats.size,alignment:g.stats.alignment,hp:g.stats.hitPoints,hit_dice:`${Math.floor(g.stats.extraHealthFromConstitution/g.stats.abilityScoreModifiers.constitution)}d${g.stats.hitDieSize} + ${g.stats.extraHealthFromConstitution}`,ac:g.stats.armorClass,speed:g.stats.speed,stats:[g.stats.abilityScores.strength,g.stats.abilityScores.dexterity,g.stats.abilityScores.constitution,g.stats.abilityScores.intelligence,g.stats.abilityScores.wisdom,g.stats.abilityScores.charisma],damage_immunities:(l=(o=g.stats.damageImmunities)==null?void 0:o.join("; ").toLowerCase().trim())!=null?l:"",damage_resistances:(a=(u=g.stats.damageResistances)==null?void 0:u.join(", ").toLowerCase().trim())!=null?a:"",damage_vulnerabilities:(h=(f=g.stats.damageVulnerabilities)==null?void 0:f.join(", ").toLowerCase().trim())!=null?h:"",condition_immunities:(E=(S=g.stats.conditionImmunities)==null?void 0:S.join(", ").toLowerCase().trim())!=null?E:"",saves:(R=(y=g.stats.savingThrows)==null?void 0:y.map(C=>{var X;if(!(!("value"in C)&&!("modifier"in C)))return{[C.ability]:(X=C.value)!=null?X:C.modifier}}).filter(C=>C))!=null?R:[],skillsaves:(M=(v=g.stats.skills)==null?void 0:v.map(C=>{var X;if(!(!("value"in C)&&!("modifier"in C)))return{[C.name]:(X=C.value)!=null?X:C.modifier}}).filter(C=>C))!=null?M:[],senses:(b=(P=g.stats.senses)==null?void 0:P.join(", ").trim())!=null?b:"",languages:(U=(T=g.stats.languages)==null?void 0:T.join(", ").trim())!=null?U:"",cr:(W=g.stats.challengeRating)!=null?W:"",traits:(G=(d=g.stats.additionalAbilities)==null?void 0:d.map(C=>({name:C.name,desc:C.description.replace(/<[^>]*>/g,"")})))!=null?G:[],actions:(L=(A=g.stats.actions)==null?void 0:A.map(C=>({name:C.name,desc:C.description.replace(/<[^>]*>/g,"")})))!=null?L:[],reactions:(j=(w=g.stats.reactions)==null?void 0:w.map(C=>({name:C.name,desc:C.description.replace(/<[^>]*>/g,"")})))!=null?j:[],legendary_actions:(z=(J=g.stats.legendaryActions)==null?void 0:J.map(C=>({name:C.name,desc:C.description.replace(/<[^>]*>/g,"")})))!=null?z:[]};s.push(ee)}catch(ee){continue}e(s)}catch(V){n()}},r.readAsText(t)})}function Ae(t,e=0,n=" ",r=!0){let i=[];if(e==5||t==null)return"";if(typeof t=="string")return t;if(typeof t=="number")return`${t}`;if(Array.isArray(t))i.push(`${r?"(":""}${t.map(s=>Ae(s,e++)).join(n)}${r?")":""}`);else if(typeof t=="object")for(let s of Object.values(t))i.push(Ae(s,e++));return i.join(" ")}var er={str:"strength",dex:"dexterity",con:"constitution",wis:"wisdom",int:"intelligence",cha:"charisma"};function K(t){return t?t.replace(/{@condition (.+?)}/g,"$1").replace(/{@item (.+?)}/g,"$1").replace(/{@spell ([\\s\\S]+?)}/g,"$1").replace(/{@recharge (.+?)}/g,"(Recharge $1-6)").replace(/{@recharge}/g,"(Recharge 6)").replace(/{@h}/g,"").replace(/{@damage (.+?)}/g,"$1").replace(/{@atk ms}/g,"Melee Spell Attack").replace(/{@atk rs}/g,"Ranged Spell Attack").replace(/{@atk mw}/g,"Melee Weapon Attack").replace(/{@atk rw}/g,"Ranged Weapon Attack").replace(/{@atk mw,rw}/g,"Melee / Ranged Weapon Attack").replace(/{@creature (.+?)}/g,"$1").replace(/{@skill (.+?)}/g,"$1").replace(/{@dice (.+?)}/g,"$1").replace(/{@hit (\\d+?)}/g,"+$1").replace(/{@dc (\\d+?)}/g,"$1").replace(/{@quickref (.+?)\\|\\|.+?}/,"$1"):""}async function pn(t){return new Promise((e,n)=>{let r=new FileReader;r.onload=async i=>{var s,o,l,u,a,f,h,S,E,y,R,v,M,P,b;try{let T=JSON.parse(i.target.result),U=[];"monster"in T?U=T.monster:Array.isArray(T)?U=T:typeof T=="object"?U=[T]:n("Invalid monster JSON provided.");let W=[];for(let d of U)try{if(!d.name)continue;let G={image:null,name:d.name,source:mr(d),type:tr(d.type),subtype:"",size:(s=d.size)!=null&&s.length?_r[(o=d.size)==null?void 0:o[0]]:null,alignment:lr(d),hp:d.hp&&"average"in d.hp?(l=d.hp)==null?void 0:l.average:null,hit_dice:d.hp&&"formula"in d.hp?(u=d.hp)==null?void 0:u.formula:"",ac:ir(d.ac),speed:ur(d),stats:[d.str,d.dex,d.con,d.int,d.wis,d.cha],damage_immunities:K(fe(d.immune)),damage_resistances:K(fe(d.resist)),damage_vulnerabilities:K(fe(d.vulnerable)),condition_immunities:K(fe(d.conditionImmune)),saves:Object.entries((a=d.save)!=null?a:{}).map(A=>{var w,j;if(!A||!A[1])return;let[,L]=(j=(w=A[1])==null?void 0:w.match(/.*?(\\d+)/))!=null?j:[];if(!!L)return{[er[A[0]]]:L}}).filter(A=>A),skillsaves:ma(d),senses:fr(d),languages:Ae(d.languages,0,", ",!1),cr:nr(d.cr),traits:(h=(f=d.trait)==null?void 0:f.flatMap(Te))!=null?h:[],actions:(E=(S=d.action)==null?void 0:S.flatMap(Te))!=null?E:[],bonus_actions:(R=(y=d.bonus)==null?void 0:y.flatMap(Te))!=null?R:[],reactions:(M=(v=d.reaction)==null?void 0:v.flatMap(Te))!=null?M:[],legendary_actions:(b=(P=d.legendary)==null?void 0:P.flatMap(Te))!=null?b:[],spells:cr(d),spellsNotes:rr(d).join(" ")};W.push(G)}catch(G){console.error(G);continue}e(W)}catch(T){console.error("reject!!!",T),n(T)}},r.readAsText(t)})}function tr(t){if(!!t)return typeof t=="string"?t:t.type}function nr(t){if(!!t)return typeof t=="string"?t:t.cr}function rr(t){let e=[];for(let n in t.spellcasting)e.push(Ae(t.spellcasting[n].footerEntries,0,", ",!1));return e}function fe(t){if(!t)return"";let e=[];for(let n of t){if(typeof n=="string"){e.push(n);continue}if("special"in n){e.push(n.special);continue}if("immune"in n){e.push(`${fe(n.immune)}${n.note?" ":""}${n.note?n.note:""}`);continue}if("resist"in n){e.push(`${fe(n.resist)}${n.note?" ":""}${n.note?n.note:""}`);continue}}return e.join(", ")}function ir(t=[]){var n;let[e]=t;if(!!e){if(typeof e=="number")return e;if(typeof e=="string"){let[r,i]=(n=e.match(/(\\d+)/))!=null?n:[];return i?Number(i):null}if(typeof e=="object")return"special"in e?null:e.ac}}var sr={0:"Cantrips (at will)",1:"1st level",2:"2nd level",3:"3rd level",4:"4th level",5:"5th level",6:"6th level",7:"7th level",8:"8th level",9:"9th level"};function Ze(t){let e=[];for(let n of t){if(typeof n=="string"){e.push(n);continue}!n.hidden&&n.entry&&n.entry.length&&e.push(n.entry)}return K(e.join(", "))}function ar(t){let e=[];for(let n of Object.keys(t)){let r=t[n],i=Number(n.replace(/[^0-9]/,""));e.push([i,Ze(r)])}return e}function or(t){var i,s;let e=[K(((i=t.headerEntries)!=null?i:[]).join(`\n`))];if("spells"in t)try{for(let o in(s=t.spells)!=null?s:{}){let l=t.spells[o],{spells:u}=l,a=`${sr[o]}`;a+="slots"in l?` (${l.slots} slots)`:"";let f=K(u.join(", "));e.push({[a]:f})}}catch(o){throw new Error("There was an error parsing the spells.")}if("will"in t&&t.will.length>0)try{e.push({"At will":Ze(t.will)})}catch(o){throw new Error("There was an error parsing the at-will spells.")}if("ritual"in t&&t.ritual.length>0)try{e.push({Rituals:Ze(t.ritual)})}catch(o){throw new Error("There was an error parsing the ritual spells.")}let n=["rest","daily","weekly","yearly","charges"],r={rest:"/rest each",daily:"/day each",weekly:"/week each",yearly:"/year each",charges:" charges"};for(let o of n)if(o in t){let l=ar(t[o]);for(let u of l.sort((a,f)=>f[0]-a[0]))e.push({[`${u[0]}${r[o]}`]:u[1]})}return e}function cr(t){return!t.spellcasting||!t.spellcasting.length?[]:t.spellcasting.flatMap(or)}function lr(t){return t.alignment?Qe(t.alignment):null}function Qe(t){var n;if(!t)return null;let e=[];if(Array.isArray(t))for(let r of t)e.push(Qe(r));else if(typeof t=="object"){if("special"in t&&t.special!=null)return t.special;if("alignment"in t)return`${((n=t.alignment)!=null?n:[]).map(r=>Qe(r)).join(" ")}${t.chance?` (${t.chance}%)`:""}${t.note?` (${t.note})`:""}`}else{switch(t.toUpperCase()){case"L":return"lawful";case"N":return"neutral";case"NX":return"neutral (law/chaos axis)";case"NY":return"neutral (good/evil axis)";case"C":return"chaotic";case"G":return"good";case"E":return"evil";case"U":return"unaligned";case"A":return"any alignment"}return t}return e.join(" or ")}function ur(t){var l,u;let e=t.speed;if(!e)return"\\u2014";if(typeof e=="number")return`${e}`;function n(a){return typeof a=="number"?a:a.number!=null?a.number:a}function r(a){var f;return typeof a=="number"?"":(f=a==null?void 0:a.condition)!=null?f:""}let i=[],s=["walk","burrow","climb","fly","swim"];for(let a of s){if(a!="walk"&&!(a in e)&&!(a in((l=e.alternate)!=null?l:{})))continue;let f=[];i.push(`${a==="walk"?"":`${a} `}${n((u=e[a])!=null?u:0)} ft. ${r(e[a])}`.trim()),e.alternate&&e.alternate[a]&&e.alternate[a].forEach(h=>{i.push(`${a==="walk"?"":`${a} `}${n(h!=null?h:0)} ft. ${r(h)}`.trim())})}let o=", ";if(e.choose){o="; ";let a=e.choose.from.sort();a.length>1?(`${a.slice(0,a.length-1).join(", ")}${a[a.length-1]}${e.choose.amount}`,e.choose.note&&`${e.choose.note}`):i.push(`${a} ${e.choose.amount} ft.${e.choose.note?` ${e.choose.note}`:""}`)}return i.join(o)}function fr(t){var n,r;if(typeof t.senses=="string")return t.senses;let e=[(r=(n=t.senses)==null?void 0:n.join(", ").trim())!=null?r:""];return t.passive&&e.push(`passive Perception ${t.passive}`),e.join(", ")}function mr(t){var n,r,i;let e=[];return(n=t.source)!=null&&n.length&&e.push((r=c[t.source])!=null?r:t.source),(i=t.otherSources)!=null&&i.length&&e.push(...t.otherSources.map(s=>{var o;return(o=c[s.source])!=null?o:s.source})),e}function Te(t){return t.entries.reduce((n,r)=>{var s;if(typeof r!="string"){let o=(s=r.items)==null?void 0:s.map(l=>typeof l=="string"?{name:l,entries:[]}:"entry"in l?{name:l.name,entries:[l.entry]}:{name:l.name,entries:l.entries});return n.concat(o!=null?o:[])}return n.length>1||n[0].entries.push(r),n},[{name:t.name,entries:[]}]).map(({name:n,entries:r})=>({name:K(n),desc:K(r.join(`\n`))}))}var pr="F",hr="D",gr="T",dr="S",Sr="M",vr="L",yr="H",Rr="G",Cr="C",Er="V",_r={[pr]:"Fine",[hr]:"Diminutive",[gr]:"Tiny",[dr]:"Small",[Sr]:"Medium",[vr]:"Large",[yr]:"Huge",[Rr]:"Gargantuan",[Cr]:"Colossal",[Er]:"Varies"},Ar="CoS",Tr="DMG",Nr="EEPC",br="EET",wr="HotDQ",Dr="LMoP",$r="Mag",xr="MM",Mr="OotA",Or="PHB",Ir="PotA",Pr="RoT",kr="RoTOS",Fr="SCAG",Ur="SKT",Lr="ToA",Wr="ToD",Gr="TTP",jr="TftYP",Br="TftYP-AtG",Vr="TftYP-DiT",zr="TftYP-TFoF",Hr="TftYP-THSoT",Kr="TftYP-TSC",Yr="TftYP-ToH",Xr="TftYP-WPM",qr="VGM",Zr="XGE",Qr="OGA",Jr="MTF",ei="WDH",ti="WDMM",ni="GGR",ri="KKW",ii="LLK",si="GoS",ai="AI",oi="OoW",ci="ESK",li="DIP",ui="HftT",fi="DC",mi="SLW",pi="SDW",hi="BGDIA",gi="LR",di="AL",Si="SAC",vi="ERLW",yi="EFR",Ri="RMBRE",Ci="RMR",Ei="MFF",_i="AWM",Ai="IMR",Ti="SADS",Ni="EGW",bi="ToR",wi="DD",Di="FS",$i="US",xi="MOT",Mi="IDRotF",Oi="TCE",Ii="VRGR",Pi="HoL",ki="Screen",Fi="ScreenWildernessKit",Ui="HF",Li="CM",Wi="WBtW",Gi="CRCotN",Je="AL",ji=`${Je}CurseOfStrahd`,Bi=`${Je}ElementalEvil`,Vi=`${Je}RageOfDemons`,me="PS",zi=`${me}A`,Hi=`${me}I`,Ki=`${me}K`,Yi=`${me}Z`,Xi=`${me}X`,qi=`${me}D`,m="UA",Zi=`${m}Artificer`,Qi=`${m}EladrinAndGith`,Ji=`${m}Eberron`,es=`${m}FeatsForRaces`,ts=`${m}FeatsForSkills`,ns=`${m}FiendishOptions`,rs=`${m}Feats`,is=`${m}GothicHeroes`,ss=`${m}ModernMagic`,as=`${m}StarterSpells`,os=`${m}TheMysticClass`,cs=`${m}ThatOldBlackMagic`,ls=`${m}TheRangerRevised`,us=`${m}WaterborneAdventures`,fs=`${m}VariantRules`,ms=`${m}LightDarkUnderdark`,ps=`${m}RangerAndRogue`,hs=`${m}ATrioOfSubclasses`,gs=`${m}BarbarianPrimalPaths`,ds=`${m}RevisedSubclasses`,Ss=`${m}KitsOfOld`,vs=`${m}BardBardColleges`,ys=`${m}ClericDivineDomains`,Rs=`${m}Druid`,Cs=`${m}RevisedClassOptions`,Es=`${m}Fighter`,_s=`${m}Monk`,As=`${m}Paladin`,Ts=`${m}ModifyingClasses`,Ns=`${m}Sorcerer`,bs=`${m}WarlockAndWizard`,ws=`${m}TheFaithful`,Ds=`${m}WizardRevisited`,$s=`${m}ElfSubraces`,xs=`${m}MassCombat`,Ms=`${m}ThreePillarExperience`,Os=`${m}GreyhawkInitiative`,Is=`${m}ThreeSubclasses`,Ps=`${m}OrderDomain`,ks=`${m}CentaursMinotaurs`,Fs=`${m}GiantSoulSorcerer`,Us=`${m}RacesOfEberron`,Ls=`${m}RacesOfRavnica`,Ws=`${m}WGE`,Gs=`${m}OfShipsAndSea`,js=`${m}Sidekicks`,Bs=`${m}ArtificerRevisited`,Vs=`${m}BarbarianAndMonk`,zs=`${m}SorcererAndWarlock`,Hs=`${m}BardAndPaladin`,Ks=`${m}ClericDruidWizard`,Ys=`${m}FighterRangerRogue`,Xs=`${m}ClassFeatureVariants`,qs=`${m}FighterRogueWizard`,Zs=`${m}PrestigeClassesRunMagic`,Qs=`${m}Ranger`,Js=`${m}2020SubclassesPt1`,ea=`${m}2020SubclassesPt2`,ta=`${m}2020SubclassesPt3`,na=`${m}2020SubclassesPt4`,ra=`${m}2020SubclassesPt5`,ia=`${m}2020SpellsAndMagicTattoos`,sa=`${m}2020PsionicOptionsRevisited`,aa=`${m}2020SubclassesRevisited`,oa=`${m}2020Feats`,ca=`${m}2021GothicLineages`,la=`${m}2021FolkOfTheFeywild`,ua=`${m}2021DraconicOptions`,fa=`${m}2021MagesOfStrixhaven`,et="Adventurers League: ",pe="Plane Shift: ",p="Unearthed Arcana: ",Q="Tales from the Yawning Portal",c={};c[Ar]="Curse of Strahd";c[Tr]="Dungeon Master\'s Guide";c[Nr]="Elemental Evil Player\'s Companion";c[br]="Elemental Evil: Trinkets";c[wr]="Hoard of the Dragon Queen";c[Dr]="Lost Mine of Phandelver";c[$r]="Dragon Magazine";c[xr]="Monster Manual";c[Mr]="Out of the Abyss";c[Or]="Player\'s Handbook";c[Ir]="Princes of the Apocalypse";c[Pr]="The Rise of Tiamat";c[kr]="The Rise of Tiamat Online Supplement";c[Fr]="Sword Coast Adventurer\'s Guide";c[Ur]="Storm King\'s Thunder";c[Lr]="Tomb of Annihilation";c[Wr]="Tyranny of Dragons";c[Gr]="The Tortle Package";c[jr]=Q;c[Br]=`${Q}: Against the Giants`;c[Vr]=`${Q}: Dead in Thay`;c[zr]=`${Q}: The Forge of Fury`;c[Hr]=`${Q}: The Hidden Shrine of Tamoachan`;c[Kr]=`${Q}: The Sunless Citadel`;c[Yr]=`${Q}: Tomb of Horrors`;c[Xr]=`${Q}: White Plume Mountain`;c[qr]="Volo\'s Guide to Monsters";c[Zr]="Xanathar\'s Guide to Everything";c[Qr]="One Grung Above";c[Jr]="Mordenkainen\'s Tome of Foes";c[ei]="Waterdeep: Dragon Heist";c[ti]="Waterdeep: Dungeon of the Mad Mage";c[ni]="Guildmasters\' Guide to Ravnica";c[ri]="Krenko\'s Way";c[ii]="Lost Laboratory of Kwalish";c[si]="Ghosts of Saltmarsh";c[ai]="Acquisitions Incorporated";c[oi]="The Orrery of the Wanderer";c[ci]="Essentials Kit";c[li]="Dragon of Icespire Peak";c[ui]="Hunt for the Thessalhydra";c[fi]="Divine Contention";c[mi]="Storm Lord\'s Wrath";c[pi]="Sleeping Dragon\'s Wake";c[hi]="Baldur\'s Gate: Descent Into Avernus";c[gi]="Locathah Rising";c[di]="Adventurers\' League";c[Si]="Sage Advice Compendium";c[vi]="Eberron: Rising from the Last War";c[yi]="Eberron: Forgotten Relics";c[Ri]="The Lost Dungeon of Rickedness: Big Rick Energy";c[Ci]="Dungeons & Dragons vs. Rick and Morty: Basic Rules";c[Ei]="Mordenkainen\'s Fiendish Folio";c[_i]="Adventure with Muk";c[Ai]="Infernal Machine Rebuild";c[Ti]="Sapphire Anniversary Dice Set";c[Ni]="Explorer\'s Guide to Wildemount";c[bi]="Tide of Retribution";c[wi]="Dangerous Designs";c[Di]="Frozen Sick";c[$i]="Unwelcome Spirits";c[xi]="Mythic Odysseys of Theros";c[Mi]="Icewind Dale: Rime of the Frostmaiden";c[Oi]="Tasha\'s Cauldron of Everything";c[Ii]="Van Richten\'s Guide to Ravenloft";c[Pi]="The House of Lament";c[ki]="Dungeon Master\'s Screen";c[Fi]="Dungeon Master\'s Screen: Wilderness Kit";c[Ui]="Heroes\' Feast";c[Li]="Candlekeep Mysteries";c[ji]=`${et}Curse of Strahd`;c[Bi]=`${et}Elemental Evil`;c[Vi]=`${et}Rage of Demons`;c[zi]=`${pe}Amonkhet`;c[Hi]=`${pe}Innistrad`;c[Ki]=`${pe}Kaladesh`;c[Yi]=`${pe}Zendikar`;c[Xi]=`${pe}Ixalan`;c[qi]=`${pe}Dominaria`;c[Zi]=`${p}Artificer`;c[Qi]=`${p}Eladrin and Gith`;c[Ji]=`${p}Eberron`;c[es]=`${p}Feats for Races`;c[ts]=`${p}Feats for Skills`;c[ns]=`${p}Fiendish Options`;c[rs]=`${p}Feats`;c[is]=`${p}Gothic Heroes`;c[ss]=`${p}Modern Magic`;c[as]=`${p}Starter Spells`;c[os]=`${p}The Mystic Class`;c[cs]=`${p}That Old Black Magic`;c[ls]=`${p}The Ranger, Revised`;c[us]=`${p}Waterborne Adventures`;c[fs]=`${p}Variant Rules`;c[ms]=`${p}Light, Dark, Underdark!`;c[ps]=`${p}Ranger and Rogue`;c[hs]=`${p}A Trio of Subclasses`;c[gs]=`${p}Barbarian Primal Paths`;c[ds]=`${p}Revised Subclasses`;c[Ss]=`${p}Kits of Old`;c[vs]=`${p}Bard: Bard Colleges`;c[ys]=`${p}Cleric: Divine Domains`;c[Rs]=`${p}Druid`;c[Cs]=`${p}Revised Class Options`;c[Es]=`${p}Fighter`;c[_s]=`${p}Monk`;c[As]=`${p}Paladin`;c[Ts]=`${p}Modifying Classes`;c[Ns]=`${p}Sorcerer`;c[bs]=`${p}Warlock and Wizard`;c[ws]=`${p}The Faithful`;c[Ds]=`${p}Wizard Revisited`;c[$s]=`${p}Elf Subraces`;c[xs]=`${p}Mass Combat`;c[Ms]=`${p}Three-Pillar Experience`;c[Os]=`${p}Greyhawk Initiative`;c[Is]=`${p}Three Subclasses`;c[Ps]=`${p}Order Domain`;c[ks]=`${p}Centaurs and Minotaurs`;c[Fs]=`${p}Giant Soul Sorcerer`;c[Us]=`${p}Races of Eberron`;c[Ls]=`${p}Races of Ravnica`;c[Ws]="Wayfinder\'s Guide to Eberron";c[Gs]=`${p}Of Ships and the Sea`;c[js]=`${p}Sidekicks`;c[Bs]=`${p}Artificer Revisited`;c[Vs]=`${p}Barbarian and Monk`;c[zs]=`${p}Sorcerer and Warlock`;c[Hs]=`${p}Bard and Paladin`;c[Ks]=`${p}Cleric, Druid, and Wizard`;c[Ys]=`${p}Fighter, Ranger, and Rogue`;c[Xs]=`${p}Class Feature Variants`;c[qs]=`${p}Fighter, Rogue, and Wizard`;c[Zs]=`${p}Prestige Classes and Rune Magic`;c[Qs]=`${p}Ranger`;c[Js]=`${p}2020 Subclasses, Part 1`;c[ea]=`${p}2020 Subclasses, Part 2`;c[ta]=`${p}2020 Subclasses, Part 3`;c[na]=`${p}2020 Subclasses, Part 4`;c[ra]=`${p}2020 Subclasses, Part 5`;c[ia]=`${p}2020 Spells and Magic Tattoos`;c[sa]=`${p}2020 Psionic Options Revisited`;c[aa]=`${p}2020 Subclasses Revisited`;c[oa]=`${p}2020 Feats`;c[ca]=`${p}2021 Gothic Lineages`;c[la]=`${p}2021 Folk of the Feywild`;c[ua]=`${p}2021 Draconic Options`;c[fa]=`${p}2021 Mages of Strixhaven`;c[Wi]="The Wild Beyond the Witchlight";c[Gi]="Critical Role: Call of the Netherdeep";function ma(t){var i,s,o;let e=t.skill;if(!e)return[];let n=[],r=[];for(let l of Object.keys(e)){if(l=="other"){let f=e[l];for(let h of f){let S=h.oneOf;if(!S)continue;let E=Object.keys(S).sort(),y=E.shift(),R=S[y],[,v]=(i=R==null?void 0:R.match(/.*?(\\d+)/))!=null?i:[];r.push({[`plus one of the following: ${y.charAt(0).toUpperCase()+y.slice(1)}`]:v});for(let M of E.slice(1)){let P=S[M],[,b]=(s=P==null?void 0:P.match(/.*?(\\d+)/))!=null?s:[];!b||r.push({[M]:b})}}continue}let u=e[l],[,a]=(o=u==null?void 0:u.match(/.*?(\\d+)/))!=null?o:[];!a||n.push({[l]:a})}return[...n.filter(l=>l),...r.filter(l=>l)]}var hn={0:{cr:"0",value:0,xp:0},"1/8":{cr:"1/8",value:.125,xp:25},"1/4":{cr:"1/4",value:.25,xp:50},"1/2":{cr:"1/2",value:.5,xp:100},"0.125":{cr:"1/8",value:.125,xp:25},"0.25":{cr:"1/4",value:.25,xp:50},"0.5":{cr:"1/2",value:.5,xp:100},1:{cr:"1",value:1,xp:200},2:{cr:"2",value:2,xp:450},3:{cr:"3",value:3,xp:700},4:{cr:"4",value:4,xp:1100},5:{cr:"5",value:5,xp:1800},6:{cr:"6",value:6,xp:2300},7:{cr:"7",value:7,xp:2900},8:{cr:"8",value:8,xp:3900},9:{cr:"9",value:9,xp:5e3},10:{cr:"10",value:10,xp:5900},11:{cr:"11",value:11,xp:7200},12:{cr:"12",value:12,xp:8400},13:{cr:"13",value:13,xp:1e4},14:{cr:"14",value:14,xp:11500},15:{cr:"15",value:15,xp:13e3},16:{cr:"16",value:16,xp:15e3},17:{cr:"17",value:17,xp:18e3},18:{cr:"18",value:18,xp:2e4},19:{cr:"19",value:19,xp:22e3},20:{cr:"20",value:20,xp:25e3},21:{cr:"21",value:21,xp:33e3},22:{cr:"22",value:22,xp:41e3},23:{cr:"23",value:23,xp:5e4},24:{cr:"24",value:24,xp:62e3},25:{cr:"25",value:25,xp:75e3},26:{cr:"26",value:26,xp:9e4},27:{cr:"27",value:27,xp:105e3},28:{cr:"28",value:28,xp:12e4},29:{cr:"29",value:29,xp:135e3},30:{cr:"30",value:30,xp:155e3}};function Y(t){return Math.floor(((t!=null?t:10)-10)/2)}var gn={tiny:4,small:6,medium:8,large:10,huge:12,gargantuan:20},pa={str:"strength",dex:"dexterity",con:"constitution",int:"intelligence",wis:"wisdom",cha:"charisma"},Ne=class{constructor(e){this.monster=e;this.proficiency=this.getProf(this.monster);this.stats={str:this.monster.strPoints,dex:this.monster.dexPoints,con:this.monster.conPoints,int:this.monster.intPoints,wis:this.monster.wisPoints,cha:this.monster.chaPoints};this.modifiers={str:Y(this.stats.str),dex:Y(this.stats.dex),con:Y(this.stats.con),int:Y(this.stats.int),wis:Y(this.stats.wis),cha:Y(this.stats.cha)}}static parse(e){var i,s,o,l,u,a;let n=new Ne(e);return{image:null,name:e.name,source:"TetraCube",type:e.type,subtype:"",size:e.size,alignment:e.alignment,hp:(i=n.getHP(e))==null?void 0:i.hp,hit_dice:(s=n.getHP(e))==null?void 0:s.dice,ac:(u=(l=((o=e.ac)!=null?o:[])[0])==null?void 0:l.ac)!=null?u:"",speed:n.getSpeedString(e),stats:[e.strPoints,e.dexPoints,e.conPoints,e.intPoints,e.wisPoints,e.chaPoints],damage_immunities:n.parseImmune(e,"i"),damage_resistances:n.parseImmune(e,"r"),damage_vulnerabilities:n.parseImmune(e,"v"),condition_immunities:n.parseConditions(e),saves:n.getSaves(e),skillsaves:n.getSkills(e),senses:n.getSenses(e),languages:n.getLanguages(e),cr:(a=e.cr)!=null?a:"",traits:n.getTraits(e.abilities),actions:n.getTraits(e.actions),reactions:n.getTraits(e.reactions),legendary_actions:n.getTraits(e.legendaries),spells:n.getSpells(e.abilities)}}getHP(e){var n,r;if(e.customHP||e.hitDice&&/(\\d+) \\((.+)\\)/.test(e.hpText)){let[i,s,o]=(n=e.hpText.match(/(\\d+) \\((.+)\\)/))!=null?n:[];return{hp:s,dice:o}}if(e.hitDice){let i=Number(e.hitDice),s=(r=gn[e.size])!=null?r:gn.medium,o=this.modifiers.con,l=i*s/(2+.5)+o*i,u=o>0?"+":"-",a=o==0?"":` ${u} ${o*i}`;return{hp:l,dice:`${i}d${s}${a}`}}}getSpeedString(e){if(e.customSpeed)return e.speedDesc;let n=[e.speed+" ft."];return e.burrowSpeed>0&&n.push("burrow "+e.burrowSpeed+" ft."),e.climbSpeed>0&&n.push("climb "+e.climbSpeed+" ft."),e.flySpeed>0&&n.push("fly "+e.flySpeed+" ft."+(e.hover?" (hover)":"")),e.swimSpeed>0&&n.push("swim "+e.swimSpeed+" ft."),n.join(", ")}parseImmune(e,n){let r=[];"damagetypes"in e&&Array.isArray(e.damagetypes)&&r.push(...e.damagetypes.filter(s=>s.type==n).map(s=>s.name));let i=[];return"specialdamage"in e&&Array.isArray(e.specialdamage)&&i.push(...e.specialdamage.filter(s=>s.type==n).map(s=>s.name)),[r.join(", "),i.join(", ")].filter(s=>s&&s.length).join("; ")}getLanguages(e){let n=[],r=[],i=[];for(let s=0;s<e.languages.length;s++){let o=e.languages[s];o.speaks||o.speaks==null?r.push(o):i.push(o)}return r.length>0&&n.push([r.slice(0,r.length-2).map(s=>s.name).join(", "),r.slice(-1).map(s=>s.name)].filter(s=>s).join(" and ")),i.length>0&&n.push([i.slice(0,i.length-2).map(s=>s.name).join(", "),i.slice(-1).map(s=>s.name)].filter(s=>s).join(" and ")),e.telepathy>0&&n.push("telepathy "+e.telepathy+" ft."),n.length==0&&n.push("&mdash;"),n.join("; ")}getSenses(e){let n=[];e.blindsight>0&&n.push("blindsight "+e.blindsight+" ft."+(e.blind?" (blind beyond this radius)":"")),e.darkvision>0&&n.push("darkvision "+e.darkvision+" ft."),e.tremorsense>0&&n.push("tremorsense "+e.tremorsense+" ft."),e.truesight>0&&n.push("truesight "+e.truesight+" ft.");let r=e.skills.find(s=>s.name=="perception"),i=10+Y(e.wisPoints);return r!=null&&(i+=this.proficiency*("note"in r?2:1)),n.push("passive Perception "+i),n.join(", ")}transformString(e){return e.replace(/(_|\\*|\\s*>\\s*)/g,"").replace(/\\[MON(S)?\\]/g,`${this.monster.shortName&&this.monster.shortName.length?this.monster.shortName:this.monster.name}$1`).replace(/\\[(\\w+)\\]/g,(n,r)=>{if(r=r.toLowerCase(),!(r in this.modifiers))return n;let i=this.modifiers[r];return`${i>=0?"+":""}${i}`}).replace(/\\[(\\w+) (ATK|SAVE)\\s?(?:([+-])\\s?(\\d+))?\\]/g,(n,r,i="ATK",s="+",o=0)=>{if(r=r.toLowerCase(),!(r in this.modifiers))return n;o=s=="+"?Number(o):-Number(o);let l=(i=="ATK"?0:8)+this.modifiers[r]+this.proficiency+o;return`${l>=0?"+":""}${l}`}).replace(/\\[(\\w+)?\\s?(\\d*[dD]\\d+)\\s?(?:([+-])\\s?(\\d+))?\\]/g,(n,r,i,s="+",o=0)=>{var h;r=r.toLowerCase();let[,l=1,u]=(h=i.match(/(\\d*)[dD](\\d+)/))!=null?h:[];if(l||(l=1),!u)return n;o=s=="+"?Number(o):-Number(o),r in this.modifiers&&(o+=this.modifiers[r]);let a=Math.floor((u/2+.5)*l)+o,f=[`${l}d${u}`];return o&&o!=0&&(f.push(o>=0?"+":"-"),f.push(o)),`${a} (${f.join(" ")})`})}getTraits(e){return!e||!e.length?void 0:e.filter(r=>r.name!="Spellcasting").map(r=>({name:r.name,desc:this.transformString(r.desc)}))}getSpells(e){var i;if(!e.abilities||!e.abilities.length)return;let{desc:n}=(i=e.abilities.find(s=>s.name=="Spellcasting"))!=null?i:{};return n?this.transformString(n).trim().split(`\n`).filter(s=>s.length):void 0}getSaves(e){if(!("sthrows"in e)||!Array.isArray(e.sthrows)||!e.sthrows.length)return[];let n=this.proficiency,r=[];for(let i of e.sthrows){let s=i.name,o=Y(Number(e[`${s}Points`]));isNaN(o)||r.push({[pa[s]]:o+n})}return r}getSkills(e){if(!("skills"in e)||!Array.isArray(e.skills)||!e.skills.length)return[];let n=[],r=this.proficiency;for(let i of e.skills){let s=i.stat,o=Y(Number(e[`${s}Points`]));if(isNaN(o))continue;let l="note"in i;n.push({[i.name]:r+o+o*Number(l)})}return n}getProf(e){var r,i;let n=0;return e.cr=="*"&&(n=e.customProf),"cr"in e&&e.cr in hn&&(n=Math.max(Math.floor(2+(((i=(r=hn[e.cr])==null?void 0:r.value)!=null?i:0)-1)/4),2)),isNaN(Number(n))?0:Number(n)}parseConditions(e){if("conditions"in e&&Array.isArray(e.conditions))return e.conditions.map(n=>n.name).join(", ")}};async function dn(t){return new Promise((e,n)=>{let r=new FileReader,i=[];r.onload=async s=>{try{let o=JSON.parse(s.target.result),l;"monster"in o?l=o.monster:Array.isArray(o)?l=o:typeof o=="object"?l=[o]:n("Invalid monster JSON provided.");let u=[];for(let a of l)try{let f=Ne.parse(a);u.push(f)}catch(f){console.error(f);continue}e(u)}catch(o){console.error("reject!!!",o),n(o)}},r.readAsText(t)})}var tt=self;tt.onmessage=async t=>{if(!t.data)return;let{files:e,source:n}=t.data,r=[];for(let i of e)switch(n){case"5e":{let s=await pn(i);r.push(...s!=null?s:[]);break}case"critter":{let s=await mn(i);r.push(...s!=null?s:[]);break}case"improved":{let s=await fn(i);r.push(...s!=null?s:[]);break}case"appfile":{let s=await un(i);r.push(...s!=null?s:[]);break}case"tetra":{let s=await dn(i);r.push(...s!=null?s:[]);break}}tt.postMessage({monsters:r})};tt.addEventListener("unhandledrejection",function(t){throw t.reason});\n');
}

// src/importers/importer.ts
var import_obsidian = require("obsidian");

// src/utils/index.ts
function stringify(property, depth = 0, joiner = " ", parens = true) {
  const ret = [];
  if (depth == 5) {
    return "";
  }
  if (property == null)
    return ``;
  if (typeof property == "string")
    return property;
  if (typeof property == "number")
    return `${property}`;
  if (Array.isArray(property)) {
    ret.push(`${parens ? "(" : ""}${property.map((p) => stringify(p, depth++)).join(joiner)}${parens ? ")" : ""}`);
  } else if (typeof property == "object") {
    for (const value of Object.values(property)) {
      ret.push(stringify(value, depth++));
    }
  }
  return ret.join(" ");
}
function nanoid() {
  return "xyxyxyxyxyxy".replace(/[xy]/g, function(c) {
    var r = Math.random() * 16 | 0, v = c == "x" ? r : r & 3 | 8;
    return v.toString(16);
  });
}

// src/importers/importer.ts
var SourcePromptModal = class extends import_obsidian.Modal {
  constructor() {
    super(...arguments);
    this.saved = false;
  }
  display() {
    this.titleEl.createSpan({ text: "Set Sources" });
    new import_obsidian.Setting(this.contentEl).setName("A source could not be found for some imported monsters. Do you wish to manually add one?").addText((t) => {
      t.setPlaceholder("Unknown").onChange((v) => {
        this.source = v;
      });
    });
    this.buildButtons(this.contentEl);
  }
  buildButtons(el) {
    new import_obsidian.Setting(el).addButton((b) => b.setCta().setIcon("checkmark").setTooltip("Save").onClick(() => {
      this.saved = true;
      this.close();
    })).addExtraButton((b) => b.setIcon("cross").setTooltip("Cancel").onClick(() => {
      this.close();
    }));
  }
  onOpen() {
    this.display();
  }
};
var getSourceFromPrompt = async (app2) => {
  return new Promise((resolve) => {
    const modal = new SourcePromptModal(app2);
    modal.onClose = () => {
      if (!modal.saved)
        resolve(null);
      resolve(modal.source);
    };
    modal.open();
  });
};
var Importer = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.workers = /* @__PURE__ */ new Map();
  }
  async import(files, source) {
    return new Promise((resolve) => {
      const worker = new Worker2();
      const id = nanoid();
      this.workers.set(id, worker);
      worker.onmessage = async (event) => {
        const { monsters } = event.data ?? {
          monsters: []
        };
        if (monsters) {
          new import_obsidian.Notice(`Successfully imported ${monsters.length} Monsters`);
          const sourceless = monsters.filter((monster) => monster.source == "Unknown" || !monster.source);
          let source2;
          if (sourceless.length && (source2 = await getSourceFromPrompt(this.plugin.app))) {
            sourceless.forEach((monster) => monster.source = source2);
          }
        }
        worker.terminate();
        this.workers.delete(id);
        resolve(monsters);
      };
      worker.onerror = (e) => {
        new import_obsidian.Notice(`There was an error importing the file.

${e.message}`);
        worker.terminate();
        this.workers.delete(id);
        resolve([]);
      };
      worker.postMessage({ files, source });
    });
  }
};

// src/settings/settings.ts
var FantasyBestiarySettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
    this.results = [];
    this.displayed = new Set(this.plugin.sources);
    this.importer = new Importer(this.plugin);
  }
  async display() {
    try {
      let { containerEl } = this;
      containerEl.empty();
      containerEl.addClass("fantasy-bestiary-settings");
      containerEl.createEl("h2", { text: "Fantasy Bestiary Settings" });
      this.generateSystems(containerEl.createDiv());
      this.generateDownloads(containerEl.createDiv());
      this.generateImports(containerEl.createDiv());
      this.generateMonsters(containerEl.createDiv());
      const div = containerEl.createDiv("coffee");
      div.createEl("a", {
        href: "https://www.buymeacoffee.com/valentine195"
      }).createEl("img", {
        attr: {
          src: "https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=\u2615&slug=valentine195&button_colour=e3e7ef&font_colour=262626&font_family=Inter&outline_colour=262626&coffee_colour=ff0000"
        }
      });
    } catch (e) {
      console.error(e);
      new import_obsidian2.Notice("There was an error displaying the settings tab for Fantasy Bestiary.");
    }
  }
  generateSystems(containerEl) {
    containerEl.empty();
    new import_obsidian2.Setting(containerEl).setHeading().setName("Manage Game Systems");
    const systemsContainer = containerEl.createDiv("bestiary-additional-container");
    new import_obsidian2.Setting(systemsContainer).setDesc("Game systems allow you to switch between different groups of creatures as you're playing different games - if you're running a DnD 5e game and a PF2 game simultaneously, you won't need to have both sets of creatures available at all times.");
    let tempSys;
    let textSys;
    let butSys;
    new import_obsidian2.Setting(systemsContainer).setName("Add System").setDesc("Add a new game system.").addText((t) => {
      textSys = t;
      t.onChange((v) => {
        tempSys = v;
        if (!butSys)
          return;
        if (tempSys.length && !this.plugin.settings.systems.find((s) => s.name == tempSys)) {
          butSys.setDisabled(false);
        } else {
          butSys.setDisabled(true);
        }
      });
    }).addExtraButton((b) => {
      butSys = b;
      b.setIcon("plus").onClick(() => {
        if (tempSys?.length) {
          this.plugin.settings.systems.push({
            name: tempSys,
            id: nanoid()
          });
          this.generateSystems(containerEl);
        }
      });
    });
    new import_obsidian2.Setting(systemsContainer).setName("Manage Systems");
    const additional = systemsContainer.createDiv("additional");
    if (this.plugin.settings.systems.length) {
      const systems = this.plugin.settings.systems;
      for (let i = 0; i < systems.length; i++) {
        const system = systems[i];
        const setting = new import_obsidian2.Setting(additional).setName(system.name).addExtraButton((b) => b.setIcon("pencil").onClick(() => {
          setting.controlEl.empty();
          let tempSys2;
          let butSys2;
          setting.addText((t) => {
            t.setValue(system.name).onChange((v) => {
              tempSys2 = v;
              if (!butSys2)
                return;
              if (tempSys2.length && (tempSys2 == system.name || !this.plugin.settings.systems.find((s) => s.name == tempSys2))) {
                butSys2.setDisabled(false);
              } else {
                butSys2.setDisabled(true);
              }
            });
          }).addExtraButton((b2) => {
            butSys2 = b2;
            b2.setIcon("check").onClick(() => {
              system.name = tempSys2;
              this.generateSystems(containerEl);
            });
          }).addExtraButton((b2) => {
            b2.setIcon("cross").onClick(() => {
              this.generateSystems(containerEl);
            });
          });
        })).addExtraButton((b) => b.setIcon("cross").onClick(() => {
          this.plugin.settings.systems.splice(i, 1);
          this.generateSystems(containerEl);
        }));
      }
    } else {
      additional.createSpan({ text: "Create a system to see it here." }).addClasses(["create-new", "setting-item"]);
    }
  }
  async consumeImport(element, source) {
    const { files } = element;
    if (!files?.length)
      return;
    try {
      const monsters = await this.importer.import(files, source);
      if (monsters && monsters.length) {
      }
      this.display();
    } catch (e) {
    }
  }
  async generateDownloads(containerEl) {
    containerEl.empty();
    new import_obsidian2.Setting(containerEl).setHeading().setName("Download Creature Sets");
    const downloadContainer = containerEl.createDiv("bestiary-additional-container");
    new import_obsidian2.Setting(downloadContainer).setDesc("Some basic creature sets, such as the 5e SRD, are stored online and downloadable here.");
    const sets = await (0, import_obsidian2.requestUrl)("https://raw.githubusercontent.com/valentine195/fantasy-bestiary/master/sets/sets.json").json;
    const add = new import_obsidian2.Setting(downloadContainer).setName("Available Sets");
    let additional;
    let atLeastOne = false;
    const need = [];
    for (const set of sets) {
      if (!this.plugin.settings.downloaded.includes(set.id)) {
        need.push(set);
      } else {
        if (!atLeastOne) {
          atLeastOne = true;
          new import_obsidian2.Setting(downloadContainer).setName("Downloaded Sets");
          additional = downloadContainer.createDiv("additional");
        }
        new import_obsidian2.Setting(additional).setName(set.name).addExtraButton((b) => b.setIcon("cross"));
      }
    }
    if (need.length) {
      let chosen;
      add.addDropdown((d) => {
        d.onChange((v) => {
          chosen = v;
        });
        for (const set of need) {
          if (!chosen)
            chosen = set.id;
          d.addOption(set.id, set.name);
        }
      }).addExtraButton((b) => b.setIcon("download").setTooltip("Download Set").onClick(async () => {
        if (!chosen)
          return;
        b.setIcon("refresh-cw").setTooltip("downloading").extraSettingsEl.addClass("bestiary-downloading");
        try {
          const downloaded = await (0, import_obsidian2.requestUrl)(`https://raw.githubusercontent.com/valentine195/fantasy-bestiary/master/sets/${chosen}.json`).json;
          this.plugin.settings.downloaded.push(chosen);
        } catch (e) {
          const set = sets.find((s) => s.id == chosen);
          new import_obsidian2.Notice("There was an issue downloading " + set?.name);
          console.error(e);
        } finally {
          this.generateDownloads(containerEl);
        }
      })).setDesc("Download additional sets here!");
    } else {
      add.setDesc("No additional sets available for download at this time.");
    }
    add.addExtraButton((b) => b.setIcon("refresh-cw").setTooltip("Check for New Sets").onClick(() => this.generateDownloads(containerEl)));
  }
  generateImports(containerEl) {
    containerEl.empty();
    new import_obsidian2.Setting(containerEl).setHeading().setName("Import Homebrew Creatures");
    const importSettingsContainer = containerEl.createDiv("bestiary-additional-container");
    new import_obsidian2.Setting(importSettingsContainer).setDesc("Import creatures from creature files. Monsters are stored by name, so only the last creature by that name will be saved. This is destructive - any saved creature will be overwritten.");
    const importAdditional = importSettingsContainer.createDiv("additional");
    const importAppFile = new import_obsidian2.Setting(importAdditional).setName("Import DnDAppFile").setDesc("Only import content that you own.");
    const inputAppFile = createEl("input", {
      attr: {
        type: "file",
        name: "dndappfile",
        accept: ".xml",
        multiple: true
      }
    });
    inputAppFile.onchange = async () => this.consumeImport(inputAppFile, "appfile");
    importAppFile.addButton((b) => {
      b.setButtonText("Choose File(s)").setTooltip("Import DnDAppFile Data");
      b.buttonEl.addClass("bestiary-file-upload");
      b.buttonEl.appendChild(inputAppFile);
      b.onClick(() => inputAppFile.click());
    });
    const importImprovedInitiative = new import_obsidian2.Setting(importAdditional).setName("Import Improved Initiative Data").setDesc("Only import content that you own.");
    const inputImprovedInitiative = createEl("input", {
      attr: {
        type: "file",
        name: "improvedinitiative",
        accept: ".json",
        multiple: true
      }
    });
    inputImprovedInitiative.onchange = async () => this.consumeImport(inputImprovedInitiative, "improved");
    importImprovedInitiative.addButton((b) => {
      b.setButtonText("Choose File(s)").setTooltip("Import Improved Initiative Data");
      b.buttonEl.addClass("bestiary-file-upload");
      b.buttonEl.appendChild(inputImprovedInitiative);
      b.onClick(() => inputImprovedInitiative.click());
    });
    const importCritterDB = new import_obsidian2.Setting(importAdditional).setName("Import CritterDB Data").setDesc("Only import content that you own.");
    const inputCritterDB = createEl("input", {
      attr: {
        type: "file",
        name: "critterdb",
        accept: ".json",
        multiple: true
      }
    });
    inputCritterDB.onchange = async () => this.consumeImport(inputCritterDB, "critter");
    importCritterDB.addButton((b) => {
      b.setButtonText("Choose File(s)").setTooltip("Import CritterDB Data");
      b.buttonEl.addClass("bestiary-file-upload");
      b.buttonEl.appendChild(inputCritterDB);
      b.onClick(() => inputCritterDB.click());
    });
    const import5eTools = new import_obsidian2.Setting(importAdditional).setName("Import 5e.tools Data").setDesc("Only import content that you own.");
    const input5eTools = createEl("input", {
      attr: {
        type: "file",
        name: "fivetools",
        accept: ".json",
        multiple: true
      }
    });
    input5eTools.onchange = async () => this.consumeImport(input5eTools, "5e");
    import5eTools.addButton((b) => {
      b.setButtonText("Choose File(s)").setTooltip("Import 5e.tools Data");
      b.buttonEl.addClass("bestiary-file-upload");
      b.buttonEl.appendChild(input5eTools);
      b.onClick(() => input5eTools.click());
    });
    const importTetra = new import_obsidian2.Setting(importAdditional).setName("Import TetraCube Data").setDesc("Only import content that you own.");
    const inputTetra = createEl("input", {
      attr: {
        type: "file",
        name: "tetra",
        accept: ".json, .monster",
        multiple: true
      }
    });
    inputTetra.onchange = async () => this.consumeImport(inputTetra, "tetra");
    importTetra.addButton((b) => {
      b.setButtonText("Choose File(s)").setTooltip("Import TetraCube Data");
      b.buttonEl.addClass("bestiary-file-upload");
      b.buttonEl.appendChild(inputTetra);
      b.onClick(() => inputTetra.click());
    });
  }
  generateMonsters(containerEl) {
    containerEl.empty();
    new import_obsidian2.Setting(containerEl).setHeading().setName("Homebrew Creatures");
    const additionalContainer = containerEl.createDiv("bestiary-additional-container bestiary-monsters");
    new import_obsidian2.Setting(additionalContainer).setName("Add Creature").addButton((b) => {
      b.setIcon("plus-with-circle").onClick(() => {
      });
    });
    const ancestor = this.containerEl.closest(".fantasy-bestiary-settings");
    const { backgroundColor, paddingTop } = getComputedStyle(ancestor);
    const filters = additionalContainer.createDiv({
      cls: "bestiary-monster-filter",
      attr: {
        style: `--bestiary-filter-offset: ${paddingTop}; --bestiary-filter-bg: ${backgroundColor}`
      }
    });
    this.filter = new import_obsidian2.Setting(filters).setClass("bestiary-filter-container").addSearch((t) => {
      t.setPlaceholder("Search Creatures").onChange((0, import_obsidian2.debounce)((v) => {
        this.showSearchResults(additional, v);
      }, 100));
    }).addExtraButton((b) => {
      b.setIcon("trash").setTooltip("Delete All Filtered Creatures").onClick(() => {
        const modal = new ConfirmModal(this.results.length, this.plugin.app);
        modal.onClose = async () => {
          if (modal.saved) {
            await this.plugin.deleteMonsters(...this.results?.map((m) => m.name) ?? []);
            this.generateMonsters(containerEl);
          }
        };
        modal.open();
      });
    });
    this.setFilterDesc();
    const sourcesSetting = filters.createEl("details");
    sourcesSetting.createEl("summary", { text: "Filter Sources" });
    const list = sourcesSetting.createEl("ul", "contains-task-list task-list-inline markdown-preview-view");
    for (let source of this.plugin.sources) {
      const li = list.createEl("li", "task-list-item");
      li.createEl("input", {
        attr: {
          id: "input_" + source,
          checked: true
        },
        type: "checkbox",
        cls: "task-list-item-checkbox"
      }).onclick = (evt) => {
        const target = evt.target;
        if (target.checked) {
          this.displayed.add(source);
        } else {
          this.displayed.delete(source);
        }
        this.showSearchResults(additional, "");
      };
      li.createEl("label", {
        attr: {
          for: "input_" + source
        },
        text: source
      });
    }
    const additional = additionalContainer.createDiv("additional");
    if (!this.plugin.creatures?.size) {
      additional.createDiv({
        attr: {
          style: "display: flex; justify-content: center; padding-bottom: 18px;"
        }
      }).createSpan({
        text: "No saved creatures! Create one to see it here."
      });
      return;
    }
    setTimeout(() => this.showSearchResults(additional, ""));
  }
  setFilterDesc() {
    this.filter.setDesc(createFragment((e) => {
      e.createSpan({
        text: `Managing ${this.plugin.settings.monsters.length} homebrew creature${this.plugin.settings.monsters.length == 1 ? "" : "s"}.`
      });
      e.createEl("p", {
        attr: {
          style: "margin: 0;"
        }
      }).createEl("small", {
        text: `Displaying: ${this.results.length} homebrew creatures.`
      });
    }));
  }
  showSearchResults(additional, search) {
    additional.empty();
    for (const item of this.performFuzzySearch(search)) {
      const content = new import_obsidian2.Setting(additional).setName(item.name);
      let desc = null, needTooltip = false;
      if (Array.isArray(item.source)) {
        let source = item.source.slice(0, 4);
        if (item.source.length > 4) {
          source.push(`and ${item.source.length - 4} more`);
          needTooltip = true;
        }
        desc = stringify(source, 0, ", ", false);
      } else if (item.source) {
        desc = item.source;
      }
      content.setDesc(desc ?? "");
      if (needTooltip) {
        content.descEl.setAttr("aria-label", stringify(item.source ?? "", 0, ", ", false));
      }
      content.addExtraButton((b) => {
        b.setIcon("info").setTooltip("View").onClick(() => {
        });
      }).addExtraButton((b) => {
        b.setIcon("pencil").setTooltip("Edit").onClick(() => {
        });
      }).addExtraButton((b) => {
        b.setIcon("trash").setTooltip("Delete").onClick(async () => {
          await this.plugin.deleteMonsters(item.name);
          this.showSearchResults(additional, search);
        });
      });
    }
    this.setFilterDesc();
  }
  performFuzzySearch(input) {
    const results = [];
    for (const resource of this.plugin.sorted) {
      if (!resource.name && !resource.source)
        continue;
      if (typeof resource.source == "string" && !this.displayed.has(resource.source))
        continue;
      if (Array.isArray(resource.source) && !resource.source.find((s) => this.displayed.has(s)))
        continue;
      const search = (0, import_obsidian2.prepareSimpleSearch)(input);
      let result = search(resource.name);
      if (!result && resource.source != null) {
        result = search(stringify(resource.source));
      }
      if (result) {
        results.push(resource);
      }
    }
    this.results = results.slice(0, 100);
    return this.results;
  }
};
var ConfirmModal = class extends import_obsidian2.Modal {
  constructor(filtered, app2) {
    super(app2);
    this.filtered = filtered;
    this.saved = false;
  }
  onOpen() {
    this.titleEl.setText("Are you sure?");
    this.contentEl.createEl("p", {
      text: `This will delete ${this.filtered} creatures. This cannot be undone.`
    });
    new import_obsidian2.Setting(this.contentEl).setClass("no-border-top").addButton((b) => {
      b.setIcon("checkmark").setCta().onClick(() => {
        this.saved = true;
        this.close();
      });
    }).addExtraButton((b) => b.setIcon("cross").onClick(() => {
      this.saved = true;
      this.close();
    }));
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  downloaded: [],
  systems: [],
  monsters: []
};
var FantasyBestiary = class extends import_obsidian3.Plugin {
  constructor() {
    super(...arguments);
    this.sources = [];
    this.sorted = [];
  }
  deleteMonsters(...monsters) {
    throw new Error("Method not implemented.");
  }
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new FantasyBestiarySettingTab(app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vR2l0SHViL2ZhbnRhc3ktYmVzdGlhcnkvc3JjL21haW4udHMiLCAiLi4vLi4vLi4vLi4vR2l0SHViL2ZhbnRhc3ktYmVzdGlhcnkvc3JjL3NldHRpbmdzL3NldHRpbmdzLnRzIiwgImlubGluZS13b3JrZXI6X19pbmxpbmUtd29ya2VyIiwgIi4uLy4uLy4uLy4uL0dpdEh1Yi9mYW50YXN5LWJlc3RpYXJ5L3NyYy9pbXBvcnRlcnMvaW1wb3J0ZXIud29ya2VyLnRzIiwgIi4uLy4uLy4uLy4uL0dpdEh1Yi9mYW50YXN5LWJlc3RpYXJ5L3NyYy9pbXBvcnRlcnMvaW1wb3J0ZXIudHMiLCAiLi4vLi4vLi4vLi4vR2l0SHViL2ZhbnRhc3ktYmVzdGlhcnkvc3JjL3V0aWxzL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBQbHVnaW4gfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IE1vbnN0ZXIgfSBmcm9tIFwiLi9AdHlwZXNcIjtcbmltcG9ydCB7IEdhbWVTeXN0ZW0gfSBmcm9tIFwiLi9AdHlwZXMvc3lzdGVtc1wiO1xuaW1wb3J0IEZhbnRhc3lCZXN0aWFyeVNldHRpbmdUYWIgZnJvbSBcIi4vc2V0dGluZ3Mvc2V0dGluZ3NcIjtcblxuaW50ZXJmYWNlIEZhbnRhc3lCZXN0aWFyeVNldHRpbmdzIHtcblx0ZG93bmxvYWRlZDogc3RyaW5nW107XG5cdHN5c3RlbXM6IEdhbWVTeXN0ZW1bXTtcblx0bW9uc3RlcnM6IE1vbnN0ZXJbXTtcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogRmFudGFzeUJlc3RpYXJ5U2V0dGluZ3MgPSB7XG5cdGRvd25sb2FkZWQ6IFtdLFxuXHRzeXN0ZW1zOiBbXSxcblx0bW9uc3RlcnM6IFtdLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFudGFzeUJlc3RpYXJ5IGV4dGVuZHMgUGx1Z2luIHtcblx0c291cmNlczogc3RyaW5nW10gPSBbXTtcblx0Y3JlYXR1cmVzOiBNYXA8c3RyaW5nLCBNb25zdGVyPjtcblx0c29ydGVkOiBNb25zdGVyW10gPSBbXTtcblx0ZGVsZXRlTW9uc3RlcnMoLi4ubW9uc3RlcnM6IHN0cmluZ1tdKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG5cdH1cblx0c2V0dGluZ3M6IEZhbnRhc3lCZXN0aWFyeVNldHRpbmdzO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRmFudGFzeUJlc3RpYXJ5U2V0dGluZ1RhYihhcHAsIHRoaXMpKTtcblx0fVxuXG5cdG9udW5sb2FkKCkge31cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oXG5cdFx0XHR7fSxcblx0XHRcdERFRkFVTFRfU0VUVElOR1MsXG5cdFx0XHRhd2FpdCB0aGlzLmxvYWREYXRhKClcblx0XHQpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cbiIsICJpbXBvcnQge1xuXHRBcHAsXG5cdGRlYm91bmNlLFxuXHREcm9wZG93bkNvbXBvbmVudCxcblx0RXh0cmFCdXR0b25Db21wb25lbnQsXG5cdE1vZGFsLFxuXHROb3RpY2UsXG5cdFBsdWdpblNldHRpbmdUYWIsXG5cdHByZXBhcmVTaW1wbGVTZWFyY2gsXG5cdHJlcXVlc3RVcmwsXG5cdFNldHRpbmcsXG5cdFRleHRDb21wb25lbnQsXG59IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgTW9uc3RlciB9IGZyb20gXCJzcmMvQHR5cGVzXCI7XG5pbXBvcnQge1xuXHREb3dubG9hZGFibGVTZXQsXG5cdERvd25sb2FkYWJsZVNldERlZmluaXRpb24sXG59IGZyb20gXCJzcmMvQHR5cGVzL2Rvd25sb2Fkc1wiO1xuaW1wb3J0IEltcG9ydGVyIGZyb20gXCJzcmMvaW1wb3J0ZXJzL2ltcG9ydGVyXCI7XG5cbmltcG9ydCB0eXBlIEZhbnRhc3lCZXN0aWFyeSBmcm9tIFwic3JjL21haW5cIjtcbmltcG9ydCB7IG5hbm9pZCwgc3RyaW5naWZ5IH0gZnJvbSBcInNyYy91dGlsc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGYW50YXN5QmVzdGlhcnlTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdGZpbHRlcjogU2V0dGluZztcblx0aW1wb3J0ZXI6IEltcG9ydGVyO1xuXHRyZXN1bHRzOiBNb25zdGVyW10gPSBbXTtcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHByaXZhdGUgcGx1Z2luOiBGYW50YXN5QmVzdGlhcnkpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5pbXBvcnRlciA9IG5ldyBJbXBvcnRlcih0aGlzLnBsdWdpbik7XG5cdH1cblxuXHRhc3luYyBkaXNwbGF5KCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHRsZXQgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblxuXHRcdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdFx0Y29udGFpbmVyRWwuYWRkQ2xhc3MoXCJmYW50YXN5LWJlc3RpYXJ5LXNldHRpbmdzXCIpO1xuXG5cdFx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJGYW50YXN5IEJlc3RpYXJ5IFNldHRpbmdzXCIgfSk7XG5cblx0XHRcdHRoaXMuZ2VuZXJhdGVTeXN0ZW1zKGNvbnRhaW5lckVsLmNyZWF0ZURpdigpKTtcblx0XHRcdHRoaXMuZ2VuZXJhdGVEb3dubG9hZHMoY29udGFpbmVyRWwuY3JlYXRlRGl2KCkpO1xuXHRcdFx0dGhpcy5nZW5lcmF0ZUltcG9ydHMoY29udGFpbmVyRWwuY3JlYXRlRGl2KCkpO1xuXG5cdFx0XHR0aGlzLmdlbmVyYXRlTW9uc3RlcnMoY29udGFpbmVyRWwuY3JlYXRlRGl2KCkpO1xuXG5cdFx0XHRjb25zdCBkaXYgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoXCJjb2ZmZWVcIik7XG5cdFx0XHRkaXYuY3JlYXRlRWwoXCJhXCIsIHtcblx0XHRcdFx0aHJlZjogXCJodHRwczovL3d3dy5idXltZWFjb2ZmZWUuY29tL3ZhbGVudGluZTE5NVwiLFxuXHRcdFx0fSkuY3JlYXRlRWwoXCJpbWdcIiwge1xuXHRcdFx0XHRhdHRyOiB7XG5cdFx0XHRcdFx0c3JjOiBcImh0dHBzOi8vaW1nLmJ1eW1lYWNvZmZlZS5jb20vYnV0dG9uLWFwaS8/dGV4dD1CdXkgbWUgYSBjb2ZmZWUmZW1vamk9XHUyNjE1JnNsdWc9dmFsZW50aW5lMTk1JmJ1dHRvbl9jb2xvdXI9ZTNlN2VmJmZvbnRfY29sb3VyPTI2MjYyNiZmb250X2ZhbWlseT1JbnRlciZvdXRsaW5lX2NvbG91cj0yNjI2MjYmY29mZmVlX2NvbG91cj1mZjAwMDBcIixcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7XG5cdFx0XHRuZXcgTm90aWNlKFxuXHRcdFx0XHRcIlRoZXJlIHdhcyBhbiBlcnJvciBkaXNwbGF5aW5nIHRoZSBzZXR0aW5ncyB0YWIgZm9yIEZhbnRhc3kgQmVzdGlhcnkuXCJcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cdGdlbmVyYXRlU3lzdGVtcyhjb250YWluZXJFbDogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXRIZWFkaW5nKCkuc2V0TmFtZShcIk1hbmFnZSBHYW1lIFN5c3RlbXNcIik7XG5cdFx0Y29uc3Qgc3lzdGVtc0NvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdihcblx0XHRcdFwiYmVzdGlhcnktYWRkaXRpb25hbC1jb250YWluZXJcIlxuXHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhzeXN0ZW1zQ29udGFpbmVyKS5zZXREZXNjKFxuXHRcdFx0XCJHYW1lIHN5c3RlbXMgYWxsb3cgeW91IHRvIHN3aXRjaCBiZXR3ZWVuIGRpZmZlcmVudCBncm91cHMgb2YgY3JlYXR1cmVzIGFzIHlvdSdyZSBwbGF5aW5nIGRpZmZlcmVudCBnYW1lcyAtIGlmIHlvdSdyZSBydW5uaW5nIGEgRG5EIDVlIGdhbWUgYW5kIGEgUEYyIGdhbWUgc2ltdWx0YW5lb3VzbHksIHlvdSB3b24ndCBuZWVkIHRvIGhhdmUgYm90aCBzZXRzIG9mIGNyZWF0dXJlcyBhdmFpbGFibGUgYXQgYWxsIHRpbWVzLlwiXG5cdFx0KTtcblxuXHRcdGxldCB0ZW1wU3lzOiBzdHJpbmcgfCBudWxsO1xuXHRcdGxldCB0ZXh0U3lzOiBUZXh0Q29tcG9uZW50IHwgbnVsbDtcblx0XHRsZXQgYnV0U3lzOiBFeHRyYUJ1dHRvbkNvbXBvbmVudCB8IG51bGw7XG5cdFx0bmV3IFNldHRpbmcoc3lzdGVtc0NvbnRhaW5lcilcblx0XHRcdC5zZXROYW1lKFwiQWRkIFN5c3RlbVwiKVxuXHRcdFx0LnNldERlc2MoXCJBZGQgYSBuZXcgZ2FtZSBzeXN0ZW0uXCIpXG5cdFx0XHQuYWRkVGV4dCgodCkgPT4ge1xuXHRcdFx0XHR0ZXh0U3lzID0gdDtcblx0XHRcdFx0dC5vbkNoYW5nZSgodikgPT4ge1xuXHRcdFx0XHRcdHRlbXBTeXMgPSB2O1xuXHRcdFx0XHRcdGlmICghYnV0U3lzKSByZXR1cm47XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0dGVtcFN5cy5sZW5ndGggJiZcblx0XHRcdFx0XHRcdCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeXN0ZW1zLmZpbmQoXG5cdFx0XHRcdFx0XHRcdChzKSA9PiBzLm5hbWUgPT0gdGVtcFN5c1xuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0YnV0U3lzLnNldERpc2FibGVkKGZhbHNlKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YnV0U3lzLnNldERpc2FibGVkKHRydWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KVxuXHRcdFx0LmFkZEV4dHJhQnV0dG9uKChiKSA9PiB7XG5cdFx0XHRcdGJ1dFN5cyA9IGI7XG5cdFx0XHRcdGIuc2V0SWNvbihcInBsdXNcIikub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHRlbXBTeXM/Lmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3lzdGVtcy5wdXNoKHtcblx0XHRcdFx0XHRcdFx0bmFtZTogdGVtcFN5cyxcblx0XHRcdFx0XHRcdFx0aWQ6IG5hbm9pZCgpLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR0aGlzLmdlbmVyYXRlU3lzdGVtcyhjb250YWluZXJFbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoc3lzdGVtc0NvbnRhaW5lcikuc2V0TmFtZShcIk1hbmFnZSBTeXN0ZW1zXCIpO1xuXHRcdGNvbnN0IGFkZGl0aW9uYWwgPSBzeXN0ZW1zQ29udGFpbmVyLmNyZWF0ZURpdihcImFkZGl0aW9uYWxcIik7XG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnN5c3RlbXMubGVuZ3RoKSB7XG5cdFx0XHRjb25zdCBzeXN0ZW1zID0gdGhpcy5wbHVnaW4uc2V0dGluZ3Muc3lzdGVtcztcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3lzdGVtcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRjb25zdCBzeXN0ZW0gPSBzeXN0ZW1zW2ldO1xuXHRcdFx0XHRjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcoYWRkaXRpb25hbClcblx0XHRcdFx0XHQuc2V0TmFtZShzeXN0ZW0ubmFtZSlcblx0XHRcdFx0XHQuYWRkRXh0cmFCdXR0b24oKGIpID0+XG5cdFx0XHRcdFx0XHRiLnNldEljb24oXCJwZW5jaWxcIikub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmcuY29udHJvbEVsLmVtcHR5KCk7XG5cdFx0XHRcdFx0XHRcdGxldCB0ZW1wU3lzOiBzdHJpbmc7XG5cdFx0XHRcdFx0XHRcdGxldCBidXRTeXM6IEV4dHJhQnV0dG9uQ29tcG9uZW50O1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5nXG5cdFx0XHRcdFx0XHRcdFx0LmFkZFRleHQoKHQpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdHQuc2V0VmFsdWUoc3lzdGVtLm5hbWUpLm9uQ2hhbmdlKCh2KSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRlbXBTeXMgPSB2O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWJ1dFN5cykgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGVtcFN5cy5sZW5ndGggJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQodGVtcFN5cyA9PSBzeXN0ZW0ubmFtZSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IXRoaXMucGx1Z2luLnNldHRpbmdzLnN5c3RlbXMuZmluZChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KHMpID0+IHMubmFtZSA9PSB0ZW1wU3lzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRidXRTeXMuc2V0RGlzYWJsZWQoZmFsc2UpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJ1dFN5cy5zZXREaXNhYmxlZCh0cnVlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0XHQuYWRkRXh0cmFCdXR0b24oKGIpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdGJ1dFN5cyA9IGI7XG5cdFx0XHRcdFx0XHRcdFx0XHRiLnNldEljb24oXCJjaGVja1wiKS5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3lzdGVtLm5hbWUgPSB0ZW1wU3lzO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmdlbmVyYXRlU3lzdGVtcyhjb250YWluZXJFbCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHRcdC5hZGRFeHRyYUJ1dHRvbigoYikgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0Yi5zZXRJY29uKFwiY3Jvc3NcIikub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuZ2VuZXJhdGVTeXN0ZW1zKGNvbnRhaW5lckVsKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0LmFkZEV4dHJhQnV0dG9uKChiKSA9PlxuXHRcdFx0XHRcdFx0Yi5zZXRJY29uKFwiY3Jvc3NcIikub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnN5c3RlbXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLmdlbmVyYXRlU3lzdGVtcyhjb250YWluZXJFbCk7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFkZGl0aW9uYWxcblx0XHRcdFx0LmNyZWF0ZVNwYW4oeyB0ZXh0OiBcIkNyZWF0ZSBhIHN5c3RlbSB0byBzZWUgaXQgaGVyZS5cIiB9KVxuXHRcdFx0XHQuYWRkQ2xhc3NlcyhbXCJjcmVhdGUtbmV3XCIsIFwic2V0dGluZy1pdGVtXCJdKTtcblx0XHR9XG5cdH1cblx0YXN5bmMgY29uc3VtZUltcG9ydChlbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCBzb3VyY2U6IHN0cmluZykge1xuXHRcdGNvbnN0IHsgZmlsZXMgfSA9IGVsZW1lbnQ7XG5cdFx0aWYgKCFmaWxlcz8ubGVuZ3RoKSByZXR1cm47XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IG1vbnN0ZXJzID0gYXdhaXQgdGhpcy5pbXBvcnRlci5pbXBvcnQoZmlsZXMsIHNvdXJjZSk7XG5cdFx0XHRpZiAobW9uc3RlcnMgJiYgbW9uc3RlcnMubGVuZ3RoKSB7XG5cdFx0XHRcdC8qIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVNb25zdGVycyhtb25zdGVycyk7ICovXG5cdFx0XHR9XG5cdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHR9IGNhdGNoIChlKSB7fVxuXHR9XG5cdGFzeW5jIGdlbmVyYXRlRG93bmxvYWRzKGNvbnRhaW5lckVsOiBIVE1MRGl2RWxlbWVudCkge1xuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldEhlYWRpbmcoKS5zZXROYW1lKFwiRG93bmxvYWQgQ3JlYXR1cmUgU2V0c1wiKTtcblx0XHRjb25zdCBkb3dubG9hZENvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdihcblx0XHRcdFwiYmVzdGlhcnktYWRkaXRpb25hbC1jb250YWluZXJcIlxuXHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhkb3dubG9hZENvbnRhaW5lcikuc2V0RGVzYyhcblx0XHRcdFwiU29tZSBiYXNpYyBjcmVhdHVyZSBzZXRzLCBzdWNoIGFzIHRoZSA1ZSBTUkQsIGFyZSBzdG9yZWQgb25saW5lIGFuZCBkb3dubG9hZGFibGUgaGVyZS5cIlxuXHRcdCk7XG5cblx0XHRjb25zdCBzZXRzOiBEb3dubG9hZGFibGVTZXREZWZpbml0aW9uW10gPSBhd2FpdCByZXF1ZXN0VXJsKFxuXHRcdFx0XCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vdmFsZW50aW5lMTk1L2ZhbnRhc3ktYmVzdGlhcnkvbWFzdGVyL3NldHMvc2V0cy5qc29uXCJcblx0XHQpLmpzb247XG5cblx0XHRjb25zdCBhZGQgPSBuZXcgU2V0dGluZyhkb3dubG9hZENvbnRhaW5lcikuc2V0TmFtZShcIkF2YWlsYWJsZSBTZXRzXCIpO1xuXG5cdFx0bGV0IGFkZGl0aW9uYWw6IEhUTUxEaXZFbGVtZW50O1xuXHRcdGxldCBhdExlYXN0T25lID0gZmFsc2U7XG5cdFx0Y29uc3QgbmVlZDogRG93bmxvYWRhYmxlU2V0RGVmaW5pdGlvbltdID0gW107XG5cdFx0Zm9yIChjb25zdCBzZXQgb2Ygc2V0cykge1xuXHRcdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5kb3dubG9hZGVkLmluY2x1ZGVzKHNldC5pZCkpIHtcblx0XHRcdFx0bmVlZC5wdXNoKHNldCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIWF0TGVhc3RPbmUpIHtcblx0XHRcdFx0XHRhdExlYXN0T25lID0gdHJ1ZTtcblx0XHRcdFx0XHRuZXcgU2V0dGluZyhkb3dubG9hZENvbnRhaW5lcikuc2V0TmFtZShcIkRvd25sb2FkZWQgU2V0c1wiKTtcblx0XHRcdFx0XHRhZGRpdGlvbmFsID0gZG93bmxvYWRDb250YWluZXIuY3JlYXRlRGl2KFwiYWRkaXRpb25hbFwiKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRuZXcgU2V0dGluZyhhZGRpdGlvbmFsISlcblx0XHRcdFx0XHQuc2V0TmFtZShzZXQubmFtZSlcblx0XHRcdFx0XHQuYWRkRXh0cmFCdXR0b24oKGIpID0+IGIuc2V0SWNvbihcImNyb3NzXCIpKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKG5lZWQubGVuZ3RoKSB7XG5cdFx0XHRsZXQgY2hvc2VuOiBzdHJpbmc7XG5cdFx0XHRhZGQuYWRkRHJvcGRvd24oKGQpID0+IHtcblx0XHRcdFx0ZC5vbkNoYW5nZSgodikgPT4ge1xuXHRcdFx0XHRcdGNob3NlbiA9IHY7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHNldCBvZiBuZWVkKSB7XG5cdFx0XHRcdFx0aWYgKCFjaG9zZW4pIGNob3NlbiA9IHNldC5pZDtcblx0XHRcdFx0XHRkLmFkZE9wdGlvbihzZXQuaWQsIHNldC5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdFx0LmFkZEV4dHJhQnV0dG9uKChiKSA9PlxuXHRcdFx0XHRcdGJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwiZG93bmxvYWRcIilcblx0XHRcdFx0XHRcdC5zZXRUb29sdGlwKFwiRG93bmxvYWQgU2V0XCIpXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICghY2hvc2VuKSByZXR1cm47XG5cdFx0XHRcdFx0XHRcdGIuc2V0SWNvbihcInJlZnJlc2gtY3dcIilcblx0XHRcdFx0XHRcdFx0XHQuc2V0VG9vbHRpcChcImRvd25sb2FkaW5nXCIpXG5cdFx0XHRcdFx0XHRcdFx0LmV4dHJhU2V0dGluZ3NFbC5hZGRDbGFzcyhcblx0XHRcdFx0XHRcdFx0XHRcdFwiYmVzdGlhcnktZG93bmxvYWRpbmdcIlxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZG93bmxvYWRlZDogRG93bmxvYWRhYmxlU2V0ID1cblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHJlcXVlc3RVcmwoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vdmFsZW50aW5lMTk1L2ZhbnRhc3ktYmVzdGlhcnkvbWFzdGVyL3NldHMvJHtjaG9zZW59Lmpzb25gXG5cdFx0XHRcdFx0XHRcdFx0XHQpLmpzb247XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZG93bmxvYWRlZC5wdXNoKGNob3Nlbik7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBzZXQgPSBzZXRzLmZpbmQoKHMpID0+IHMuaWQgPT0gY2hvc2VuKTtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJUaGVyZSB3YXMgYW4gaXNzdWUgZG93bmxvYWRpbmcgXCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZXQ/Lm5hbWUgPz8gXCJ0aGUgY3JlYXR1cmUgc2V0XCIgKyBcIi5cIlxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlKTtcblx0XHRcdFx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmdlbmVyYXRlRG93bmxvYWRzKGNvbnRhaW5lckVsKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0KVxuXHRcdFx0XHQuc2V0RGVzYyhcIkRvd25sb2FkIGFkZGl0aW9uYWwgc2V0cyBoZXJlIVwiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWRkLnNldERlc2MoXG5cdFx0XHRcdFwiTm8gYWRkaXRpb25hbCBzZXRzIGF2YWlsYWJsZSBmb3IgZG93bmxvYWQgYXQgdGhpcyB0aW1lLlwiXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRhZGQuYWRkRXh0cmFCdXR0b24oKGIpID0+XG5cdFx0XHRiXG5cdFx0XHRcdC5zZXRJY29uKFwicmVmcmVzaC1jd1wiKVxuXHRcdFx0XHQuc2V0VG9vbHRpcChcIkNoZWNrIGZvciBOZXcgU2V0c1wiKVxuXHRcdFx0XHQub25DbGljaygoKSA9PiB0aGlzLmdlbmVyYXRlRG93bmxvYWRzKGNvbnRhaW5lckVsKSlcblx0XHQpO1xuXHR9XG5cdGdlbmVyYXRlSW1wb3J0cyhjb250YWluZXJFbDogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldEhlYWRpbmcoKVxuXHRcdFx0LnNldE5hbWUoXCJJbXBvcnQgSG9tZWJyZXcgQ3JlYXR1cmVzXCIpO1xuXHRcdGNvbnN0IGltcG9ydFNldHRpbmdzQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KFxuXHRcdFx0XCJiZXN0aWFyeS1hZGRpdGlvbmFsLWNvbnRhaW5lclwiXG5cdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGltcG9ydFNldHRpbmdzQ29udGFpbmVyKS5zZXREZXNjKFxuXHRcdFx0XCJJbXBvcnQgY3JlYXR1cmVzIGZyb20gY3JlYXR1cmUgZmlsZXMuIE1vbnN0ZXJzIGFyZSBzdG9yZWQgYnkgbmFtZSwgc28gb25seSB0aGUgbGFzdCBjcmVhdHVyZSBieSB0aGF0IG5hbWUgd2lsbCBiZSBzYXZlZC4gVGhpcyBpcyBkZXN0cnVjdGl2ZSAtIGFueSBzYXZlZCBjcmVhdHVyZSB3aWxsIGJlIG92ZXJ3cml0dGVuLlwiXG5cdFx0KTtcblxuXHRcdGNvbnN0IGltcG9ydEFkZGl0aW9uYWwgPVxuXHRcdFx0aW1wb3J0U2V0dGluZ3NDb250YWluZXIuY3JlYXRlRGl2KFwiYWRkaXRpb25hbFwiKTtcblx0XHRjb25zdCBpbXBvcnRBcHBGaWxlID0gbmV3IFNldHRpbmcoaW1wb3J0QWRkaXRpb25hbClcblx0XHRcdC5zZXROYW1lKFwiSW1wb3J0IERuREFwcEZpbGVcIilcblx0XHRcdC5zZXREZXNjKFwiT25seSBpbXBvcnQgY29udGVudCB0aGF0IHlvdSBvd24uXCIpO1xuXHRcdGNvbnN0IGlucHV0QXBwRmlsZSA9IGNyZWF0ZUVsKFwiaW5wdXRcIiwge1xuXHRcdFx0YXR0cjoge1xuXHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0bmFtZTogXCJkbmRhcHBmaWxlXCIsXG5cdFx0XHRcdGFjY2VwdDogXCIueG1sXCIsXG5cdFx0XHRcdG11bHRpcGxlOiB0cnVlLFxuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdGlucHV0QXBwRmlsZS5vbmNoYW5nZSA9IGFzeW5jICgpID0+XG5cdFx0XHR0aGlzLmNvbnN1bWVJbXBvcnQoaW5wdXRBcHBGaWxlLCBcImFwcGZpbGVcIik7XG5cblx0XHRpbXBvcnRBcHBGaWxlLmFkZEJ1dHRvbigoYikgPT4ge1xuXHRcdFx0Yi5zZXRCdXR0b25UZXh0KFwiQ2hvb3NlIEZpbGUocylcIikuc2V0VG9vbHRpcChcblx0XHRcdFx0XCJJbXBvcnQgRG5EQXBwRmlsZSBEYXRhXCJcblx0XHRcdCk7XG5cdFx0XHRiLmJ1dHRvbkVsLmFkZENsYXNzKFwiYmVzdGlhcnktZmlsZS11cGxvYWRcIik7XG5cdFx0XHRiLmJ1dHRvbkVsLmFwcGVuZENoaWxkKGlucHV0QXBwRmlsZSk7XG5cdFx0XHRiLm9uQ2xpY2soKCkgPT4gaW5wdXRBcHBGaWxlLmNsaWNrKCkpO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgaW1wb3J0SW1wcm92ZWRJbml0aWF0aXZlID0gbmV3IFNldHRpbmcoaW1wb3J0QWRkaXRpb25hbClcblx0XHRcdC5zZXROYW1lKFwiSW1wb3J0IEltcHJvdmVkIEluaXRpYXRpdmUgRGF0YVwiKVxuXHRcdFx0LnNldERlc2MoXCJPbmx5IGltcG9ydCBjb250ZW50IHRoYXQgeW91IG93bi5cIik7XG5cdFx0Y29uc3QgaW5wdXRJbXByb3ZlZEluaXRpYXRpdmUgPSBjcmVhdGVFbChcImlucHV0XCIsIHtcblx0XHRcdGF0dHI6IHtcblx0XHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRcdG5hbWU6IFwiaW1wcm92ZWRpbml0aWF0aXZlXCIsXG5cdFx0XHRcdGFjY2VwdDogXCIuanNvblwiLFxuXHRcdFx0XHRtdWx0aXBsZTogdHJ1ZSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHRpbnB1dEltcHJvdmVkSW5pdGlhdGl2ZS5vbmNoYW5nZSA9IGFzeW5jICgpID0+XG5cdFx0XHR0aGlzLmNvbnN1bWVJbXBvcnQoaW5wdXRJbXByb3ZlZEluaXRpYXRpdmUsIFwiaW1wcm92ZWRcIik7XG5cblx0XHRpbXBvcnRJbXByb3ZlZEluaXRpYXRpdmUuYWRkQnV0dG9uKChiKSA9PiB7XG5cdFx0XHRiLnNldEJ1dHRvblRleHQoXCJDaG9vc2UgRmlsZShzKVwiKS5zZXRUb29sdGlwKFxuXHRcdFx0XHRcIkltcG9ydCBJbXByb3ZlZCBJbml0aWF0aXZlIERhdGFcIlxuXHRcdFx0KTtcblx0XHRcdGIuYnV0dG9uRWwuYWRkQ2xhc3MoXCJiZXN0aWFyeS1maWxlLXVwbG9hZFwiKTtcblx0XHRcdGIuYnV0dG9uRWwuYXBwZW5kQ2hpbGQoaW5wdXRJbXByb3ZlZEluaXRpYXRpdmUpO1xuXHRcdFx0Yi5vbkNsaWNrKCgpID0+IGlucHV0SW1wcm92ZWRJbml0aWF0aXZlLmNsaWNrKCkpO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgaW1wb3J0Q3JpdHRlckRCID0gbmV3IFNldHRpbmcoaW1wb3J0QWRkaXRpb25hbClcblx0XHRcdC5zZXROYW1lKFwiSW1wb3J0IENyaXR0ZXJEQiBEYXRhXCIpXG5cdFx0XHQuc2V0RGVzYyhcIk9ubHkgaW1wb3J0IGNvbnRlbnQgdGhhdCB5b3Ugb3duLlwiKTtcblx0XHRjb25zdCBpbnB1dENyaXR0ZXJEQiA9IGNyZWF0ZUVsKFwiaW5wdXRcIiwge1xuXHRcdFx0YXR0cjoge1xuXHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0bmFtZTogXCJjcml0dGVyZGJcIixcblx0XHRcdFx0YWNjZXB0OiBcIi5qc29uXCIsXG5cdFx0XHRcdG11bHRpcGxlOiB0cnVlLFxuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdGlucHV0Q3JpdHRlckRCLm9uY2hhbmdlID0gYXN5bmMgKCkgPT5cblx0XHRcdHRoaXMuY29uc3VtZUltcG9ydChpbnB1dENyaXR0ZXJEQiwgXCJjcml0dGVyXCIpO1xuXG5cdFx0aW1wb3J0Q3JpdHRlckRCLmFkZEJ1dHRvbigoYikgPT4ge1xuXHRcdFx0Yi5zZXRCdXR0b25UZXh0KFwiQ2hvb3NlIEZpbGUocylcIikuc2V0VG9vbHRpcChcblx0XHRcdFx0XCJJbXBvcnQgQ3JpdHRlckRCIERhdGFcIlxuXHRcdFx0KTtcblx0XHRcdGIuYnV0dG9uRWwuYWRkQ2xhc3MoXCJiZXN0aWFyeS1maWxlLXVwbG9hZFwiKTtcblx0XHRcdGIuYnV0dG9uRWwuYXBwZW5kQ2hpbGQoaW5wdXRDcml0dGVyREIpO1xuXHRcdFx0Yi5vbkNsaWNrKCgpID0+IGlucHV0Q3JpdHRlckRCLmNsaWNrKCkpO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgaW1wb3J0NWVUb29scyA9IG5ldyBTZXR0aW5nKGltcG9ydEFkZGl0aW9uYWwpXG5cdFx0XHQuc2V0TmFtZShcIkltcG9ydCA1ZS50b29scyBEYXRhXCIpXG5cdFx0XHQuc2V0RGVzYyhcIk9ubHkgaW1wb3J0IGNvbnRlbnQgdGhhdCB5b3Ugb3duLlwiKTtcblx0XHRjb25zdCBpbnB1dDVlVG9vbHMgPSBjcmVhdGVFbChcImlucHV0XCIsIHtcblx0XHRcdGF0dHI6IHtcblx0XHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRcdG5hbWU6IFwiZml2ZXRvb2xzXCIsXG5cdFx0XHRcdGFjY2VwdDogXCIuanNvblwiLFxuXHRcdFx0XHRtdWx0aXBsZTogdHJ1ZSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHRpbnB1dDVlVG9vbHMub25jaGFuZ2UgPSBhc3luYyAoKSA9PlxuXHRcdFx0dGhpcy5jb25zdW1lSW1wb3J0KGlucHV0NWVUb29scywgXCI1ZVwiKTtcblxuXHRcdGltcG9ydDVlVG9vbHMuYWRkQnV0dG9uKChiKSA9PiB7XG5cdFx0XHRiLnNldEJ1dHRvblRleHQoXCJDaG9vc2UgRmlsZShzKVwiKS5zZXRUb29sdGlwKFxuXHRcdFx0XHRcIkltcG9ydCA1ZS50b29scyBEYXRhXCJcblx0XHRcdCk7XG5cdFx0XHRiLmJ1dHRvbkVsLmFkZENsYXNzKFwiYmVzdGlhcnktZmlsZS11cGxvYWRcIik7XG5cdFx0XHRiLmJ1dHRvbkVsLmFwcGVuZENoaWxkKGlucHV0NWVUb29scyk7XG5cdFx0XHRiLm9uQ2xpY2soKCkgPT4gaW5wdXQ1ZVRvb2xzLmNsaWNrKCkpO1xuXHRcdH0pO1xuXHRcdGNvbnN0IGltcG9ydFRldHJhID0gbmV3IFNldHRpbmcoaW1wb3J0QWRkaXRpb25hbClcblx0XHRcdC5zZXROYW1lKFwiSW1wb3J0IFRldHJhQ3ViZSBEYXRhXCIpXG5cdFx0XHQuc2V0RGVzYyhcIk9ubHkgaW1wb3J0IGNvbnRlbnQgdGhhdCB5b3Ugb3duLlwiKTtcblx0XHRjb25zdCBpbnB1dFRldHJhID0gY3JlYXRlRWwoXCJpbnB1dFwiLCB7XG5cdFx0XHRhdHRyOiB7XG5cdFx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0XHRuYW1lOiBcInRldHJhXCIsXG5cdFx0XHRcdGFjY2VwdDogXCIuanNvbiwgLm1vbnN0ZXJcIixcblx0XHRcdFx0bXVsdGlwbGU6IHRydWUsXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHRcdGlucHV0VGV0cmEub25jaGFuZ2UgPSBhc3luYyAoKSA9PlxuXHRcdFx0dGhpcy5jb25zdW1lSW1wb3J0KGlucHV0VGV0cmEsIFwidGV0cmFcIik7XG5cblx0XHRpbXBvcnRUZXRyYS5hZGRCdXR0b24oKGIpID0+IHtcblx0XHRcdGIuc2V0QnV0dG9uVGV4dChcIkNob29zZSBGaWxlKHMpXCIpLnNldFRvb2x0aXAoXG5cdFx0XHRcdFwiSW1wb3J0IFRldHJhQ3ViZSBEYXRhXCJcblx0XHRcdCk7XG5cdFx0XHRiLmJ1dHRvbkVsLmFkZENsYXNzKFwiYmVzdGlhcnktZmlsZS11cGxvYWRcIik7XG5cdFx0XHRiLmJ1dHRvbkVsLmFwcGVuZENoaWxkKGlucHV0VGV0cmEpO1xuXHRcdFx0Yi5vbkNsaWNrKCgpID0+IGlucHV0VGV0cmEuY2xpY2soKSk7XG5cdFx0fSk7XG5cdH1cblx0Z2VuZXJhdGVNb25zdGVycyhjb250YWluZXJFbDogSFRNTERpdkVsZW1lbnQpIHtcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXRIZWFkaW5nKCkuc2V0TmFtZShcIkhvbWVicmV3IENyZWF0dXJlc1wiKTtcblx0XHRjb25zdCBhZGRpdGlvbmFsQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KFxuXHRcdFx0XCJiZXN0aWFyeS1hZGRpdGlvbmFsLWNvbnRhaW5lciBiZXN0aWFyeS1tb25zdGVyc1wiXG5cdFx0KTtcblx0XHRuZXcgU2V0dGluZyhhZGRpdGlvbmFsQ29udGFpbmVyKVxuXHRcdFx0LnNldE5hbWUoXCJBZGQgQ3JlYXR1cmVcIilcblx0XHRcdC5hZGRCdXR0b24oKGIpID0+IHtcblx0XHRcdFx0Yi5zZXRJY29uKFwicGx1cy13aXRoLWNpcmNsZVwiKS5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHQvKiBjb25zdCBtb2RhbCA9IG5ldyBFZGl0TW9uc3Rlck1vZGFsKHRoaXMucGx1Z2luKTtcblx0XHRcdFx0XHRtb2RhbC5vbkNsb3NlID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5nZW5lcmF0ZU1vbnN0ZXJzKGNvbnRhaW5lckVsKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdG1vZGFsLm9wZW4oKTsgKi9cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdGNvbnN0IGFuY2VzdG9yID0gdGhpcy5jb250YWluZXJFbC5jbG9zZXN0KFxuXHRcdFx0XCIuZmFudGFzeS1iZXN0aWFyeS1zZXR0aW5nc1wiXG5cdFx0KSE7XG5cdFx0Y29uc3QgeyBiYWNrZ3JvdW5kQ29sb3IsIHBhZGRpbmdUb3AgfSA9IGdldENvbXB1dGVkU3R5bGUoYW5jZXN0b3IpO1xuXG5cdFx0Y29uc3QgZmlsdGVycyA9IGFkZGl0aW9uYWxDb250YWluZXIuY3JlYXRlRGl2KHtcblx0XHRcdGNsczogXCJiZXN0aWFyeS1tb25zdGVyLWZpbHRlclwiLFxuXHRcdFx0YXR0cjoge1xuXHRcdFx0XHRzdHlsZTogYC0tYmVzdGlhcnktZmlsdGVyLW9mZnNldDogJHtwYWRkaW5nVG9wfTsgLS1iZXN0aWFyeS1maWx0ZXItYmc6ICR7YmFja2dyb3VuZENvbG9yfWAsXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHRcdHRoaXMuZmlsdGVyID0gbmV3IFNldHRpbmcoZmlsdGVycylcblx0XHRcdC5zZXRDbGFzcyhcImJlc3RpYXJ5LWZpbHRlci1jb250YWluZXJcIilcblxuXHRcdFx0LmFkZFNlYXJjaCgodCkgPT4ge1xuXHRcdFx0XHR0LnNldFBsYWNlaG9sZGVyKFwiU2VhcmNoIENyZWF0dXJlc1wiKS5vbkNoYW5nZShcblx0XHRcdFx0XHRkZWJvdW5jZSgodikgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5zaG93U2VhcmNoUmVzdWx0cyhhZGRpdGlvbmFsLCB2KTtcblx0XHRcdFx0XHR9LCAxMDApXG5cdFx0XHRcdCk7XG5cdFx0XHR9KVxuXHRcdFx0LmFkZEV4dHJhQnV0dG9uKChiKSA9PiB7XG5cdFx0XHRcdGIuc2V0SWNvbihcInRyYXNoXCIpXG5cdFx0XHRcdFx0LnNldFRvb2x0aXAoXCJEZWxldGUgQWxsIEZpbHRlcmVkIENyZWF0dXJlc1wiKVxuXHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IG1vZGFsID0gbmV3IENvbmZpcm1Nb2RhbChcblx0XHRcdFx0XHRcdFx0dGhpcy5yZXN1bHRzLmxlbmd0aCxcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uYXBwXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0bW9kYWwub25DbG9zZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKG1vZGFsLnNhdmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uZGVsZXRlTW9uc3RlcnMoXG5cdFx0XHRcdFx0XHRcdFx0XHQuLi4odGhpcy5yZXN1bHRzPy5tYXAoKG0pID0+IG0ubmFtZSkgPz8gW10pXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmdlbmVyYXRlTW9uc3RlcnMoY29udGFpbmVyRWwpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0bW9kYWwub3BlbigpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0dGhpcy5zZXRGaWx0ZXJEZXNjKCk7XG5cdFx0Y29uc3Qgc291cmNlc1NldHRpbmcgPSBmaWx0ZXJzLmNyZWF0ZUVsKFwiZGV0YWlsc1wiKTtcblx0XHRzb3VyY2VzU2V0dGluZy5jcmVhdGVFbChcInN1bW1hcnlcIiwgeyB0ZXh0OiBcIkZpbHRlciBTb3VyY2VzXCIgfSk7XG5cdFx0Y29uc3QgbGlzdCA9IHNvdXJjZXNTZXR0aW5nLmNyZWF0ZUVsKFxuXHRcdFx0XCJ1bFwiLFxuXHRcdFx0XCJjb250YWlucy10YXNrLWxpc3QgdGFzay1saXN0LWlubGluZSBtYXJrZG93bi1wcmV2aWV3LXZpZXdcIlxuXHRcdCk7XG5cblx0XHRmb3IgKGxldCBzb3VyY2Ugb2YgdGhpcy5wbHVnaW4uc291cmNlcykge1xuXHRcdFx0Y29uc3QgbGkgPSBsaXN0LmNyZWF0ZUVsKFwibGlcIiwgXCJ0YXNrLWxpc3QtaXRlbVwiKTtcblx0XHRcdGxpLmNyZWF0ZUVsKFwiaW5wdXRcIiwge1xuXHRcdFx0XHRhdHRyOiB7XG5cdFx0XHRcdFx0aWQ6IFwiaW5wdXRfXCIgKyBzb3VyY2UsXG5cdFx0XHRcdFx0Y2hlY2tlZDogdHJ1ZSxcblx0XHRcdFx0fSxcblx0XHRcdFx0dHlwZTogXCJjaGVja2JveFwiLFxuXHRcdFx0XHRjbHM6IFwidGFzay1saXN0LWl0ZW0tY2hlY2tib3hcIixcblx0XHRcdH0pLm9uY2xpY2sgPSAoZXZ0KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcblx0XHRcdFx0aWYgKHRhcmdldC5jaGVja2VkKSB7XG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5ZWQuYWRkKHNvdXJjZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5ZWQuZGVsZXRlKHNvdXJjZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5zaG93U2VhcmNoUmVzdWx0cyhhZGRpdGlvbmFsLCBcIlwiKTtcblx0XHRcdH07XG5cdFx0XHRsaS5jcmVhdGVFbChcImxhYmVsXCIsIHtcblx0XHRcdFx0YXR0cjoge1xuXHRcdFx0XHRcdGZvcjogXCJpbnB1dF9cIiArIHNvdXJjZSxcblx0XHRcdFx0fSxcblx0XHRcdFx0dGV4dDogc291cmNlLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGNvbnN0IGFkZGl0aW9uYWwgPSBhZGRpdGlvbmFsQ29udGFpbmVyLmNyZWF0ZURpdihcImFkZGl0aW9uYWxcIik7XG5cdFx0aWYgKCF0aGlzLnBsdWdpbi5jcmVhdHVyZXM/LnNpemUpIHtcblx0XHRcdGFkZGl0aW9uYWxcblx0XHRcdFx0LmNyZWF0ZURpdih7XG5cdFx0XHRcdFx0YXR0cjoge1xuXHRcdFx0XHRcdFx0c3R5bGU6IFwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IHBhZGRpbmctYm90dG9tOiAxOHB4O1wiLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jcmVhdGVTcGFuKHtcblx0XHRcdFx0XHR0ZXh0OiBcIk5vIHNhdmVkIGNyZWF0dXJlcyEgQ3JlYXRlIG9uZSB0byBzZWUgaXQgaGVyZS5cIixcblx0XHRcdFx0fSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zaG93U2VhcmNoUmVzdWx0cyhhZGRpdGlvbmFsLCBcIlwiKSk7XG5cdH1cblx0c2V0RmlsdGVyRGVzYygpIHtcblx0XHR0aGlzLmZpbHRlci5zZXREZXNjKFxuXHRcdFx0Y3JlYXRlRnJhZ21lbnQoKGUpID0+IHtcblx0XHRcdFx0ZS5jcmVhdGVTcGFuKHtcblx0XHRcdFx0XHR0ZXh0OiBgTWFuYWdpbmcgJHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1vbnN0ZXJzLmxlbmd0aFxuXHRcdFx0XHRcdH0gaG9tZWJyZXcgY3JlYXR1cmUke1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubW9uc3RlcnMubGVuZ3RoID09IDEgPyBcIlwiIDogXCJzXCJcblx0XHRcdFx0XHR9LmAsXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRlLmNyZWF0ZUVsKFwicFwiLCB7XG5cdFx0XHRcdFx0YXR0cjoge1xuXHRcdFx0XHRcdFx0c3R5bGU6IFwibWFyZ2luOiAwO1wiLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pLmNyZWF0ZUVsKFwic21hbGxcIiwge1xuXHRcdFx0XHRcdHRleHQ6IGBEaXNwbGF5aW5nOiAke3RoaXMucmVzdWx0cy5sZW5ndGh9IGhvbWVicmV3IGNyZWF0dXJlcy5gLFxuXHRcdFx0XHR9KTtcblx0XHRcdH0pXG5cdFx0KTtcblx0fVxuXHRzaG93U2VhcmNoUmVzdWx0cyhhZGRpdGlvbmFsOiBIVE1MRGl2RWxlbWVudCwgc2VhcmNoOiBzdHJpbmcpIHtcblx0XHRhZGRpdGlvbmFsLmVtcHR5KCk7XG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIHRoaXMucGVyZm9ybUZ1enp5U2VhcmNoKHNlYXJjaCkpIHtcblx0XHRcdGNvbnN0IGNvbnRlbnQgPSBuZXcgU2V0dGluZyhhZGRpdGlvbmFsKS5zZXROYW1lKGl0ZW0ubmFtZSk7XG5cdFx0XHRsZXQgZGVzYzogc3RyaW5nIHwgbnVsbCA9IG51bGwsXG5cdFx0XHRcdG5lZWRUb29sdGlwID0gZmFsc2U7XG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShpdGVtLnNvdXJjZSkpIHtcblx0XHRcdFx0bGV0IHNvdXJjZSA9IGl0ZW0uc291cmNlLnNsaWNlKDAsIDQpO1xuXHRcdFx0XHRpZiAoaXRlbS5zb3VyY2UubGVuZ3RoID4gNCkge1xuXHRcdFx0XHRcdHNvdXJjZS5wdXNoKGBhbmQgJHtpdGVtLnNvdXJjZS5sZW5ndGggLSA0fSBtb3JlYCk7XG5cdFx0XHRcdFx0bmVlZFRvb2x0aXAgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRlc2MgPSBzdHJpbmdpZnkoc291cmNlLCAwLCBcIiwgXCIsIGZhbHNlKTtcblx0XHRcdH0gZWxzZSBpZiAoaXRlbS5zb3VyY2UpIHtcblx0XHRcdFx0ZGVzYyA9IGl0ZW0uc291cmNlO1xuXHRcdFx0fVxuXHRcdFx0Y29udGVudC5zZXREZXNjKGRlc2MgPz8gXCJcIik7XG5cdFx0XHRpZiAobmVlZFRvb2x0aXApIHtcblx0XHRcdFx0Y29udGVudC5kZXNjRWwuc2V0QXR0cihcblx0XHRcdFx0XHRcImFyaWEtbGFiZWxcIixcblx0XHRcdFx0XHRzdHJpbmdpZnkoaXRlbS5zb3VyY2UgPz8gXCJcIiwgMCwgXCIsIFwiLCBmYWxzZSlcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGNvbnRlbnRcblx0XHRcdFx0LmFkZEV4dHJhQnV0dG9uKChiKSA9PiB7XG5cdFx0XHRcdFx0Yi5zZXRJY29uKFwiaW5mb1wiKVxuXHRcdFx0XHRcdFx0LnNldFRvb2x0aXAoXCJWaWV3XCIpXG5cdFx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdC8qIGNvbnN0IG1vZGFsID0gbmV3IFZpZXdNb25zdGVyTW9kYWwoXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4sXG5cdFx0XHRcdFx0XHRcdFx0aXRlbVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRtb2RhbC5vcGVuKCk7ICovXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmFkZEV4dHJhQnV0dG9uKChiKSA9PiB7XG5cdFx0XHRcdFx0Yi5zZXRJY29uKFwicGVuY2lsXCIpXG5cdFx0XHRcdFx0XHQuc2V0VG9vbHRpcChcIkVkaXRcIilcblx0XHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0LyogY29uc3QgbW9kYWwgPSBuZXcgRWRpdE1vbnN0ZXJNb2RhbChcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbixcblx0XHRcdFx0XHRcdFx0XHRpdGVtXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdG1vZGFsLm9wZW4oKTtcblx0XHRcdFx0XHRcdFx0bW9kYWwub25DbG9zZSA9ICgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNob3dTZWFyY2hSZXN1bHRzKGFkZGl0aW9uYWwsIHNlYXJjaCk7XG5cdFx0XHRcdFx0XHRcdH07ICovXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmFkZEV4dHJhQnV0dG9uKChiKSA9PiB7XG5cdFx0XHRcdFx0Yi5zZXRJY29uKFwidHJhc2hcIilcblx0XHRcdFx0XHRcdC5zZXRUb29sdGlwKFwiRGVsZXRlXCIpXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmRlbGV0ZU1vbnN0ZXJzKGl0ZW0ubmFtZSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuc2hvd1NlYXJjaFJlc3VsdHMoYWRkaXRpb25hbCwgc2VhcmNoKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9XG5cdFx0dGhpcy5zZXRGaWx0ZXJEZXNjKCk7XG5cdH1cblx0ZGlzcGxheWVkOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQodGhpcy5wbHVnaW4uc291cmNlcyk7XG5cdHBlcmZvcm1GdXp6eVNlYXJjaChpbnB1dDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgcmVzdWx0czogTW9uc3RlcltdID0gW107XG5cdFx0Zm9yIChjb25zdCByZXNvdXJjZSBvZiB0aGlzLnBsdWdpbi5zb3J0ZWQpIHtcblx0XHRcdGlmICghcmVzb3VyY2UubmFtZSAmJiAhcmVzb3VyY2Uuc291cmNlKSBjb250aW51ZTtcblx0XHRcdGlmIChcblx0XHRcdFx0dHlwZW9mIHJlc291cmNlLnNvdXJjZSA9PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCF0aGlzLmRpc3BsYXllZC5oYXMocmVzb3VyY2Uuc291cmNlKVxuXHRcdFx0KVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdGlmIChcblx0XHRcdFx0QXJyYXkuaXNBcnJheShyZXNvdXJjZS5zb3VyY2UpICYmXG5cdFx0XHRcdCFyZXNvdXJjZS5zb3VyY2UuZmluZCgoczogc3RyaW5nKSA9PiB0aGlzLmRpc3BsYXllZC5oYXMocykpXG5cdFx0XHQpXG5cdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRjb25zdCBzZWFyY2ggPSBwcmVwYXJlU2ltcGxlU2VhcmNoKGlucHV0KTtcblx0XHRcdGxldCByZXN1bHQgPSBzZWFyY2gocmVzb3VyY2UubmFtZSk7XG5cdFx0XHRpZiAoIXJlc3VsdCAmJiByZXNvdXJjZS5zb3VyY2UgIT0gbnVsbCkge1xuXHRcdFx0XHRyZXN1bHQgPSBzZWFyY2goc3RyaW5naWZ5KHJlc291cmNlLnNvdXJjZSkpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJlc3VsdCkge1xuXHRcdFx0XHRyZXN1bHRzLnB1c2gocmVzb3VyY2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLnJlc3VsdHMgPSByZXN1bHRzLnNsaWNlKDAsIDEwMCk7XG5cdFx0cmV0dXJuIHRoaXMucmVzdWx0cztcblx0fVxufVxuXG5jbGFzcyBDb25maXJtTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdHNhdmVkOiBib29sZWFuID0gZmFsc2U7XG5cdGNvbnN0cnVjdG9yKHB1YmxpYyBmaWx0ZXJlZDogbnVtYmVyLCBhcHA6IEFwcCkge1xuXHRcdHN1cGVyKGFwcCk7XG5cdH1cblx0b25PcGVuKCkge1xuXHRcdHRoaXMudGl0bGVFbC5zZXRUZXh0KFwiQXJlIHlvdSBzdXJlP1wiKTtcblx0XHR0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcInBcIiwge1xuXHRcdFx0dGV4dDogYFRoaXMgd2lsbCBkZWxldGUgJHt0aGlzLmZpbHRlcmVkfSBjcmVhdHVyZXMuIFRoaXMgY2Fubm90IGJlIHVuZG9uZS5gLFxuXHRcdH0pO1xuXHRcdG5ldyBTZXR0aW5nKHRoaXMuY29udGVudEVsKVxuXHRcdFx0LnNldENsYXNzKFwibm8tYm9yZGVyLXRvcFwiKVxuXHRcdFx0LmFkZEJ1dHRvbigoYikgPT4ge1xuXHRcdFx0XHRiLnNldEljb24oXCJjaGVja21hcmtcIilcblx0XHRcdFx0XHQuc2V0Q3RhKClcblx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnNhdmVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pXG5cdFx0XHQuYWRkRXh0cmFCdXR0b24oKGIpID0+XG5cdFx0XHRcdGIuc2V0SWNvbihcImNyb3NzXCIpLm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuc2F2ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cdH1cbn1cbiIsICJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlubGluZVdvcmtlcihzY3JpcHRUZXh0KSB7XG4gIGxldCBibG9iID0gbmV3IEJsb2IoW3NjcmlwdFRleHRdLCB7dHlwZTogJ3RleHQvamF2YXNjcmlwdCd9KTtcbiAgbGV0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gIGxldCB3b3JrZXIgPSBuZXcgV29ya2VyKHVybCk7XG4gIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgcmV0dXJuIHdvcmtlcjtcbn1cbiIsICJpbXBvcnQgaW5saW5lV29ya2VyIGZyb20gJ19faW5saW5lLXdvcmtlcidcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdvcmtlcigpIHtcbiAgcmV0dXJuIGlubGluZVdvcmtlcihcInZhciB5bj1PYmplY3QuY3JlYXRlO3ZhciBBdD1PYmplY3QuZGVmaW5lUHJvcGVydHk7dmFyIFJuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7dmFyIENuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO3ZhciBFbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YsX249T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgYmU9KHQsZSk9PigpPT4oZXx8dCgoZT17ZXhwb3J0czp7fX0pLmV4cG9ydHMsZSksZS5leHBvcnRzKTt2YXIgQW49KHQsZSxuLHIpPT57aWYoZSYmdHlwZW9mIGU9PVxcXCJvYmplY3RcXFwifHx0eXBlb2YgZT09XFxcImZ1bmN0aW9uXFxcIilmb3IobGV0IGkgb2YgQ24oZSkpIV9uLmNhbGwodCxpKSYmaSE9PW4mJkF0KHQsaSx7Z2V0OigpPT5lW2ldLGVudW1lcmFibGU6IShyPVJuKGUsaSkpfHxyLmVudW1lcmFibGV9KTtyZXR1cm4gdH07dmFyIFRuPSh0LGUsbik9PihuPXQhPW51bGw/eW4oRW4odCkpOnt9LEFuKGV8fCF0fHwhdC5fX2VzTW9kdWxlP0F0KG4sXFxcImRlZmF1bHRcXFwiLHt2YWx1ZTp0LGVudW1lcmFibGU6ITB9KTpuLHQpKTt2YXIgTnQ9YmUoVHQ9PntUdC5lbnRpdHlNYXA9e2x0OlxcXCI8XFxcIixndDpcXFwiPlxcXCIsYW1wOlxcXCImXFxcIixxdW90OidcXFwiJyxhcG9zOlxcXCInXFxcIixBZ3JhdmU6XFxcIlxcXFx4QzBcXFwiLEFhY3V0ZTpcXFwiXFxcXHhDMVxcXCIsQWNpcmM6XFxcIlxcXFx4QzJcXFwiLEF0aWxkZTpcXFwiXFxcXHhDM1xcXCIsQXVtbDpcXFwiXFxcXHhDNFxcXCIsQXJpbmc6XFxcIlxcXFx4QzVcXFwiLEFFbGlnOlxcXCJcXFxceEM2XFxcIixDY2VkaWw6XFxcIlxcXFx4QzdcXFwiLEVncmF2ZTpcXFwiXFxcXHhDOFxcXCIsRWFjdXRlOlxcXCJcXFxceEM5XFxcIixFY2lyYzpcXFwiXFxcXHhDQVxcXCIsRXVtbDpcXFwiXFxcXHhDQlxcXCIsSWdyYXZlOlxcXCJcXFxceENDXFxcIixJYWN1dGU6XFxcIlxcXFx4Q0RcXFwiLEljaXJjOlxcXCJcXFxceENFXFxcIixJdW1sOlxcXCJcXFxceENGXFxcIixFVEg6XFxcIlxcXFx4RDBcXFwiLE50aWxkZTpcXFwiXFxcXHhEMVxcXCIsT2dyYXZlOlxcXCJcXFxceEQyXFxcIixPYWN1dGU6XFxcIlxcXFx4RDNcXFwiLE9jaXJjOlxcXCJcXFxceEQ0XFxcIixPdGlsZGU6XFxcIlxcXFx4RDVcXFwiLE91bWw6XFxcIlxcXFx4RDZcXFwiLE9zbGFzaDpcXFwiXFxcXHhEOFxcXCIsVWdyYXZlOlxcXCJcXFxceEQ5XFxcIixVYWN1dGU6XFxcIlxcXFx4REFcXFwiLFVjaXJjOlxcXCJcXFxceERCXFxcIixVdW1sOlxcXCJcXFxceERDXFxcIixZYWN1dGU6XFxcIlxcXFx4RERcXFwiLFRIT1JOOlxcXCJcXFxceERFXFxcIixzemxpZzpcXFwiXFxcXHhERlxcXCIsYWdyYXZlOlxcXCJcXFxceEUwXFxcIixhYWN1dGU6XFxcIlxcXFx4RTFcXFwiLGFjaXJjOlxcXCJcXFxceEUyXFxcIixhdGlsZGU6XFxcIlxcXFx4RTNcXFwiLGF1bWw6XFxcIlxcXFx4RTRcXFwiLGFyaW5nOlxcXCJcXFxceEU1XFxcIixhZWxpZzpcXFwiXFxcXHhFNlxcXCIsY2NlZGlsOlxcXCJcXFxceEU3XFxcIixlZ3JhdmU6XFxcIlxcXFx4RThcXFwiLGVhY3V0ZTpcXFwiXFxcXHhFOVxcXCIsZWNpcmM6XFxcIlxcXFx4RUFcXFwiLGV1bWw6XFxcIlxcXFx4RUJcXFwiLGlncmF2ZTpcXFwiXFxcXHhFQ1xcXCIsaWFjdXRlOlxcXCJcXFxceEVEXFxcIixpY2lyYzpcXFwiXFxcXHhFRVxcXCIsaXVtbDpcXFwiXFxcXHhFRlxcXCIsZXRoOlxcXCJcXFxceEYwXFxcIixudGlsZGU6XFxcIlxcXFx4RjFcXFwiLG9ncmF2ZTpcXFwiXFxcXHhGMlxcXCIsb2FjdXRlOlxcXCJcXFxceEYzXFxcIixvY2lyYzpcXFwiXFxcXHhGNFxcXCIsb3RpbGRlOlxcXCJcXFxceEY1XFxcIixvdW1sOlxcXCJcXFxceEY2XFxcIixvc2xhc2g6XFxcIlxcXFx4RjhcXFwiLHVncmF2ZTpcXFwiXFxcXHhGOVxcXCIsdWFjdXRlOlxcXCJcXFxceEZBXFxcIix1Y2lyYzpcXFwiXFxcXHhGQlxcXCIsdXVtbDpcXFwiXFxcXHhGQ1xcXCIseWFjdXRlOlxcXCJcXFxceEZEXFxcIix0aG9ybjpcXFwiXFxcXHhGRVxcXCIseXVtbDpcXFwiXFxcXHhGRlxcXCIsbmJzcDpcXFwiXFxcXHhBMFxcXCIsaWV4Y2w6XFxcIlxcXFx4QTFcXFwiLGNlbnQ6XFxcIlxcXFx4QTJcXFwiLHBvdW5kOlxcXCJcXFxceEEzXFxcIixjdXJyZW46XFxcIlxcXFx4QTRcXFwiLHllbjpcXFwiXFxcXHhBNVxcXCIsYnJ2YmFyOlxcXCJcXFxceEE2XFxcIixzZWN0OlxcXCJcXFxceEE3XFxcIix1bWw6XFxcIlxcXFx4QThcXFwiLGNvcHk6XFxcIlxcXFx4QTlcXFwiLG9yZGY6XFxcIlxcXFx4QUFcXFwiLGxhcXVvOlxcXCJcXFxceEFCXFxcIixub3Q6XFxcIlxcXFx4QUNcXFwiLHNoeTpcXFwiXFxcXHhBRFxcXFx4QURcXFwiLHJlZzpcXFwiXFxcXHhBRVxcXCIsbWFjcjpcXFwiXFxcXHhBRlxcXCIsZGVnOlxcXCJcXFxceEIwXFxcIixwbHVzbW46XFxcIlxcXFx4QjFcXFwiLHN1cDI6XFxcIlxcXFx4QjJcXFwiLHN1cDM6XFxcIlxcXFx4QjNcXFwiLGFjdXRlOlxcXCJcXFxceEI0XFxcIixtaWNybzpcXFwiXFxcXHhCNVxcXCIscGFyYTpcXFwiXFxcXHhCNlxcXCIsbWlkZG90OlxcXCJcXFxceEI3XFxcIixjZWRpbDpcXFwiXFxcXHhCOFxcXCIsc3VwMTpcXFwiXFxcXHhCOVxcXCIsb3JkbTpcXFwiXFxcXHhCQVxcXCIscmFxdW86XFxcIlxcXFx4QkJcXFwiLGZyYWMxNDpcXFwiXFxcXHhCQ1xcXCIsZnJhYzEyOlxcXCJcXFxceEJEXFxcIixmcmFjMzQ6XFxcIlxcXFx4QkVcXFwiLGlxdWVzdDpcXFwiXFxcXHhCRlxcXCIsdGltZXM6XFxcIlxcXFx4RDdcXFwiLGRpdmlkZTpcXFwiXFxcXHhGN1xcXCIsZm9yYWxsOlxcXCJcXFxcdTIyMDBcXFwiLHBhcnQ6XFxcIlxcXFx1MjIwMlxcXCIsZXhpc3Q6XFxcIlxcXFx1MjIwM1xcXCIsZW1wdHk6XFxcIlxcXFx1MjIwNVxcXCIsbmFibGE6XFxcIlxcXFx1MjIwN1xcXCIsaXNpbjpcXFwiXFxcXHUyMjA4XFxcIixub3RpbjpcXFwiXFxcXHUyMjA5XFxcIixuaTpcXFwiXFxcXHUyMjBCXFxcIixwcm9kOlxcXCJcXFxcdTIyMEZcXFwiLHN1bTpcXFwiXFxcXHUyMjExXFxcIixtaW51czpcXFwiXFxcXHUyMjEyXFxcIixsb3dhc3Q6XFxcIlxcXFx1MjIxN1xcXCIscmFkaWM6XFxcIlxcXFx1MjIxQVxcXCIscHJvcDpcXFwiXFxcXHUyMjFEXFxcIixpbmZpbjpcXFwiXFxcXHUyMjFFXFxcIixhbmc6XFxcIlxcXFx1MjIyMFxcXCIsYW5kOlxcXCJcXFxcdTIyMjdcXFwiLG9yOlxcXCJcXFxcdTIyMjhcXFwiLGNhcDpcXFwiXFxcXHUyMjI5XFxcIixjdXA6XFxcIlxcXFx1MjIyQVxcXCIsaW50OlxcXCJcXFxcdTIyMkJcXFwiLHRoZXJlNDpcXFwiXFxcXHUyMjM0XFxcIixzaW06XFxcIlxcXFx1MjIzQ1xcXCIsY29uZzpcXFwiXFxcXHUyMjQ1XFxcIixhc3ltcDpcXFwiXFxcXHUyMjQ4XFxcIixuZTpcXFwiXFxcXHUyMjYwXFxcIixlcXVpdjpcXFwiXFxcXHUyMjYxXFxcIixsZTpcXFwiXFxcXHUyMjY0XFxcIixnZTpcXFwiXFxcXHUyMjY1XFxcIixzdWI6XFxcIlxcXFx1MjI4MlxcXCIsc3VwOlxcXCJcXFxcdTIyODNcXFwiLG5zdWI6XFxcIlxcXFx1MjI4NFxcXCIsc3ViZTpcXFwiXFxcXHUyMjg2XFxcIixzdXBlOlxcXCJcXFxcdTIyODdcXFwiLG9wbHVzOlxcXCJcXFxcdTIyOTVcXFwiLG90aW1lczpcXFwiXFxcXHUyMjk3XFxcIixwZXJwOlxcXCJcXFxcdTIyQTVcXFwiLHNkb3Q6XFxcIlxcXFx1MjJDNVxcXCIsQWxwaGE6XFxcIlxcXFx1MDM5MVxcXCIsQmV0YTpcXFwiXFxcXHUwMzkyXFxcIixHYW1tYTpcXFwiXFxcXHUwMzkzXFxcIixEZWx0YTpcXFwiXFxcXHUwMzk0XFxcIixFcHNpbG9uOlxcXCJcXFxcdTAzOTVcXFwiLFpldGE6XFxcIlxcXFx1MDM5NlxcXCIsRXRhOlxcXCJcXFxcdTAzOTdcXFwiLFRoZXRhOlxcXCJcXFxcdTAzOThcXFwiLElvdGE6XFxcIlxcXFx1MDM5OVxcXCIsS2FwcGE6XFxcIlxcXFx1MDM5QVxcXCIsTGFtYmRhOlxcXCJcXFxcdTAzOUJcXFwiLE11OlxcXCJcXFxcdTAzOUNcXFwiLE51OlxcXCJcXFxcdTAzOURcXFwiLFhpOlxcXCJcXFxcdTAzOUVcXFwiLE9taWNyb246XFxcIlxcXFx1MDM5RlxcXCIsUGk6XFxcIlxcXFx1MDNBMFxcXCIsUmhvOlxcXCJcXFxcdTAzQTFcXFwiLFNpZ21hOlxcXCJcXFxcdTAzQTNcXFwiLFRhdTpcXFwiXFxcXHUwM0E0XFxcIixVcHNpbG9uOlxcXCJcXFxcdTAzQTVcXFwiLFBoaTpcXFwiXFxcXHUwM0E2XFxcIixDaGk6XFxcIlxcXFx1MDNBN1xcXCIsUHNpOlxcXCJcXFxcdTAzQThcXFwiLE9tZWdhOlxcXCJcXFxcdTAzQTlcXFwiLGFscGhhOlxcXCJcXFxcdTAzQjFcXFwiLGJldGE6XFxcIlxcXFx1MDNCMlxcXCIsZ2FtbWE6XFxcIlxcXFx1MDNCM1xcXCIsZGVsdGE6XFxcIlxcXFx1MDNCNFxcXCIsZXBzaWxvbjpcXFwiXFxcXHUwM0I1XFxcIix6ZXRhOlxcXCJcXFxcdTAzQjZcXFwiLGV0YTpcXFwiXFxcXHUwM0I3XFxcIix0aGV0YTpcXFwiXFxcXHUwM0I4XFxcIixpb3RhOlxcXCJcXFxcdTAzQjlcXFwiLGthcHBhOlxcXCJcXFxcdTAzQkFcXFwiLGxhbWJkYTpcXFwiXFxcXHUwM0JCXFxcIixtdTpcXFwiXFxcXHUwM0JDXFxcIixudTpcXFwiXFxcXHUwM0JEXFxcIix4aTpcXFwiXFxcXHUwM0JFXFxcIixvbWljcm9uOlxcXCJcXFxcdTAzQkZcXFwiLHBpOlxcXCJcXFxcdTAzQzBcXFwiLHJobzpcXFwiXFxcXHUwM0MxXFxcIixzaWdtYWY6XFxcIlxcXFx1MDNDMlxcXCIsc2lnbWE6XFxcIlxcXFx1MDNDM1xcXCIsdGF1OlxcXCJcXFxcdTAzQzRcXFwiLHVwc2lsb246XFxcIlxcXFx1MDNDNVxcXCIscGhpOlxcXCJcXFxcdTAzQzZcXFwiLGNoaTpcXFwiXFxcXHUwM0M3XFxcIixwc2k6XFxcIlxcXFx1MDNDOFxcXCIsb21lZ2E6XFxcIlxcXFx1MDNDOVxcXCIsdGhldGFzeW06XFxcIlxcXFx1MDNEMVxcXCIsdXBzaWg6XFxcIlxcXFx1MDNEMlxcXCIscGl2OlxcXCJcXFxcdTAzRDZcXFwiLE9FbGlnOlxcXCJcXFxcdTAxNTJcXFwiLG9lbGlnOlxcXCJcXFxcdTAxNTNcXFwiLFNjYXJvbjpcXFwiXFxcXHUwMTYwXFxcIixzY2Fyb246XFxcIlxcXFx1MDE2MVxcXCIsWXVtbDpcXFwiXFxcXHUwMTc4XFxcIixmbm9mOlxcXCJcXFxcdTAxOTJcXFwiLGNpcmM6XFxcIlxcXFx1MDJDNlxcXCIsdGlsZGU6XFxcIlxcXFx1MDJEQ1xcXCIsZW5zcDpcXFwiXFxcXHUyMDAyXFxcIixlbXNwOlxcXCJcXFxcdTIwMDNcXFwiLHRoaW5zcDpcXFwiXFxcXHUyMDA5XFxcIix6d25qOlxcXCJcXFxcdTIwMENcXFwiLHp3ajpcXFwiXFxcXHUyMDBEXFxcIixscm06XFxcIlxcXFx1MjAwRVxcXCIscmxtOlxcXCJcXFxcdTIwMEZcXFwiLG5kYXNoOlxcXCJcXFxcdTIwMTNcXFwiLG1kYXNoOlxcXCJcXFxcdTIwMTRcXFwiLGxzcXVvOlxcXCJcXFxcdTIwMThcXFwiLHJzcXVvOlxcXCJcXFxcdTIwMTlcXFwiLHNicXVvOlxcXCJcXFxcdTIwMUFcXFwiLGxkcXVvOlxcXCJcXFxcdTIwMUNcXFwiLHJkcXVvOlxcXCJcXFxcdTIwMURcXFwiLGJkcXVvOlxcXCJcXFxcdTIwMUVcXFwiLGRhZ2dlcjpcXFwiXFxcXHUyMDIwXFxcIixEYWdnZXI6XFxcIlxcXFx1MjAyMVxcXCIsYnVsbDpcXFwiXFxcXHUyMDIyXFxcIixoZWxsaXA6XFxcIlxcXFx1MjAyNlxcXCIscGVybWlsOlxcXCJcXFxcdTIwMzBcXFwiLHByaW1lOlxcXCJcXFxcdTIwMzJcXFwiLFByaW1lOlxcXCJcXFxcdTIwMzNcXFwiLGxzYXF1bzpcXFwiXFxcXHUyMDM5XFxcIixyc2FxdW86XFxcIlxcXFx1MjAzQVxcXCIsb2xpbmU6XFxcIlxcXFx1MjAzRVxcXCIsZXVybzpcXFwiXFxcXHUyMEFDXFxcIix0cmFkZTpcXFwiXFxcXHUyMTIyXFxcIixsYXJyOlxcXCJcXFxcdTIxOTBcXFwiLHVhcnI6XFxcIlxcXFx1MjE5MVxcXCIscmFycjpcXFwiXFxcXHUyMTkyXFxcIixkYXJyOlxcXCJcXFxcdTIxOTNcXFwiLGhhcnI6XFxcIlxcXFx1MjE5NFxcXCIsY3JhcnI6XFxcIlxcXFx1MjFCNVxcXCIsbGNlaWw6XFxcIlxcXFx1MjMwOFxcXCIscmNlaWw6XFxcIlxcXFx1MjMwOVxcXCIsbGZsb29yOlxcXCJcXFxcdTIzMEFcXFwiLHJmbG9vcjpcXFwiXFxcXHUyMzBCXFxcIixsb3o6XFxcIlxcXFx1MjVDQVxcXCIsc3BhZGVzOlxcXCJcXFxcdTI2NjBcXFwiLGNsdWJzOlxcXCJcXFxcdTI2NjNcXFwiLGhlYXJ0czpcXFwiXFxcXHUyNjY1XFxcIixkaWFtczpcXFwiXFxcXHUyNjY2XFxcIn19KTt2YXIgSXQ9YmUoTGU9Pnt2YXIgVWU9L1tBLVpfYS16XFxcXHhDMC1cXFxceEQ2XFxcXHhEOC1cXFxceEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXS8sYnQ9bmV3IFJlZ0V4cChcXFwiW1xcXFxcXFxcLVxcXFxcXFxcLjAtOVxcXCIrVWUuc291cmNlLnNsaWNlKDEsLTEpK1xcXCJcXFxcXFxcXHUwMEI3XFxcXFxcXFx1MDMwMC1cXFxcXFxcXHUwMzZGXFxcXFxcXFx1MjAzRi1cXFxcXFxcXHUyMDQwXVxcXCIpLHd0PW5ldyBSZWdFeHAoXFxcIl5cXFwiK1VlLnNvdXJjZStidC5zb3VyY2UrXFxcIiooPzo6XFxcIitVZS5zb3VyY2UrYnQuc291cmNlK1xcXCIqKT8kXFxcIiksaGU9MCxxPTEsbmU9MixnZT0zLHJlPTQsaWU9NSxkZT02LHdlPTc7ZnVuY3Rpb24gc2UodCxlKXt0aGlzLm1lc3NhZ2U9dCx0aGlzLmxvY2F0b3I9ZSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxzZSl9c2UucHJvdG90eXBlPW5ldyBFcnJvcjtzZS5wcm90b3R5cGUubmFtZT1zZS5uYW1lO2Z1bmN0aW9uIHh0KCl7fXh0LnByb3RvdHlwZT17cGFyc2U6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZG9tQnVpbGRlcjtyLnN0YXJ0RG9jdW1lbnQoKSxNdChlLGU9e30pLE5uKHQsZSxuLHIsdGhpcy5lcnJvckhhbmRsZXIpLHIuZW5kRG9jdW1lbnQoKX19O2Z1bmN0aW9uIE5uKHQsZSxuLHIsaSl7ZnVuY3Rpb24gcyhfKXtpZihfPjY1NTM1KXtfLT02NTUzNjt2YXIgZz01NTI5NisoXz4+MTApLGVlPTU2MzIwKyhfJjEwMjMpO3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGcsZWUpfWVsc2UgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXyl9ZnVuY3Rpb24gbyhfKXt2YXIgZz1fLnNsaWNlKDEsLTEpO3JldHVybiBnIGluIG4/bltnXTpnLmNoYXJBdCgwKT09PVxcXCIjXFxcIj9zKHBhcnNlSW50KGcuc3Vic3RyKDEpLnJlcGxhY2UoXFxcInhcXFwiLFxcXCIweFxcXCIpKSk6KGkuZXJyb3IoXFxcImVudGl0eSBub3QgZm91bmQ6XFxcIitfKSxfKX1mdW5jdGlvbiBsKF8pe2lmKF8+Uil7dmFyIGc9dC5zdWJzdHJpbmcoUixfKS5yZXBsYWNlKC8mIz9cXFxcdys7L2csbyk7UyYmdShSKSxyLmNoYXJhY3RlcnMoZywwLF8tUiksUj1ffX1mdW5jdGlvbiB1KF8sZyl7Zm9yKDtfPj1mJiYoZz1oLmV4ZWModCkpOylhPWcuaW5kZXgsZj1hK2dbMF0ubGVuZ3RoLFMubGluZU51bWJlcisrO1MuY29sdW1uTnVtYmVyPV8tYSsxfWZvcih2YXIgYT0wLGY9MCxoPS8uKig/OlxcXFxyXFxcXG4/fFxcXFxuKXwuKiQvZyxTPXIubG9jYXRvcixFPVt7Y3VycmVudE5TTWFwOmV9XSx5PXt9LFI9MDs7KXt0cnl7dmFyIHY9dC5pbmRleE9mKFxcXCI8XFxcIixSKTtpZih2PDApe2lmKCF0LnN1YnN0cihSKS5tYXRjaCgvXlxcXFxzKiQvKSl7dmFyIE09ci5kb2MsUD1NLmNyZWF0ZVRleHROb2RlKHQuc3Vic3RyKFIpKTtNLmFwcGVuZENoaWxkKFApLHIuY3VycmVudEVsZW1lbnQ9UH1yZXR1cm59c3dpdGNoKHY+UiYmbCh2KSx0LmNoYXJBdCh2KzEpKXtjYXNlXFxcIi9cXFwiOnZhciB3PXQuaW5kZXhPZihcXFwiPlxcXCIsdiszKSxiPXQuc3Vic3RyaW5nKHYrMix3KSxUPUUucG9wKCk7dzwwPyhiPXQuc3Vic3RyaW5nKHYrMikucmVwbGFjZSgvW1xcXFxzPF0uKi8sXFxcIlxcXCIpLGkuZXJyb3IoXFxcImVuZCB0YWcgbmFtZTogXFxcIitiK1xcXCIgaXMgbm90IGNvbXBsZXRlOlxcXCIrVC50YWdOYW1lKSx3PXYrMStiLmxlbmd0aCk6Yi5tYXRjaCgvXFxcXHM8LykmJihiPWIucmVwbGFjZSgvW1xcXFxzPF0uKi8sXFxcIlxcXCIpLGkuZXJyb3IoXFxcImVuZCB0YWcgbmFtZTogXFxcIitiK1xcXCIgbWF5YmUgbm90IGNvbXBsZXRlXFxcIiksdz12KzErYi5sZW5ndGgpO3ZhciBVPVQubG9jYWxOU01hcCxXPVQudGFnTmFtZT09YixkPVd8fFQudGFnTmFtZSYmVC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PWIudG9Mb3dlckNhc2UoKTtpZihkKXtpZihyLmVuZEVsZW1lbnQoVC51cmksVC5sb2NhbE5hbWUsYiksVSlmb3IodmFyIEcgaW4gVSlyLmVuZFByZWZpeE1hcHBpbmcoRyk7V3x8aS5mYXRhbEVycm9yKFxcXCJlbmQgdGFnIG5hbWU6IFxcXCIrYitcXFwiIGlzIG5vdCBtYXRjaCB0aGUgY3VycmVudCBzdGFydCB0YWdOYW1lOlxcXCIrVC50YWdOYW1lKX1lbHNlIEUucHVzaChUKTt3Kys7YnJlYWs7Y2FzZVxcXCI/XFxcIjpTJiZ1KHYpLHc9eG4odCx2LHIpO2JyZWFrO2Nhc2VcXFwiIVxcXCI6UyYmdSh2KSx3PSRuKHQsdixyLGkpO2JyZWFrO2RlZmF1bHQ6UyYmdSh2KTt2YXIgQT1uZXcgT3QsTD1FW0UubGVuZ3RoLTFdLmN1cnJlbnROU01hcCx3PWJuKHQsdixBLEwsbyxpKSxqPUEubGVuZ3RoO2lmKCFBLmNsb3NlZCYmRG4odCx3LEEudGFnTmFtZSx5KSYmKEEuY2xvc2VkPSEwLG4ubmJzcHx8aS53YXJuaW5nKFxcXCJ1bmNsb3NlZCB4bWwgYXR0cmlidXRlXFxcIikpLFMmJmope2Zvcih2YXIgSj1EdChTLHt9KSx6PTA7ejxqO3orKyl7dmFyIFY9QVt6XTt1KFYub2Zmc2V0KSxWLmxvY2F0b3I9RHQoUyx7fSl9ci5sb2NhdG9yPUosJHQoQSxyLEwpJiZFLnB1c2goQSksci5sb2NhdG9yPVN9ZWxzZSAkdChBLHIsTCkmJkUucHVzaChBKTtBLnVyaT09PVxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcIiYmIUEuY2xvc2VkP3c9d24odCx3LEEudGFnTmFtZSxvLHIpOncrK319Y2F0Y2goXyl7aWYoXyBpbnN0YW5jZW9mIHNlKXRocm93IF87aS5lcnJvcihcXFwiZWxlbWVudCBwYXJzZSBlcnJvcjogXFxcIitfKSx3PS0xfXc+Uj9SPXc6bChNYXRoLm1heCh2LFIpKzEpfX1mdW5jdGlvbiBEdCh0LGUpe3JldHVybiBlLmxpbmVOdW1iZXI9dC5saW5lTnVtYmVyLGUuY29sdW1uTnVtYmVyPXQuY29sdW1uTnVtYmVyLGV9ZnVuY3Rpb24gYm4odCxlLG4scixpLHMpe2Z1bmN0aW9uIG8oRSx5LFIpe0UgaW4gbi5hdHRyaWJ1dGVOYW1lcyYmcy5mYXRhbEVycm9yKFxcXCJBdHRyaWJ1dGUgXFxcIitFK1xcXCIgcmVkZWZpbmVkXFxcIiksbi5hZGRWYWx1ZShFLHksUil9Zm9yKHZhciBsLHUsYT0rK2UsZj1oZTs7KXt2YXIgaD10LmNoYXJBdChhKTtzd2l0Y2goaCl7Y2FzZVxcXCI9XFxcIjppZihmPT09cSlsPXQuc2xpY2UoZSxhKSxmPWdlO2Vsc2UgaWYoZj09PW5lKWY9Z2U7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXFxcImF0dHJpYnV0ZSBlcXVhbCBtdXN0IGFmdGVyIGF0dHJOYW1lXFxcIik7YnJlYWs7Y2FzZVxcXCInXFxcIjpjYXNlJ1xcXCInOmlmKGY9PT1nZXx8Zj09PXEpaWYoZj09PXEmJihzLndhcm5pbmcoJ2F0dHJpYnV0ZSB2YWx1ZSBtdXN0IGFmdGVyIFxcXCI9XFxcIicpLGw9dC5zbGljZShlLGEpKSxlPWErMSxhPXQuaW5kZXhPZihoLGUpLGE+MCl1PXQuc2xpY2UoZSxhKS5yZXBsYWNlKC8mIz9cXFxcdys7L2csaSksbyhsLHUsZS0xKSxmPWllO2Vsc2UgdGhyb3cgbmV3IEVycm9yKFxcXCJhdHRyaWJ1dGUgdmFsdWUgbm8gZW5kICdcXFwiK2grXFxcIicgbWF0Y2hcXFwiKTtlbHNlIGlmKGY9PXJlKXU9dC5zbGljZShlLGEpLnJlcGxhY2UoLyYjP1xcXFx3KzsvZyxpKSxvKGwsdSxlKSxzLndhcm5pbmcoJ2F0dHJpYnV0ZSBcXFwiJytsKydcXFwiIG1pc3NlZCBzdGFydCBxdW90KCcraCtcXFwiKSEhXFxcIiksZT1hKzEsZj1pZTtlbHNlIHRocm93IG5ldyBFcnJvcignYXR0cmlidXRlIHZhbHVlIG11c3QgYWZ0ZXIgXFxcIj1cXFwiJyk7YnJlYWs7Y2FzZVxcXCIvXFxcIjpzd2l0Y2goZil7Y2FzZSBoZTpuLnNldFRhZ05hbWUodC5zbGljZShlLGEpKTtjYXNlIGllOmNhc2UgZGU6Y2FzZSB3ZTpmPXdlLG4uY2xvc2VkPSEwO2Nhc2UgcmU6Y2FzZSBxOmNhc2UgbmU6YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXFxcImF0dHJpYnV0ZSBpbnZhbGlkIGNsb3NlIGNoYXIoJy8nKVxcXCIpfWJyZWFrO2Nhc2VcXFwiXFxcIjpyZXR1cm4gcy5lcnJvcihcXFwidW5leHBlY3RlZCBlbmQgb2YgaW5wdXRcXFwiKSxmPT1oZSYmbi5zZXRUYWdOYW1lKHQuc2xpY2UoZSxhKSksYTtjYXNlXFxcIj5cXFwiOnN3aXRjaChmKXtjYXNlIGhlOm4uc2V0VGFnTmFtZSh0LnNsaWNlKGUsYSkpO2Nhc2UgaWU6Y2FzZSBkZTpjYXNlIHdlOmJyZWFrO2Nhc2UgcmU6Y2FzZSBxOnU9dC5zbGljZShlLGEpLHUuc2xpY2UoLTEpPT09XFxcIi9cXFwiJiYobi5jbG9zZWQ9ITAsdT11LnNsaWNlKDAsLTEpKTtjYXNlIG5lOmY9PT1uZSYmKHU9bCksZj09cmU/KHMud2FybmluZygnYXR0cmlidXRlIFxcXCInK3UrJ1xcXCIgbWlzc2VkIHF1b3QoXFxcIikhJyksbyhsLHUucmVwbGFjZSgvJiM/XFxcXHcrOy9nLGkpLGUpKTooKHJbXFxcIlxcXCJdIT09XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcXFwifHwhdS5tYXRjaCgvXig/OmRpc2FibGVkfGNoZWNrZWR8c2VsZWN0ZWQpJC9pKSkmJnMud2FybmluZygnYXR0cmlidXRlIFxcXCInK3UrJ1xcXCIgbWlzc2VkIHZhbHVlISEgXFxcIicrdSsnXFxcIiBpbnN0ZWFkISEnKSxvKHUsdSxlKSk7YnJlYWs7Y2FzZSBnZTp0aHJvdyBuZXcgRXJyb3IoXFxcImF0dHJpYnV0ZSB2YWx1ZSBtaXNzZWQhIVxcXCIpfXJldHVybiBhO2Nhc2VcXFwiXFxcXHg4MFxcXCI6aD1cXFwiIFxcXCI7ZGVmYXVsdDppZihoPD1cXFwiIFxcXCIpc3dpdGNoKGYpe2Nhc2UgaGU6bi5zZXRUYWdOYW1lKHQuc2xpY2UoZSxhKSksZj1kZTticmVhaztjYXNlIHE6bD10LnNsaWNlKGUsYSksZj1uZTticmVhaztjYXNlIHJlOnZhciB1PXQuc2xpY2UoZSxhKS5yZXBsYWNlKC8mIz9cXFxcdys7L2csaSk7cy53YXJuaW5nKCdhdHRyaWJ1dGUgXFxcIicrdSsnXFxcIiBtaXNzZWQgcXVvdChcXFwiKSEhJyksbyhsLHUsZSk7Y2FzZSBpZTpmPWRlO2JyZWFrfWVsc2Ugc3dpdGNoKGYpe2Nhc2UgbmU6dmFyIFM9bi50YWdOYW1lOyhyW1xcXCJcXFwiXSE9PVxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcInx8IWwubWF0Y2goL14oPzpkaXNhYmxlZHxjaGVja2VkfHNlbGVjdGVkKSQvaSkpJiZzLndhcm5pbmcoJ2F0dHJpYnV0ZSBcXFwiJytsKydcXFwiIG1pc3NlZCB2YWx1ZSEhIFxcXCInK2wrJ1xcXCIgaW5zdGVhZDIhIScpLG8obCxsLGUpLGU9YSxmPXE7YnJlYWs7Y2FzZSBpZTpzLndhcm5pbmcoJ2F0dHJpYnV0ZSBzcGFjZSBpcyByZXF1aXJlZFxcXCInK2wrJ1xcXCIhIScpO2Nhc2UgZGU6Zj1xLGU9YTticmVhaztjYXNlIGdlOmY9cmUsZT1hO2JyZWFrO2Nhc2Ugd2U6dGhyb3cgbmV3IEVycm9yKFxcXCJlbGVtZW50cyBjbG9zZWQgY2hhcmFjdGVyICcvJyBhbmQgJz4nIG11c3QgYmUgY29ubmVjdGVkIHRvXFxcIil9fWErK319ZnVuY3Rpb24gJHQodCxlLG4pe2Zvcih2YXIgcj10LnRhZ05hbWUsaT1udWxsLGg9dC5sZW5ndGg7aC0tOyl7dmFyIHM9dFtoXSxvPXMucU5hbWUsbD1zLnZhbHVlLFM9by5pbmRleE9mKFxcXCI6XFxcIik7aWYoUz4wKXZhciB1PXMucHJlZml4PW8uc2xpY2UoMCxTKSxhPW8uc2xpY2UoUysxKSxmPXU9PT1cXFwieG1sbnNcXFwiJiZhO2Vsc2UgYT1vLHU9bnVsbCxmPW89PT1cXFwieG1sbnNcXFwiJiZcXFwiXFxcIjtzLmxvY2FsTmFtZT1hLGYhPT0hMSYmKGk9PW51bGwmJihpPXt9LE10KG4sbj17fSkpLG5bZl09aVtmXT1sLHMudXJpPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1xcXCIsZS5zdGFydFByZWZpeE1hcHBpbmcoZixsKSl9Zm9yKHZhciBoPXQubGVuZ3RoO2gtLTspe3M9dFtoXTt2YXIgdT1zLnByZWZpeDt1JiYodT09PVxcXCJ4bWxcXFwiJiYocy51cmk9XFxcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVxcXCIpLHUhPT1cXFwieG1sbnNcXFwiJiYocy51cmk9blt1fHxcXFwiXFxcIl0pKX12YXIgUz1yLmluZGV4T2YoXFxcIjpcXFwiKTtTPjA/KHU9dC5wcmVmaXg9ci5zbGljZSgwLFMpLGE9dC5sb2NhbE5hbWU9ci5zbGljZShTKzEpKToodT1udWxsLGE9dC5sb2NhbE5hbWU9cik7dmFyIEU9dC51cmk9blt1fHxcXFwiXFxcIl07aWYoZS5zdGFydEVsZW1lbnQoRSxhLHIsdCksdC5jbG9zZWQpe2lmKGUuZW5kRWxlbWVudChFLGEsciksaSlmb3IodSBpbiBpKWUuZW5kUHJlZml4TWFwcGluZyh1KX1lbHNlIHJldHVybiB0LmN1cnJlbnROU01hcD1uLHQubG9jYWxOU01hcD1pLCEwfWZ1bmN0aW9uIHduKHQsZSxuLHIsaSl7aWYoL14oPzpzY3JpcHR8dGV4dGFyZWEpJC9pLnRlc3Qobikpe3ZhciBzPXQuaW5kZXhPZihcXFwiPC9cXFwiK24rXFxcIj5cXFwiLGUpLG89dC5zdWJzdHJpbmcoZSsxLHMpO2lmKC9bJjxdLy50ZXN0KG8pKXJldHVybi9ec2NyaXB0JC9pLnRlc3Qobik/KGkuY2hhcmFjdGVycyhvLDAsby5sZW5ndGgpLHMpOihvPW8ucmVwbGFjZSgvJiM/XFxcXHcrOy9nLHIpLGkuY2hhcmFjdGVycyhvLDAsby5sZW5ndGgpLHMpfXJldHVybiBlKzF9ZnVuY3Rpb24gRG4odCxlLG4scil7dmFyIGk9cltuXTtyZXR1cm4gaT09bnVsbCYmKGk9dC5sYXN0SW5kZXhPZihcXFwiPC9cXFwiK24rXFxcIj5cXFwiKSxpPGUmJihpPXQubGFzdEluZGV4T2YoXFxcIjwvXFxcIituKSkscltuXT1pKSxpPGV9ZnVuY3Rpb24gTXQodCxlKXtmb3IodmFyIG4gaW4gdCllW25dPXRbbl19ZnVuY3Rpb24gJG4odCxlLG4scil7dmFyIGk9dC5jaGFyQXQoZSsyKTtzd2l0Y2goaSl7Y2FzZVxcXCItXFxcIjppZih0LmNoYXJBdChlKzMpPT09XFxcIi1cXFwiKXt2YXIgcz10LmluZGV4T2YoXFxcIi0tPlxcXCIsZSs0KTtyZXR1cm4gcz5lPyhuLmNvbW1lbnQodCxlKzQscy1lLTQpLHMrMyk6KHIuZXJyb3IoXFxcIlVuY2xvc2VkIGNvbW1lbnRcXFwiKSwtMSl9ZWxzZSByZXR1cm4tMTtkZWZhdWx0OmlmKHQuc3Vic3RyKGUrMyw2KT09XFxcIkNEQVRBW1xcXCIpe3ZhciBzPXQuaW5kZXhPZihcXFwiXV0+XFxcIixlKzkpO3JldHVybiBuLnN0YXJ0Q0RBVEEoKSxuLmNoYXJhY3RlcnModCxlKzkscy1lLTkpLG4uZW5kQ0RBVEEoKSxzKzN9dmFyIG89TW4odCxlKSxsPW8ubGVuZ3RoO2lmKGw+MSYmLyFkb2N0eXBlL2kudGVzdChvWzBdWzBdKSl7dmFyIHU9b1sxXVswXSxhPSExLGY9ITE7bD4zJiYoL15wdWJsaWMkL2kudGVzdChvWzJdWzBdKT8oYT1vWzNdWzBdLGY9bD40JiZvWzRdWzBdKTovXnN5c3RlbSQvaS50ZXN0KG9bMl1bMF0pJiYoZj1vWzNdWzBdKSk7dmFyIGg9b1tsLTFdO3JldHVybiBuLnN0YXJ0RFREKHUsYSxmKSxuLmVuZERURCgpLGguaW5kZXgraFswXS5sZW5ndGh9fXJldHVybi0xfWZ1bmN0aW9uIHhuKHQsZSxuKXt2YXIgcj10LmluZGV4T2YoXFxcIj8+XFxcIixlKTtpZihyKXt2YXIgaT10LnN1YnN0cmluZyhlLHIpLm1hdGNoKC9ePFxcXFw/KFxcXFxTKilcXFxccyooW1xcXFxzXFxcXFNdKj8pXFxcXHMqJC8pO2lmKGkpe3ZhciBzPWlbMF0ubGVuZ3RoO3JldHVybiBuLnByb2Nlc3NpbmdJbnN0cnVjdGlvbihpWzFdLGlbMl0pLHIrMn1lbHNlIHJldHVybi0xfXJldHVybi0xfWZ1bmN0aW9uIE90KCl7dGhpcy5hdHRyaWJ1dGVOYW1lcz17fX1PdC5wcm90b3R5cGU9e3NldFRhZ05hbWU6ZnVuY3Rpb24odCl7aWYoIXd0LnRlc3QodCkpdGhyb3cgbmV3IEVycm9yKFxcXCJpbnZhbGlkIHRhZ05hbWU6XFxcIit0KTt0aGlzLnRhZ05hbWU9dH0sYWRkVmFsdWU6ZnVuY3Rpb24odCxlLG4pe2lmKCF3dC50ZXN0KHQpKXRocm93IG5ldyBFcnJvcihcXFwiaW52YWxpZCBhdHRyaWJ1dGU6XFxcIit0KTt0aGlzLmF0dHJpYnV0ZU5hbWVzW3RdPXRoaXMubGVuZ3RoLHRoaXNbdGhpcy5sZW5ndGgrK109e3FOYW1lOnQsdmFsdWU6ZSxvZmZzZXQ6bn19LGxlbmd0aDowLGdldExvY2FsTmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1t0XS5sb2NhbE5hbWV9LGdldExvY2F0b3I6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbdF0ubG9jYXRvcn0sZ2V0UU5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbdF0ucU5hbWV9LGdldFVSSTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1t0XS51cml9LGdldFZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzW3RdLnZhbHVlfX07ZnVuY3Rpb24gTW4odCxlKXt2YXIgbixyPVtdLGk9LydbXiddKyd8XFxcIlteXFxcIl0rXFxcInxbXlxcXFxzPD5cXFxcLz1dKz0/fChcXFxcLz9cXFxccyo+fDwpL2c7Zm9yKGkubGFzdEluZGV4PWUsaS5leGVjKHQpO249aS5leGVjKHQpOylpZihyLnB1c2gobiksblsxXSlyZXR1cm4gcn1MZS5YTUxSZWFkZXI9eHQ7TGUuUGFyc2VFcnJvcj1zZX0pO3ZhciBYZT1iZShDZT0+e2Z1bmN0aW9uIHZlKHQsZSl7Zm9yKHZhciBuIGluIHQpZVtuXT10W25dfWZ1bmN0aW9uIGsodCxlKXt2YXIgbj10LnByb3RvdHlwZTtpZighKG4gaW5zdGFuY2VvZiBlKSl7bGV0IGk9ZnVuY3Rpb24oKXt9O3ZhciByPWk7aS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsaT1uZXcgaSx2ZShuLGkpLHQucHJvdG90eXBlPW49aX1uLmNvbnN0cnVjdG9yIT10JiYodHlwZW9mIHQhPVxcXCJmdW5jdGlvblxcXCImJmNvbnNvbGUuZXJyb3IoXFxcInVua25vdyBDbGFzczpcXFwiK3QpLG4uY29uc3RydWN0b3I9dCl9dmFyIE9uPVxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcIixGPXt9LEI9Ri5FTEVNRU5UX05PREU9MSxvZT1GLkFUVFJJQlVURV9OT0RFPTIsRGU9Ri5URVhUX05PREU9MyxXdD1GLkNEQVRBX1NFQ1RJT05fTk9ERT00LEd0PUYuRU5USVRZX1JFRkVSRU5DRV9OT0RFPTUsSW49Ri5FTlRJVFlfTk9ERT02LGp0PUYuUFJPQ0VTU0lOR19JTlNUUlVDVElPTl9OT0RFPTcsQnQ9Ri5DT01NRU5UX05PREU9OCxWdD1GLkRPQ1VNRU5UX05PREU9OSx6dD1GLkRPQ1VNRU5UX1RZUEVfTk9ERT0xMCxIPUYuRE9DVU1FTlRfRlJBR01FTlRfTk9ERT0xMSxQbj1GLk5PVEFUSU9OX05PREU9MTIsTz17fSwkPXt9LFNhPU8uSU5ERVhfU0laRV9FUlI9KCRbMV09XFxcIkluZGV4IHNpemUgZXJyb3JcXFwiLDEpLHZhPU8uRE9NU1RSSU5HX1NJWkVfRVJSPSgkWzJdPVxcXCJET01TdHJpbmcgc2l6ZSBlcnJvclxcXCIsMiksa249Ty5ISUVSQVJDSFlfUkVRVUVTVF9FUlI9KCRbM109XFxcIkhpZXJhcmNoeSByZXF1ZXN0IGVycm9yXFxcIiwzKSx5YT1PLldST05HX0RPQ1VNRU5UX0VSUj0oJFs0XT1cXFwiV3JvbmcgZG9jdW1lbnRcXFwiLDQpLFJhPU8uSU5WQUxJRF9DSEFSQUNURVJfRVJSPSgkWzVdPVxcXCJJbnZhbGlkIGNoYXJhY3RlclxcXCIsNSksQ2E9Ty5OT19EQVRBX0FMTE9XRURfRVJSPSgkWzZdPVxcXCJObyBkYXRhIGFsbG93ZWRcXFwiLDYpLEVhPU8uTk9fTU9ESUZJQ0FUSU9OX0FMTE9XRURfRVJSPSgkWzddPVxcXCJObyBtb2RpZmljYXRpb24gYWxsb3dlZFxcXCIsNyksRm49Ty5OT1RfRk9VTkRfRVJSPSgkWzhdPVxcXCJOb3QgZm91bmRcXFwiLDgpLF9hPU8uTk9UX1NVUFBPUlRFRF9FUlI9KCRbOV09XFxcIk5vdCBzdXBwb3J0ZWRcXFwiLDkpLFB0PU8uSU5VU0VfQVRUUklCVVRFX0VSUj0oJFsxMF09XFxcIkF0dHJpYnV0ZSBpbiB1c2VcXFwiLDEwKSxBYT1PLklOVkFMSURfU1RBVEVfRVJSPSgkWzExXT1cXFwiSW52YWxpZCBzdGF0ZVxcXCIsMTEpLFRhPU8uU1lOVEFYX0VSUj0oJFsxMl09XFxcIlN5bnRheCBlcnJvclxcXCIsMTIpLE5hPU8uSU5WQUxJRF9NT0RJRklDQVRJT05fRVJSPSgkWzEzXT1cXFwiSW52YWxpZCBtb2RpZmljYXRpb25cXFwiLDEzKSxiYT1PLk5BTUVTUEFDRV9FUlI9KCRbMTRdPVxcXCJJbnZhbGlkIG5hbWVzcGFjZVxcXCIsMTQpLHdhPU8uSU5WQUxJRF9BQ0NFU1NfRVJSPSgkWzE1XT1cXFwiSW52YWxpZCBhY2Nlc3NcXFwiLDE1KTtmdW5jdGlvbiB0ZSh0LGUpe2lmKGUgaW5zdGFuY2VvZiBFcnJvcil2YXIgbj1lO2Vsc2Ugbj10aGlzLEVycm9yLmNhbGwodGhpcywkW3RdKSx0aGlzLm1lc3NhZ2U9JFt0XSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx0ZSk7cmV0dXJuIG4uY29kZT10LGUmJih0aGlzLm1lc3NhZ2U9dGhpcy5tZXNzYWdlK1xcXCI6IFxcXCIrZSksbn10ZS5wcm90b3R5cGU9RXJyb3IucHJvdG90eXBlO3ZlKE8sdGUpO2Z1bmN0aW9uIFooKXt9Wi5wcm90b3R5cGU9e2xlbmd0aDowLGl0ZW06ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbdF18fG51bGx9LHRvU3RyaW5nOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLHI9MDtyPHRoaXMubGVuZ3RoO3IrKylhZSh0aGlzW3JdLG4sdCxlKTtyZXR1cm4gbi5qb2luKFxcXCJcXFwiKX19O2Z1bmN0aW9uIGNlKHQsZSl7dGhpcy5fbm9kZT10LHRoaXMuX3JlZnJlc2g9ZSxHZSh0aGlzKX1mdW5jdGlvbiBHZSh0KXt2YXIgZT10Ll9ub2RlLl9pbmN8fHQuX25vZGUub3duZXJEb2N1bWVudC5faW5jO2lmKHQuX2luYyE9ZSl7dmFyIG49dC5fcmVmcmVzaCh0Ll9ub2RlKTtubih0LFxcXCJsZW5ndGhcXFwiLG4ubGVuZ3RoKSx2ZShuLHQpLHQuX2luYz1lfX1jZS5wcm90b3R5cGUuaXRlbT1mdW5jdGlvbih0KXtyZXR1cm4gR2UodGhpcyksdGhpc1t0XX07ayhjZSxaKTtmdW5jdGlvbiAkZSgpe31mdW5jdGlvbiBIdCh0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aDtuLS07KWlmKHRbbl09PT1lKXJldHVybiBufWZ1bmN0aW9uIGt0KHQsZSxuLHIpe2lmKHI/ZVtIdChlLHIpXT1uOmVbZS5sZW5ndGgrK109bix0KXtuLm93bmVyRWxlbWVudD10O3ZhciBpPXQub3duZXJEb2N1bWVudDtpJiYociYmWXQoaSx0LHIpLFVuKGksdCxuKSl9fWZ1bmN0aW9uIEZ0KHQsZSxuKXt2YXIgcj1IdChlLG4pO2lmKHI+PTApe2Zvcih2YXIgaT1lLmxlbmd0aC0xO3I8aTspZVtyXT1lWysrcl07aWYoZS5sZW5ndGg9aSx0KXt2YXIgcz10Lm93bmVyRG9jdW1lbnQ7cyYmKFl0KHMsdCxuKSxuLm93bmVyRWxlbWVudD1udWxsKX19ZWxzZSB0aHJvdyB0ZShGbixuZXcgRXJyb3IodC50YWdOYW1lK1xcXCJAXFxcIituKSl9JGUucHJvdG90eXBlPXtsZW5ndGg6MCxpdGVtOloucHJvdG90eXBlLml0ZW0sZ2V0TmFtZWRJdGVtOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmxlbmd0aDtlLS07KXt2YXIgbj10aGlzW2VdO2lmKG4ubm9kZU5hbWU9PXQpcmV0dXJuIG59fSxzZXROYW1lZEl0ZW06ZnVuY3Rpb24odCl7dmFyIGU9dC5vd25lckVsZW1lbnQ7aWYoZSYmZSE9dGhpcy5fb3duZXJFbGVtZW50KXRocm93IG5ldyB0ZShQdCk7dmFyIG49dGhpcy5nZXROYW1lZEl0ZW0odC5ub2RlTmFtZSk7cmV0dXJuIGt0KHRoaXMuX293bmVyRWxlbWVudCx0aGlzLHQsbiksbn0sc2V0TmFtZWRJdGVtTlM6ZnVuY3Rpb24odCl7dmFyIGU9dC5vd25lckVsZW1lbnQsbjtpZihlJiZlIT10aGlzLl9vd25lckVsZW1lbnQpdGhyb3cgbmV3IHRlKFB0KTtyZXR1cm4gbj10aGlzLmdldE5hbWVkSXRlbU5TKHQubmFtZXNwYWNlVVJJLHQubG9jYWxOYW1lKSxrdCh0aGlzLl9vd25lckVsZW1lbnQsdGhpcyx0LG4pLG59LHJlbW92ZU5hbWVkSXRlbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE5hbWVkSXRlbSh0KTtyZXR1cm4gRnQodGhpcy5fb3duZXJFbGVtZW50LHRoaXMsZSksZX0scmVtb3ZlTmFtZWRJdGVtTlM6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldE5hbWVkSXRlbU5TKHQsZSk7cmV0dXJuIEZ0KHRoaXMuX293bmVyRWxlbWVudCx0aGlzLG4pLG59LGdldE5hbWVkSXRlbU5TOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMubGVuZ3RoO24tLTspe3ZhciByPXRoaXNbbl07aWYoci5sb2NhbE5hbWU9PWUmJnIubmFtZXNwYWNlVVJJPT10KXJldHVybiByfXJldHVybiBudWxsfX07ZnVuY3Rpb24gS3QodCl7aWYodGhpcy5fZmVhdHVyZXM9e30sdClmb3IodmFyIGUgaW4gdCl0aGlzLl9mZWF0dXJlcz10W2VdfUt0LnByb3RvdHlwZT17aGFzRmVhdHVyZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2ZlYXR1cmVzW3QudG9Mb3dlckNhc2UoKV07cmV0dXJuISEobiYmKCFlfHxlIGluIG4pKX0sY3JlYXRlRG9jdW1lbnQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyB5ZTtpZihyLmltcGxlbWVudGF0aW9uPXRoaXMsci5jaGlsZE5vZGVzPW5ldyBaLHIuZG9jdHlwZT1uLG4mJnIuYXBwZW5kQ2hpbGQobiksZSl7dmFyIGk9ci5jcmVhdGVFbGVtZW50TlModCxlKTtyLmFwcGVuZENoaWxkKGkpfXJldHVybiByfSxjcmVhdGVEb2N1bWVudFR5cGU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBIZTtyZXR1cm4gci5uYW1lPXQsci5ub2RlTmFtZT10LHIucHVibGljSWQ9ZSxyLnN5c3RlbUlkPW4scn19O2Z1bmN0aW9uIEkoKXt9SS5wcm90b3R5cGU9e2ZpcnN0Q2hpbGQ6bnVsbCxsYXN0Q2hpbGQ6bnVsbCxwcmV2aW91c1NpYmxpbmc6bnVsbCxuZXh0U2libGluZzpudWxsLGF0dHJpYnV0ZXM6bnVsbCxwYXJlbnROb2RlOm51bGwsY2hpbGROb2RlczpudWxsLG93bmVyRG9jdW1lbnQ6bnVsbCxub2RlVmFsdWU6bnVsbCxuYW1lc3BhY2VVUkk6bnVsbCxwcmVmaXg6bnVsbCxsb2NhbE5hbWU6bnVsbCxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gcXQodGhpcyx0LGUpfSxyZXBsYWNlQ2hpbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLmluc2VydEJlZm9yZSh0LGUpLGUmJnRoaXMucmVtb3ZlQ2hpbGQoZSl9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKHQpe3JldHVybiBYdCh0aGlzLHQpfSxhcHBlbmRDaGlsZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUodCxudWxsKX0saGFzQ2hpbGROb2RlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpcnN0Q2hpbGQhPW51bGx9LGNsb25lTm9kZTpmdW5jdGlvbih0KXtyZXR1cm4gV2UodGhpcy5vd25lckRvY3VtZW50fHx0aGlzLHRoaXMsdCl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmZpcnN0Q2hpbGQ7dDspe3ZhciBlPXQubmV4dFNpYmxpbmc7ZSYmZS5ub2RlVHlwZT09RGUmJnQubm9kZVR5cGU9PURlPyh0aGlzLnJlbW92ZUNoaWxkKGUpLHQuYXBwZW5kRGF0YShlLmRhdGEpKToodC5ub3JtYWxpemUoKSx0PWUpfX0saXNTdXBwb3J0ZWQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUodCxlKX0saGFzQXR0cmlidXRlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoPjB9LGxvb2t1cFByZWZpeDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcztlOyl7dmFyIG49ZS5fbnNNYXA7aWYobil7Zm9yKHZhciByIGluIG4paWYobltyXT09dClyZXR1cm4gcn1lPWUubm9kZVR5cGU9PW9lP2Uub3duZXJEb2N1bWVudDplLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LGxvb2t1cE5hbWVzcGFjZVVSSTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcztlOyl7dmFyIG49ZS5fbnNNYXA7aWYobiYmdCBpbiBuKXJldHVybiBuW3RdO2U9ZS5ub2RlVHlwZT09b2U/ZS5vd25lckRvY3VtZW50OmUucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0saXNEZWZhdWx0TmFtZXNwYWNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubG9va3VwUHJlZml4KHQpO3JldHVybiBlPT1udWxsfX07ZnVuY3Rpb24gVXQodCl7cmV0dXJuIHQ9PVxcXCI8XFxcIiYmXFxcIiZsdDtcXFwifHx0PT1cXFwiPlxcXCImJlxcXCImZ3Q7XFxcInx8dD09XFxcIiZcXFwiJiZcXFwiJmFtcDtcXFwifHx0PT0nXFxcIicmJlxcXCImcXVvdDtcXFwifHxcXFwiJiNcXFwiK3QuY2hhckNvZGVBdCgpK1xcXCI7XFxcIn12ZShGLEkpO3ZlKEYsSS5wcm90b3R5cGUpO2Z1bmN0aW9uIFNlKHQsZSl7aWYoZSh0KSlyZXR1cm4hMDtpZih0PXQuZmlyc3RDaGlsZClkbyBpZihTZSh0LGUpKXJldHVybiEwO3doaWxlKHQ9dC5uZXh0U2libGluZyl9ZnVuY3Rpb24geWUoKXt9ZnVuY3Rpb24gVW4odCxlLG4pe3QmJnQuX2luYysrO3ZhciByPW4ubmFtZXNwYWNlVVJJO3I9PVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1xcXCImJihlLl9uc01hcFtuLnByZWZpeD9uLmxvY2FsTmFtZTpcXFwiXFxcIl09bi52YWx1ZSl9ZnVuY3Rpb24gWXQodCxlLG4scil7dCYmdC5faW5jKys7dmFyIGk9bi5uYW1lc3BhY2VVUkk7aT09XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXFxcIiYmZGVsZXRlIGUuX25zTWFwW24ucHJlZml4P24ubG9jYWxOYW1lOlxcXCJcXFwiXX1mdW5jdGlvbiBqZSh0LGUsbil7aWYodCYmdC5faW5jKXt0Ll9pbmMrKzt2YXIgcj1lLmNoaWxkTm9kZXM7aWYobilyW3IubGVuZ3RoKytdPW47ZWxzZXtmb3IodmFyIGk9ZS5maXJzdENoaWxkLHM9MDtpOylyW3MrK109aSxpPWkubmV4dFNpYmxpbmc7ci5sZW5ndGg9c319fWZ1bmN0aW9uIFh0KHQsZSl7dmFyIG49ZS5wcmV2aW91c1NpYmxpbmcscj1lLm5leHRTaWJsaW5nO3JldHVybiBuP24ubmV4dFNpYmxpbmc9cjp0LmZpcnN0Q2hpbGQ9cixyP3IucHJldmlvdXNTaWJsaW5nPW46dC5sYXN0Q2hpbGQ9bixqZSh0Lm93bmVyRG9jdW1lbnQsdCksZX1mdW5jdGlvbiBxdCh0LGUsbil7dmFyIHI9ZS5wYXJlbnROb2RlO2lmKHImJnIucmVtb3ZlQ2hpbGQoZSksZS5ub2RlVHlwZT09PUgpe3ZhciBpPWUuZmlyc3RDaGlsZDtpZihpPT1udWxsKXJldHVybiBlO3ZhciBzPWUubGFzdENoaWxkfWVsc2UgaT1zPWU7dmFyIG89bj9uLnByZXZpb3VzU2libGluZzp0Lmxhc3RDaGlsZDtpLnByZXZpb3VzU2libGluZz1vLHMubmV4dFNpYmxpbmc9bixvP28ubmV4dFNpYmxpbmc9aTp0LmZpcnN0Q2hpbGQ9aSxuPT1udWxsP3QubGFzdENoaWxkPXM6bi5wcmV2aW91c1NpYmxpbmc9cztkbyBpLnBhcmVudE5vZGU9dDt3aGlsZShpIT09cyYmKGk9aS5uZXh0U2libGluZykpO3JldHVybiBqZSh0Lm93bmVyRG9jdW1lbnR8fHQsdCksZS5ub2RlVHlwZT09SCYmKGUuZmlyc3RDaGlsZD1lLmxhc3RDaGlsZD1udWxsKSxlfWZ1bmN0aW9uIExuKHQsZSl7dmFyIG49ZS5wYXJlbnROb2RlO2lmKG4pe3ZhciByPXQubGFzdENoaWxkO24ucmVtb3ZlQ2hpbGQoZSk7dmFyIHI9dC5sYXN0Q2hpbGR9dmFyIHI9dC5sYXN0Q2hpbGQ7cmV0dXJuIGUucGFyZW50Tm9kZT10LGUucHJldmlvdXNTaWJsaW5nPXIsZS5uZXh0U2libGluZz1udWxsLHI/ci5uZXh0U2libGluZz1lOnQuZmlyc3RDaGlsZD1lLHQubGFzdENoaWxkPWUsamUodC5vd25lckRvY3VtZW50LHQsZSksZX15ZS5wcm90b3R5cGU9e25vZGVOYW1lOlxcXCIjZG9jdW1lbnRcXFwiLG5vZGVUeXBlOlZ0LGRvY3R5cGU6bnVsbCxkb2N1bWVudEVsZW1lbnQ6bnVsbCxfaW5jOjEsaW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKHQsZSl7aWYodC5ub2RlVHlwZT09SCl7Zm9yKHZhciBuPXQuZmlyc3RDaGlsZDtuOyl7dmFyIHI9bi5uZXh0U2libGluZzt0aGlzLmluc2VydEJlZm9yZShuLGUpLG49cn1yZXR1cm4gdH1yZXR1cm4gdGhpcy5kb2N1bWVudEVsZW1lbnQ9PW51bGwmJnQubm9kZVR5cGU9PUImJih0aGlzLmRvY3VtZW50RWxlbWVudD10KSxxdCh0aGlzLHQsZSksdC5vd25lckRvY3VtZW50PXRoaXMsdH0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRFbGVtZW50PT10JiYodGhpcy5kb2N1bWVudEVsZW1lbnQ9bnVsbCksWHQodGhpcyx0KX0saW1wb3J0Tm9kZTpmdW5jdGlvbih0LGUpe3JldHVybiB0bih0aGlzLHQsZSl9LGdldEVsZW1lbnRCeUlkOmZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7cmV0dXJuIFNlKHRoaXMuZG9jdW1lbnRFbGVtZW50LGZ1bmN0aW9uKG4pe2lmKG4ubm9kZVR5cGU9PUImJm4uZ2V0QXR0cmlidXRlKFxcXCJpZFxcXCIpPT10KXJldHVybiBlPW4sITB9KSxlfSxnZXRFbGVtZW50c0J5Q2xhc3NOYW1lOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBSZWdFeHAoXFxcIihefFxcXFxcXFxccylcXFwiK3QrXFxcIihcXFxcXFxcXHN8JClcXFwiKTtyZXR1cm4gbmV3IGNlKHRoaXMsZnVuY3Rpb24obil7dmFyIHI9W107cmV0dXJuIFNlKG4uZG9jdW1lbnRFbGVtZW50LGZ1bmN0aW9uKGkpe2khPT1uJiZpLm5vZGVUeXBlPT1CJiZlLnRlc3QoaS5nZXRBdHRyaWJ1dGUoXFxcImNsYXNzXFxcIikpJiZyLnB1c2goaSl9KSxyfSl9LGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGxlO2Uub3duZXJEb2N1bWVudD10aGlzLGUubm9kZU5hbWU9dCxlLnRhZ05hbWU9dCxlLmNoaWxkTm9kZXM9bmV3IFo7dmFyIG49ZS5hdHRyaWJ1dGVzPW5ldyAkZTtyZXR1cm4gbi5fb3duZXJFbGVtZW50PWUsZX0sY3JlYXRlRG9jdW1lbnRGcmFnbWVudDpmdW5jdGlvbigpe3ZhciB0PW5ldyBNZTtyZXR1cm4gdC5vd25lckRvY3VtZW50PXRoaXMsdC5jaGlsZE5vZGVzPW5ldyBaLHR9LGNyZWF0ZVRleHROb2RlOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBCZTtyZXR1cm4gZS5vd25lckRvY3VtZW50PXRoaXMsZS5hcHBlbmREYXRhKHQpLGV9LGNyZWF0ZUNvbW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFZlO3JldHVybiBlLm93bmVyRG9jdW1lbnQ9dGhpcyxlLmFwcGVuZERhdGEodCksZX0sY3JlYXRlQ0RBVEFTZWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB6ZTtyZXR1cm4gZS5vd25lckRvY3VtZW50PXRoaXMsZS5hcHBlbmREYXRhKHQpLGV9LGNyZWF0ZVByb2Nlc3NpbmdJbnN0cnVjdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBZZTtyZXR1cm4gbi5vd25lckRvY3VtZW50PXRoaXMsbi50YWdOYW1lPW4udGFyZ2V0PXQsbi5ub2RlVmFsdWU9bi5kYXRhPWUsbn0sY3JlYXRlQXR0cmlidXRlOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB4ZTtyZXR1cm4gZS5vd25lckRvY3VtZW50PXRoaXMsZS5uYW1lPXQsZS5ub2RlTmFtZT10LGUubG9jYWxOYW1lPXQsZS5zcGVjaWZpZWQ9ITAsZX0sY3JlYXRlRW50aXR5UmVmZXJlbmNlOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBLZTtyZXR1cm4gZS5vd25lckRvY3VtZW50PXRoaXMsZS5ub2RlTmFtZT10LGV9LGNyZWF0ZUVsZW1lbnROUzpmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBsZSxyPWUuc3BsaXQoXFxcIjpcXFwiKSxpPW4uYXR0cmlidXRlcz1uZXcgJGU7cmV0dXJuIG4uY2hpbGROb2Rlcz1uZXcgWixuLm93bmVyRG9jdW1lbnQ9dGhpcyxuLm5vZGVOYW1lPWUsbi50YWdOYW1lPWUsbi5uYW1lc3BhY2VVUkk9dCxyLmxlbmd0aD09Mj8obi5wcmVmaXg9clswXSxuLmxvY2FsTmFtZT1yWzFdKTpuLmxvY2FsTmFtZT1lLGkuX293bmVyRWxlbWVudD1uLG59LGNyZWF0ZUF0dHJpYnV0ZU5TOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHhlLHI9ZS5zcGxpdChcXFwiOlxcXCIpO3JldHVybiBuLm93bmVyRG9jdW1lbnQ9dGhpcyxuLm5vZGVOYW1lPWUsbi5uYW1lPWUsbi5uYW1lc3BhY2VVUkk9dCxuLnNwZWNpZmllZD0hMCxyLmxlbmd0aD09Mj8obi5wcmVmaXg9clswXSxuLmxvY2FsTmFtZT1yWzFdKTpuLmxvY2FsTmFtZT1lLG59fTtrKHllLEkpO2Z1bmN0aW9uIGxlKCl7dGhpcy5fbnNNYXA9e319bGUucHJvdG90eXBlPXtub2RlVHlwZTpCLGhhc0F0dHJpYnV0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGVOb2RlKHQpIT1udWxsfSxnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBdHRyaWJ1dGVOb2RlKHQpO3JldHVybiBlJiZlLnZhbHVlfHxcXFwiXFxcIn0sZ2V0QXR0cmlidXRlTm9kZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbSh0KX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZSh0KTtuLnZhbHVlPW4ubm9kZVZhbHVlPVxcXCJcXFwiK2UsdGhpcy5zZXRBdHRyaWJ1dGVOb2RlKG4pfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBdHRyaWJ1dGVOb2RlKHQpO2UmJnRoaXMucmVtb3ZlQXR0cmlidXRlTm9kZShlKX0sYXBwZW5kQ2hpbGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQubm9kZVR5cGU9PT1IP3RoaXMuaW5zZXJ0QmVmb3JlKHQsbnVsbCk6TG4odGhpcyx0KX0sc2V0QXR0cmlidXRlTm9kZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLnNldE5hbWVkSXRlbSh0KX0sc2V0QXR0cmlidXRlTm9kZU5TOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuc2V0TmFtZWRJdGVtTlModCl9LHJlbW92ZUF0dHJpYnV0ZU5vZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5yZW1vdmVOYW1lZEl0ZW0odC5ub2RlTmFtZSl9LHJlbW92ZUF0dHJpYnV0ZU5TOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRBdHRyaWJ1dGVOb2RlTlModCxlKTtuJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZU5vZGUobil9LGhhc0F0dHJpYnV0ZU5TOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlTm9kZU5TKHQsZSkhPW51bGx9LGdldEF0dHJpYnV0ZU5TOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRBdHRyaWJ1dGVOb2RlTlModCxlKTtyZXR1cm4gbiYmbi52YWx1ZXx8XFxcIlxcXCJ9LHNldEF0dHJpYnV0ZU5TOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlTlModCxlKTtyLnZhbHVlPXIubm9kZVZhbHVlPVxcXCJcXFwiK24sdGhpcy5zZXRBdHRyaWJ1dGVOb2RlKHIpfSxnZXRBdHRyaWJ1dGVOb2RlTlM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbU5TKHQsZSl9LGdldEVsZW1lbnRzQnlUYWdOYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgY2UodGhpcyxmdW5jdGlvbihlKXt2YXIgbj1bXTtyZXR1cm4gU2UoZSxmdW5jdGlvbihyKXtyIT09ZSYmci5ub2RlVHlwZT09QiYmKHQ9PT1cXFwiKlxcXCJ8fHIudGFnTmFtZT09dCkmJm4ucHVzaChyKX0pLG59KX0sZ2V0RWxlbWVudHNCeVRhZ05hbWVOUzpmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgY2UodGhpcyxmdW5jdGlvbihuKXt2YXIgcj1bXTtyZXR1cm4gU2UobixmdW5jdGlvbihpKXtpIT09biYmaS5ub2RlVHlwZT09PUImJih0PT09XFxcIipcXFwifHxpLm5hbWVzcGFjZVVSST09PXQpJiYoZT09PVxcXCIqXFxcInx8aS5sb2NhbE5hbWU9PWUpJiZyLnB1c2goaSl9KSxyfSl9fTt5ZS5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWU9bGUucHJvdG90eXBlLmdldEVsZW1lbnRzQnlUYWdOYW1lO3llLnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZU5TPWxlLnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZU5TO2sobGUsSSk7ZnVuY3Rpb24geGUoKXt9eGUucHJvdG90eXBlLm5vZGVUeXBlPW9lO2soeGUsSSk7ZnVuY3Rpb24gUmUoKXt9UmUucHJvdG90eXBlPXtkYXRhOlxcXCJcXFwiLHN1YnN0cmluZ0RhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYXRhLnN1YnN0cmluZyh0LHQrZSl9LGFwcGVuZERhdGE6ZnVuY3Rpb24odCl7dD10aGlzLmRhdGErdCx0aGlzLm5vZGVWYWx1ZT10aGlzLmRhdGE9dCx0aGlzLmxlbmd0aD10Lmxlbmd0aH0saW5zZXJ0RGF0YTpmdW5jdGlvbih0LGUpe3RoaXMucmVwbGFjZURhdGEodCwwLGUpfSxhcHBlbmRDaGlsZDpmdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoJFtrbl0pfSxkZWxldGVEYXRhOmZ1bmN0aW9uKHQsZSl7dGhpcy5yZXBsYWNlRGF0YSh0LGUsXFxcIlxcXCIpfSxyZXBsYWNlRGF0YTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5kYXRhLnN1YnN0cmluZygwLHQpLGk9dGhpcy5kYXRhLnN1YnN0cmluZyh0K2UpO249cituK2ksdGhpcy5ub2RlVmFsdWU9dGhpcy5kYXRhPW4sdGhpcy5sZW5ndGg9bi5sZW5ndGh9fTtrKFJlLEkpO2Z1bmN0aW9uIEJlKCl7fUJlLnByb3RvdHlwZT17bm9kZU5hbWU6XFxcIiN0ZXh0XFxcIixub2RlVHlwZTpEZSxzcGxpdFRleHQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLG49ZS5zdWJzdHJpbmcodCk7ZT1lLnN1YnN0cmluZygwLHQpLHRoaXMuZGF0YT10aGlzLm5vZGVWYWx1ZT1lLHRoaXMubGVuZ3RoPWUubGVuZ3RoO3ZhciByPXRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKTtyZXR1cm4gdGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHIsdGhpcy5uZXh0U2libGluZykscn19O2soQmUsUmUpO2Z1bmN0aW9uIFZlKCl7fVZlLnByb3RvdHlwZT17bm9kZU5hbWU6XFxcIiNjb21tZW50XFxcIixub2RlVHlwZTpCdH07ayhWZSxSZSk7ZnVuY3Rpb24gemUoKXt9emUucHJvdG90eXBlPXtub2RlTmFtZTpcXFwiI2NkYXRhLXNlY3Rpb25cXFwiLG5vZGVUeXBlOld0fTtrKHplLFJlKTtmdW5jdGlvbiBIZSgpe31IZS5wcm90b3R5cGUubm9kZVR5cGU9enQ7ayhIZSxJKTtmdW5jdGlvbiBadCgpe31adC5wcm90b3R5cGUubm9kZVR5cGU9UG47ayhadCxJKTtmdW5jdGlvbiBRdCgpe31RdC5wcm90b3R5cGUubm9kZVR5cGU9SW47ayhRdCxJKTtmdW5jdGlvbiBLZSgpe31LZS5wcm90b3R5cGUubm9kZVR5cGU9R3Q7ayhLZSxJKTtmdW5jdGlvbiBNZSgpe31NZS5wcm90b3R5cGUubm9kZU5hbWU9XFxcIiNkb2N1bWVudC1mcmFnbWVudFxcXCI7TWUucHJvdG90eXBlLm5vZGVUeXBlPUg7ayhNZSxJKTtmdW5jdGlvbiBZZSgpe31ZZS5wcm90b3R5cGUubm9kZVR5cGU9anQ7ayhZZSxJKTtmdW5jdGlvbiBKdCgpe31KdC5wcm90b3R5cGUuc2VyaWFsaXplVG9TdHJpbmc9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlbi5jYWxsKHQsZSxuKX07SS5wcm90b3R5cGUudG9TdHJpbmc9ZW47ZnVuY3Rpb24gZW4odCxlKXt2YXIgbj1bXSxyPXRoaXMubm9kZVR5cGU9PTkmJnRoaXMuZG9jdW1lbnRFbGVtZW50fHx0aGlzLGk9ci5wcmVmaXgscz1yLm5hbWVzcGFjZVVSSTtpZihzJiZpPT1udWxsKXt2YXIgaT1yLmxvb2t1cFByZWZpeChzKTtpZihpPT1udWxsKXZhciBvPVt7bmFtZXNwYWNlOnMscHJlZml4Om51bGx9XX1yZXR1cm4gYWUodGhpcyxuLHQsZSxvKSxuLmpvaW4oXFxcIlxcXCIpfWZ1bmN0aW9uIEx0KHQsZSxuKXt2YXIgcj10LnByZWZpeHx8XFxcIlxcXCIsaT10Lm5hbWVzcGFjZVVSSTtpZighciYmIWl8fHI9PT1cXFwieG1sXFxcIiYmaT09PVxcXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcXFwifHxpPT1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cXFwiKXJldHVybiExO2Zvcih2YXIgcz1uLmxlbmd0aDtzLS07KXt2YXIgbz1uW3NdO2lmKG8ucHJlZml4PT1yKXJldHVybiBvLm5hbWVzcGFjZSE9aX1yZXR1cm4hMH1mdW5jdGlvbiBhZSh0LGUsbixyLGkpe2lmKHIpaWYodD1yKHQpLHQpe2lmKHR5cGVvZiB0PT1cXFwic3RyaW5nXFxcIil7ZS5wdXNoKHQpO3JldHVybn19ZWxzZSByZXR1cm47c3dpdGNoKHQubm9kZVR5cGUpe2Nhc2UgQjppfHwoaT1bXSk7dmFyIHM9aS5sZW5ndGgsbz10LmF0dHJpYnV0ZXMsbD1vLmxlbmd0aCx5PXQuZmlyc3RDaGlsZCx1PXQudGFnTmFtZTtuPU9uPT09dC5uYW1lc3BhY2VVUkl8fG4sZS5wdXNoKFxcXCI8XFxcIix1KTtmb3IodmFyIGE9MDthPGw7YSsrKXt2YXIgZj1vLml0ZW0oYSk7Zi5wcmVmaXg9PVxcXCJ4bWxuc1xcXCI/aS5wdXNoKHtwcmVmaXg6Zi5sb2NhbE5hbWUsbmFtZXNwYWNlOmYudmFsdWV9KTpmLm5vZGVOYW1lPT1cXFwieG1sbnNcXFwiJiZpLnB1c2goe3ByZWZpeDpcXFwiXFxcIixuYW1lc3BhY2U6Zi52YWx1ZX0pfWZvcih2YXIgYT0wO2E8bDthKyspe3ZhciBmPW8uaXRlbShhKTtpZihMdChmLG4saSkpe3ZhciBoPWYucHJlZml4fHxcXFwiXFxcIixTPWYubmFtZXNwYWNlVVJJLEU9aD9cXFwiIHhtbG5zOlxcXCIraDpcXFwiIHhtbG5zXFxcIjtlLnB1c2goRSwnPVxcXCInLFMsJ1xcXCInKSxpLnB1c2goe3ByZWZpeDpoLG5hbWVzcGFjZTpTfSl9YWUoZixlLG4scixpKX1pZihMdCh0LG4saSkpe3ZhciBoPXQucHJlZml4fHxcXFwiXFxcIixTPXQubmFtZXNwYWNlVVJJO2lmKFMpe3ZhciBFPWg/XFxcIiB4bWxuczpcXFwiK2g6XFxcIiB4bWxuc1xcXCI7ZS5wdXNoKEUsJz1cXFwiJyxTLCdcXFwiJyksaS5wdXNoKHtwcmVmaXg6aCxuYW1lc3BhY2U6U30pfX1pZih5fHxuJiYhL14oPzptZXRhfGxpbmt8aW1nfGJyfGhyfGlucHV0KSQvaS50ZXN0KHUpKXtpZihlLnB1c2goXFxcIj5cXFwiKSxuJiYvXnNjcmlwdCQvaS50ZXN0KHUpKWZvcig7eTspeS5kYXRhP2UucHVzaCh5LmRhdGEpOmFlKHksZSxuLHIsaSkseT15Lm5leHRTaWJsaW5nO2Vsc2UgZm9yKDt5OylhZSh5LGUsbixyLGkpLHk9eS5uZXh0U2libGluZztlLnB1c2goXFxcIjwvXFxcIix1LFxcXCI+XFxcIil9ZWxzZSBlLnB1c2goXFxcIi8+XFxcIik7cmV0dXJuO2Nhc2UgVnQ6Y2FzZSBIOmZvcih2YXIgeT10LmZpcnN0Q2hpbGQ7eTspYWUoeSxlLG4scixpKSx5PXkubmV4dFNpYmxpbmc7cmV0dXJuO2Nhc2Ugb2U6cmV0dXJuIGUucHVzaChcXFwiIFxcXCIsdC5uYW1lLCc9XFxcIicsdC52YWx1ZS5yZXBsYWNlKC9bPCZcXFwiXS9nLFV0KSwnXFxcIicpO2Nhc2UgRGU6cmV0dXJuIGUucHVzaCh0LmRhdGEucmVwbGFjZSgvWzwmXS9nLFV0KS5yZXBsYWNlKC9dXT4vZyxcXFwiXV0mZ3Q7XFxcIikpO2Nhc2UgV3Q6cmV0dXJuIGUucHVzaChcXFwiPCFbQ0RBVEFbXFxcIix0LmRhdGEsXFxcIl1dPlxcXCIpO2Nhc2UgQnQ6cmV0dXJuIGUucHVzaChcXFwiPCEtLVxcXCIsdC5kYXRhLFxcXCItLT5cXFwiKTtjYXNlIHp0OnZhciBSPXQucHVibGljSWQsdj10LnN5c3RlbUlkO2lmKGUucHVzaChcXFwiPCFET0NUWVBFIFxcXCIsdC5uYW1lKSxSKWUucHVzaChcXFwiIFBVQkxJQyBcXFwiLFIpLHYmJnYhPVxcXCIuXFxcIiYmZS5wdXNoKFxcXCIgXFxcIix2KSxlLnB1c2goXFxcIj5cXFwiKTtlbHNlIGlmKHYmJnYhPVxcXCIuXFxcIillLnB1c2goXFxcIiBTWVNURU0gXFxcIix2LFxcXCI+XFxcIik7ZWxzZXt2YXIgTT10LmludGVybmFsU3Vic2V0O00mJmUucHVzaChcXFwiIFtcXFwiLE0sXFxcIl1cXFwiKSxlLnB1c2goXFxcIj5cXFwiKX1yZXR1cm47Y2FzZSBqdDpyZXR1cm4gZS5wdXNoKFxcXCI8P1xcXCIsdC50YXJnZXQsXFxcIiBcXFwiLHQuZGF0YSxcXFwiPz5cXFwiKTtjYXNlIEd0OnJldHVybiBlLnB1c2goXFxcIiZcXFwiLHQubm9kZU5hbWUsXFxcIjtcXFwiKTtkZWZhdWx0OmUucHVzaChcXFwiPz9cXFwiLHQubm9kZU5hbWUpfX1mdW5jdGlvbiB0bih0LGUsbil7dmFyIHI7c3dpdGNoKGUubm9kZVR5cGUpe2Nhc2UgQjpyPWUuY2xvbmVOb2RlKCExKSxyLm93bmVyRG9jdW1lbnQ9dDtjYXNlIEg6YnJlYWs7Y2FzZSBvZTpuPSEwO2JyZWFrfWlmKHJ8fChyPWUuY2xvbmVOb2RlKCExKSksci5vd25lckRvY3VtZW50PXQsci5wYXJlbnROb2RlPW51bGwsbilmb3IodmFyIGk9ZS5maXJzdENoaWxkO2k7KXIuYXBwZW5kQ2hpbGQodG4odCxpLG4pKSxpPWkubmV4dFNpYmxpbmc7cmV0dXJuIHJ9ZnVuY3Rpb24gV2UodCxlLG4pe3ZhciByPW5ldyBlLmNvbnN0cnVjdG9yO2Zvcih2YXIgaSBpbiBlKXt2YXIgcz1lW2ldO3R5cGVvZiBzIT1cXFwib2JqZWN0XFxcIiYmcyE9cltpXSYmKHJbaV09cyl9c3dpdGNoKGUuY2hpbGROb2RlcyYmKHIuY2hpbGROb2Rlcz1uZXcgWiksci5vd25lckRvY3VtZW50PXQsci5ub2RlVHlwZSl7Y2FzZSBCOnZhciBvPWUuYXR0cmlidXRlcyxsPXIuYXR0cmlidXRlcz1uZXcgJGUsdT1vLmxlbmd0aDtsLl9vd25lckVsZW1lbnQ9cjtmb3IodmFyIGE9MDthPHU7YSsrKXIuc2V0QXR0cmlidXRlTm9kZShXZSh0LG8uaXRlbShhKSwhMCkpO2JyZWFrO2Nhc2Ugb2U6bj0hMH1pZihuKWZvcih2YXIgZj1lLmZpcnN0Q2hpbGQ7Zjspci5hcHBlbmRDaGlsZChXZSh0LGYsbikpLGY9Zi5uZXh0U2libGluZztyZXR1cm4gcn1mdW5jdGlvbiBubih0LGUsbil7dFtlXT1ufXRyeXtpZihPYmplY3QuZGVmaW5lUHJvcGVydHkpe2xldCB0PWZ1bmN0aW9uKGUpe3N3aXRjaChlLm5vZGVUeXBlKXtjYXNlIEI6Y2FzZSBIOnZhciBuPVtdO2ZvcihlPWUuZmlyc3RDaGlsZDtlOyllLm5vZGVUeXBlIT09NyYmZS5ub2RlVHlwZSE9PTgmJm4ucHVzaCh0KGUpKSxlPWUubmV4dFNpYmxpbmc7cmV0dXJuIG4uam9pbihcXFwiXFxcIik7ZGVmYXVsdDpyZXR1cm4gZS5ub2RlVmFsdWV9fTtEYT10LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjZS5wcm90b3R5cGUsXFxcImxlbmd0aFxcXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBHZSh0aGlzKSx0aGlzLiQkbGVuZ3RofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJLnByb3RvdHlwZSxcXFwidGV4dENvbnRlbnRcXFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzKX0sc2V0OmZ1bmN0aW9uKGUpe3N3aXRjaCh0aGlzLm5vZGVUeXBlKXtjYXNlIEI6Y2FzZSBIOmZvcig7dGhpcy5maXJzdENoaWxkOyl0aGlzLnJlbW92ZUNoaWxkKHRoaXMuZmlyc3RDaGlsZCk7KGV8fFN0cmluZyhlKSkmJnRoaXMuYXBwZW5kQ2hpbGQodGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpKTticmVhaztkZWZhdWx0OnRoaXMuZGF0YT1lLHRoaXMudmFsdWU9ZSx0aGlzLm5vZGVWYWx1ZT1lfX19KSxubj1mdW5jdGlvbihlLG4scil7ZVtcXFwiJCRcXFwiK25dPXJ9fX1jYXRjaCh0KXt9dmFyIERhO0NlLk5vZGU9STtDZS5ET01FeGNlcHRpb249dGU7Q2UuRE9NSW1wbGVtZW50YXRpb249S3Q7Q2UuWE1MU2VyaWFsaXplcj1KdH0pO3ZhciBvbj1iZShfZT0+e2Z1bmN0aW9uIHNuKHQpe3RoaXMub3B0aW9ucz10fHx7bG9jYXRvcjp7fX19c24ucHJvdG90eXBlLnBhcnNlRnJvbVN0cmluZz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9ucyxyPW5ldyBqbixpPW4uZG9tQnVpbGRlcnx8bmV3IEVlLHM9bi5lcnJvckhhbmRsZXIsbz1uLmxvY2F0b3IsbD1uLnhtbG5zfHx7fSx1PS9cXFxcL3g/aHRtbD8kLy50ZXN0KGUpLGE9dT9Hbi5lbnRpdHlNYXA6e2x0OlxcXCI8XFxcIixndDpcXFwiPlxcXCIsYW1wOlxcXCImXFxcIixxdW90OidcXFwiJyxhcG9zOlxcXCInXFxcIn07cmV0dXJuIG8mJmkuc2V0RG9jdW1lbnRMb2NhdG9yKG8pLHIuZXJyb3JIYW5kbGVyPVduKHMsaSxvKSxyLmRvbUJ1aWxkZXI9bi5kb21CdWlsZGVyfHxpLHUmJihsW1xcXCJcXFwiXT1cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCIpLGwueG1sPWwueG1sfHxcXFwiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlXFxcIix0JiZ0eXBlb2YgdD09XFxcInN0cmluZ1xcXCI/ci5wYXJzZSh0LGwsYSk6ci5lcnJvckhhbmRsZXIuZXJyb3IoXFxcImludmFsaWQgZG9jIHNvdXJjZVxcXCIpLGkuZG9jfTtmdW5jdGlvbiBXbih0LGUsbil7aWYoIXQpe2lmKGUgaW5zdGFuY2VvZiBFZSlyZXR1cm4gZTt0PWV9dmFyIHI9e30saT10IGluc3RhbmNlb2YgRnVuY3Rpb247bj1ufHx7fTtmdW5jdGlvbiBzKG8pe3ZhciBsPXRbb107IWwmJmkmJihsPXQubGVuZ3RoPT0yP2Z1bmN0aW9uKHUpe3Qobyx1KX06dCkscltvXT1sJiZmdW5jdGlvbih1KXtsKFxcXCJbeG1sZG9tIFxcXCIrbytcXFwiXVxcdFxcXCIrdStxZShuKSl9fHxmdW5jdGlvbigpe319cmV0dXJuIHMoXFxcIndhcm5pbmdcXFwiKSxzKFxcXCJlcnJvclxcXCIpLHMoXFxcImZhdGFsRXJyb3JcXFwiKSxyfWZ1bmN0aW9uIEVlKCl7dGhpcy5jZGF0YT0hMX1mdW5jdGlvbiB1ZSh0LGUpe2UubGluZU51bWJlcj10LmxpbmVOdW1iZXIsZS5jb2x1bW5OdW1iZXI9dC5jb2x1bW5OdW1iZXJ9RWUucHJvdG90eXBlPXtzdGFydERvY3VtZW50OmZ1bmN0aW9uKCl7dGhpcy5kb2M9bmV3IFZuKCkuY3JlYXRlRG9jdW1lbnQobnVsbCxudWxsLG51bGwpLHRoaXMubG9jYXRvciYmKHRoaXMuZG9jLmRvY3VtZW50VVJJPXRoaXMubG9jYXRvci5zeXN0ZW1JZCl9LHN0YXJ0RWxlbWVudDpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLmRvYyxzPWkuY3JlYXRlRWxlbWVudE5TKHQsbnx8ZSksbz1yLmxlbmd0aDtPZSh0aGlzLHMpLHRoaXMuY3VycmVudEVsZW1lbnQ9cyx0aGlzLmxvY2F0b3ImJnVlKHRoaXMubG9jYXRvcixzKTtmb3IodmFyIGw9MDtsPG87bCsrKXt2YXIgdD1yLmdldFVSSShsKSx1PXIuZ2V0VmFsdWUobCksbj1yLmdldFFOYW1lKGwpLGE9aS5jcmVhdGVBdHRyaWJ1dGVOUyh0LG4pO3RoaXMubG9jYXRvciYmdWUoci5nZXRMb2NhdG9yKGwpLGEpLGEudmFsdWU9YS5ub2RlVmFsdWU9dSxzLnNldEF0dHJpYnV0ZU5vZGUoYSl9fSxlbmRFbGVtZW50OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmN1cnJlbnRFbGVtZW50LGk9ci50YWdOYW1lO3RoaXMuY3VycmVudEVsZW1lbnQ9ci5wYXJlbnROb2RlfSxzdGFydFByZWZpeE1hcHBpbmc6ZnVuY3Rpb24odCxlKXt9LGVuZFByZWZpeE1hcHBpbmc6ZnVuY3Rpb24odCl7fSxwcm9jZXNzaW5nSW5zdHJ1Y3Rpb246ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmRvYy5jcmVhdGVQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24odCxlKTt0aGlzLmxvY2F0b3ImJnVlKHRoaXMubG9jYXRvcixuKSxPZSh0aGlzLG4pfSxpZ25vcmFibGVXaGl0ZXNwYWNlOmZ1bmN0aW9uKHQsZSxuKXt9LGNoYXJhY3RlcnM6ZnVuY3Rpb24odCxlLG4pe2lmKHQ9cm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHQpe2lmKHRoaXMuY2RhdGEpdmFyIHI9dGhpcy5kb2MuY3JlYXRlQ0RBVEFTZWN0aW9uKHQpO2Vsc2UgdmFyIHI9dGhpcy5kb2MuY3JlYXRlVGV4dE5vZGUodCk7dGhpcy5jdXJyZW50RWxlbWVudD90aGlzLmN1cnJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHIpOi9eXFxcXHMqJC8udGVzdCh0KSYmdGhpcy5kb2MuYXBwZW5kQ2hpbGQociksdGhpcy5sb2NhdG9yJiZ1ZSh0aGlzLmxvY2F0b3Iscil9fSxza2lwcGVkRW50aXR5OmZ1bmN0aW9uKHQpe30sZW5kRG9jdW1lbnQ6ZnVuY3Rpb24oKXt0aGlzLmRvYy5ub3JtYWxpemUoKX0sc2V0RG9jdW1lbnRMb2NhdG9yOmZ1bmN0aW9uKHQpeyh0aGlzLmxvY2F0b3I9dCkmJih0LmxpbmVOdW1iZXI9MCl9LGNvbW1lbnQ6ZnVuY3Rpb24odCxlLG4pe3Q9cm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciByPXRoaXMuZG9jLmNyZWF0ZUNvbW1lbnQodCk7dGhpcy5sb2NhdG9yJiZ1ZSh0aGlzLmxvY2F0b3IsciksT2UodGhpcyxyKX0sc3RhcnRDREFUQTpmdW5jdGlvbigpe3RoaXMuY2RhdGE9ITB9LGVuZENEQVRBOmZ1bmN0aW9uKCl7dGhpcy5jZGF0YT0hMX0sc3RhcnREVEQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZG9jLmltcGxlbWVudGF0aW9uO2lmKHImJnIuY3JlYXRlRG9jdW1lbnRUeXBlKXt2YXIgaT1yLmNyZWF0ZURvY3VtZW50VHlwZSh0LGUsbik7dGhpcy5sb2NhdG9yJiZ1ZSh0aGlzLmxvY2F0b3IsaSksT2UodGhpcyxpKX19LHdhcm5pbmc6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFxcXCJbeG1sZG9tIHdhcm5pbmddXFx0XFxcIit0LHFlKHRoaXMubG9jYXRvcikpfSxlcnJvcjpmdW5jdGlvbih0KXtjb25zb2xlLmVycm9yKFxcXCJbeG1sZG9tIGVycm9yXVxcdFxcXCIrdCxxZSh0aGlzLmxvY2F0b3IpKX0sZmF0YWxFcnJvcjpmdW5jdGlvbih0KXt0aHJvdyBuZXcgQm4odCx0aGlzLmxvY2F0b3IpfX07ZnVuY3Rpb24gcWUodCl7aWYodClyZXR1cm5gXFxuQGArKHQuc3lzdGVtSWR8fFxcXCJcXFwiKStcXFwiI1tsaW5lOlxcXCIrdC5saW5lTnVtYmVyK1xcXCIsY29sOlxcXCIrdC5jb2x1bW5OdW1iZXIrXFxcIl1cXFwifWZ1bmN0aW9uIHJuKHQsZSxuKXtyZXR1cm4gdHlwZW9mIHQ9PVxcXCJzdHJpbmdcXFwiP3Quc3Vic3RyKGUsbik6dC5sZW5ndGg+PWUrbnx8ZT9uZXcgamF2YS5sYW5nLlN0cmluZyh0LGUsbikrXFxcIlxcXCI6dH1cXFwiZW5kRFRELHN0YXJ0RW50aXR5LGVuZEVudGl0eSxhdHRyaWJ1dGVEZWNsLGVsZW1lbnREZWNsLGV4dGVybmFsRW50aXR5RGVjbCxpbnRlcm5hbEVudGl0eURlY2wscmVzb2x2ZUVudGl0eSxnZXRFeHRlcm5hbFN1YnNldCxub3RhdGlvbkRlY2wsdW5wYXJzZWRFbnRpdHlEZWNsXFxcIi5yZXBsYWNlKC9cXFxcdysvZyxmdW5jdGlvbih0KXtFZS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KTtmdW5jdGlvbiBPZSh0LGUpe3QuY3VycmVudEVsZW1lbnQ/dC5jdXJyZW50RWxlbWVudC5hcHBlbmRDaGlsZChlKTp0LmRvYy5hcHBlbmRDaGlsZChlKX12YXIgR249TnQoKSxhbj1JdCgpLGpuPWFuLlhNTFJlYWRlcixCbj1hbi5QYXJzZUVycm9yLFZuPV9lLkRPTUltcGxlbWVudGF0aW9uPVhlKCkuRE9NSW1wbGVtZW50YXRpb247X2UuWE1MU2VyaWFsaXplcj1YZSgpLlhNTFNlcmlhbGl6ZXI7X2UuRE9NUGFyc2VyPXNuO19lLl9fRE9NSGFuZGxlcj1FZX0pO3ZhciBsbj1UbihvbigpKTthc3luYyBmdW5jdGlvbiB1bih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGUsbik9PntsZXQgcj1uZXcgRmlsZVJlYWRlcjtyLm9ubG9hZD1hc3luYyBpPT57bGV0IHM9aS50YXJnZXQucmVzdWx0LGw9bmV3IGxuLkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhzLFxcXCJhcHBsaWNhdGlvbi94bWxcXFwiKS5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwibW9uc3RlclxcXCIpLHU9W107aWYoISFsLmxlbmd0aCl7Zm9yKGxldCBhIG9mIEFycmF5LmZyb20obCkpdHJ5e2xldCBmPXtpbWFnZTpudWxsLG5hbWU6eChhLFxcXCJuYW1lXFxcIiksc2l6ZTpxbihhKSx0eXBlOngoYSxcXFwidHlwZVxcXCIpLHN1YnR5cGU6eChhLFxcXCJzdWJ0eXBlXFxcIiksYWxpZ25tZW50OngoYSxcXFwiYWxpZ25tZW50XFxcIiksYWM6Wm4oYSksaHA6TnVtYmVyKGNuKGEsXFxcImhwXFxcIikpLGhpdF9kaWNlOmNuKGEsXFxcImhpdF9kaWNlXFxcIiksc3BlZWQ6eChhLFxcXCJzcGVlZFxcXCIpLHN0YXRzOltOdW1iZXIoeChhLFxcXCJzdHJcXFwiKSksTnVtYmVyKHgoYSxcXFwiZGV4XFxcIikpLE51bWJlcih4KGEsXFxcImNvblxcXCIpKSxOdW1iZXIoeChhLFxcXCJpbnRcXFwiKSksTnVtYmVyKHgoYSxcXFwid2lzXFxcIikpLE51bWJlcih4KGEsXFxcImNoYVxcXCIpKV0sc2F2ZXM6WW4oYSksc2tpbGxzYXZlczpIbihhKSxkYW1hZ2VfdnVsbmVyYWJpbGl0aWVzOngoYSxcXFwidnVsbmVyYWJsZVxcXCIpLGRhbWFnZV9yZXNpc3RhbmNlczp4KGEsXFxcInJlc2lzdFxcXCIpLGRhbWFnZV9pbW11bml0aWVzOngoYSxcXFwiaW1tdW5lXFxcIiksY29uZGl0aW9uX2ltbXVuaXRpZXM6eChhLFxcXCJjb25kaXRpb25JbW11bmVcXFwiKSxzZW5zZXM6eChhLFxcXCJzZW5zZXNcXFwiKSxsYW5ndWFnZXM6eChhLFxcXCJsYW5ndWFnZXNcXFwiKSxjcjp4KGEsXFxcImNyXFxcIiksdHJhaXRzOkllKGEsXFxcInRyYWl0XFxcIiksc3BlbGxzOnpuKGEpLGFjdGlvbnM6SWUoYSxcXFwiYWN0aW9uXFxcIiksbGVnZW5kYXJ5X2FjdGlvbnM6SWUoYSxcXFwibGVnZW5kYXJ5XFxcIikscmVhY3Rpb25zOkllKGEsXFxcInJlYWN0aW9uXFxcIiksc291cmNlOlFuKGEpfTt1LnB1c2goZil9Y2F0Y2goZil7Y29uc29sZS5lcnJvcihmKTtjb250aW51ZX1lKHUpfX0sci5yZWFkQXNUZXh0KHQpfSl9ZnVuY3Rpb24geCh0LGUpe2xldCBuPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7aWYobiYmbi5sZW5ndGgpcmV0dXJuIG5bMF0udGV4dENvbnRlbnR9ZnVuY3Rpb24gSWUodCxlKXt2YXIgaTtpZighKChpPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkpIT1udWxsJiZpLmxlbmd0aCkpcmV0dXJuW107bGV0IG49dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKSxyPVtdO2ZvcihsZXQgcyBvZiBBcnJheS5mcm9tKG4pKXtsZXQgbz1zLmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJuYW1lXFxcIik7aWYoIW98fCFvLmxlbmd0aHx8IW9bMF0udGV4dENvbnRlbnR8fG9bMF0udGV4dENvbnRlbnQuaW5jbHVkZXMoXFxcIlNwZWxsY2FzdGluZ1xcXCIpKWNvbnRpbnVlO2xldCBsPVtdLHU9cy5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwidGV4dFxcXCIpO2ZvcihsZXQgYSBvZiBBcnJheS5mcm9tKHUpKWwucHVzaChhLnRleHRDb250ZW50KTtyLnB1c2goe25hbWU6b1swXS50ZXh0Q29udGVudCxkZXNjOmwuam9pbihcXFwiIFxcXCIpfSl9cmV0dXJuIHJ9ZnVuY3Rpb24gem4odCl7dmFyIHI7aWYoISgocj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJ0cmFpdFxcXCIpKSE9bnVsbCYmci5sZW5ndGgpKXJldHVybltdO2xldCBuPUFycmF5LmZyb20odC5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwidHJhaXRcXFwiKSkuZmluZChpPT57dmFyIHM7cmV0dXJuKHM9aS5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwibmFtZVxcXCIpWzBdKT09bnVsbD92b2lkIDA6cy50ZXh0Q29udGVudC5pbmNsdWRlcyhcXFwiU3BlbGxjYXN0aW5nXFxcIil9KTtyZXR1cm4gbj9BcnJheS5mcm9tKG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXFxcInRleHRcXFwiKSkubWFwKGk9PmkudGV4dENvbnRlbnQucmVwbGFjZSgvKCYjODIyNjt8XHUyMDIyKS91LFxcXCJcXFwiKS50cmltKCkpLmZpbHRlcihpPT5pLmxlbmd0aCk6W119ZnVuY3Rpb24gSG4odCl7dmFyIHI7aWYoISgocj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJza2lsbFxcXCIpKSE9bnVsbCYmci5sZW5ndGgpKXJldHVybltdO2xldCBlPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXFxcInNraWxsXFxcIilbMF0udGV4dENvbnRlbnQuc3BsaXQoXFxcIiwgXFxcIiksbj1bXTtyZXR1cm4gZS5mb3JFYWNoKGk9PntsZXQgcz1pLnNwbGl0KC9cXFxcc1tcXFxcK1xcXFwtXS8pO24ucHVzaCh7W3NbMF1dOk51bWJlcihzWzFdKX0pfSksbn12YXIgS249e1N0cjpcXFwic3RyZW5ndGhcXFwiLERleDpcXFwiZGV4dGVyaXR5XFxcIixDb246XFxcImNvbnN0aXR1dGlvblxcXCIsSW50OlxcXCJpbnRlbGxpZ2VuY2VcXFwiLFdpczpcXFwid2lzZG9tXFxcIixDaGE6XFxcImNoYXJpc21hXFxcIn07ZnVuY3Rpb24gWW4odCl7dmFyIHI7aWYoISgocj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJzYXZlXFxcIikpIT1udWxsJiZyLmxlbmd0aCkpcmV0dXJuW107bGV0IGU9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwic2F2ZVxcXCIpWzBdLnRleHRDb250ZW50LnNwbGl0KFxcXCIsIFxcXCIpLG49W107cmV0dXJuIGUuZm9yRWFjaChpPT57bGV0IHM9aS5zcGxpdCgvXFxcXHNbXFxcXCtcXFxcLV0vKTtuLnB1c2goe1tLbltzWzBdXV06TnVtYmVyKHNbMV0pfSl9KSxufWZ1bmN0aW9uIGNuKHQsZSl7dmFyIHMsbztpZighKChzPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXFxcImhwXFxcIikpIT1udWxsJiZzLmxlbmd0aCkpcmV0dXJuXFxcIlxcXCI7bGV0IG49dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwiaHBcXFwiKVswXS50ZXh0Q29udGVudCxbLHIsaV09KG89bi5tYXRjaCgvKFxcXFxkKykgXFxcXCgoW1xcXFxzXFxcXFNdKylcXFxcKS8pKSE9bnVsbD9vOlssXFxcIlxcXCIsXFxcIlxcXCJdO3JldHVybntocDpyLGhpdF9kaWNlOml9W2VdfXZhciBYbj17VDpcXFwidGlueVxcXCIsUzpcXFwic21hbGxcXFwiLE06XFxcIm1lZGl1bVxcXCIsTDpcXFwibGFyZ2VcXFwiLEg6XFxcImh1Z2VcXFwiLEc6XFxcImdhcmdhbnR1YW5cXFwifTtmdW5jdGlvbiBxbih0KXt2YXIgZTtyZXR1cm4gdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwic2l6ZVxcXCIpJiYoZT1Yblt0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJzaXplXFxcIilbMF0udGV4dENvbnRlbnRdKSE9bnVsbD9lOlxcXCJcXFwifWZ1bmN0aW9uIFpuKHQpe3ZhciBlO2lmKHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXFxcImFjXFxcIikpe2xldFssbl09KGU9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwiYWNcXFwiKVswXSk9PW51bGw/dm9pZCAwOmUudGV4dENvbnRlbnQubWF0Y2goLyhcXFxcZCspLyk7cmV0dXJuIE51bWJlcihuKX1yZXR1cm4gMH1mdW5jdGlvbiBRbih0KXt2YXIgbixyLGkscyxvLGw7bGV0IGU9XFxcIlVua25vd25cXFwiO2lmKChuPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXFxcInNvdXJjZVxcXCIpKSE9bnVsbCYmbi5sZW5ndGgpZT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJzb3VyY2VcXFwiKVswXS50ZXh0Q29udGVudDtlbHNlIGlmKCgocj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJ0cmFpdFxcXCIpKT09bnVsbD92b2lkIDA6ci5sZW5ndGgpJiZBcnJheS5mcm9tKHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXFxcInRyYWl0XFxcIikpLmZpbmQodT0+e3ZhciBhO3JldHVybigoYT11LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJuYW1lXFxcIikpPT1udWxsP3ZvaWQgMDphWzBdLnRleHRDb250ZW50KT09XFxcIlNvdXJjZVxcXCJ9KSl7bGV0IHU9QXJyYXkuZnJvbSh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJ0cmFpdFxcXCIpKS5maW5kKGE9Pnt2YXIgZixoO3JldHVybigoaD0oZj1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJuYW1lXFxcIikpPT1udWxsP3ZvaWQgMDpmWzBdKT09bnVsbD92b2lkIDA6aC50ZXh0Q29udGVudCk9PVxcXCJTb3VyY2VcXFwifSk7ZT0obz0ocz0oaT11PT1udWxsP3ZvaWQgMDp1LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJ0ZXh0XFxcIikpPT1udWxsP3ZvaWQgMDppWzBdKT09bnVsbD92b2lkIDA6cy50ZXh0Q29udGVudCk9PW51bGw/dm9pZCAwOm8ucmVwbGFjZSgvcC4gXFxcXGQrLyxcXFwiXFxcIikudHJpbSgpfWVsc2UgaWYoKGw9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwiZGVzY3JpcHRpb25cXFwiKSkhPW51bGwmJmwubGVuZ3RoKXtsZXQgdT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJkZXNjcmlwdGlvblxcXCIpLGE9XFxcIlNvdXJjZTogXFxcIjtpZih1WzBdLnRleHRDb250ZW50LmluY2x1ZGVzKGEpKXtsZXQgZj11WzBdLnRleHRDb250ZW50Lmxhc3RJbmRleE9mKGEpO2U9dVswXS50ZXh0Q29udGVudC5zbGljZShmK2EubGVuZ3RoKS5zcGxpdCgvLCA/LylbMF19fXJldHVybiBlfXZhciBKbj17U1RSOlxcXCJzdHJlbmd0aFxcXCIsREVYOlxcXCJkZXh0ZXJpdHlcXFwiLENPTjpcXFwiY29uc3RpdHV0aW9uXFxcIixJTlQ6XFxcImludGVsbGlnZW5jZVxcXCIsV0lTOlxcXCJ3aXNkb21cXFwiLENIQTpcXFwiY2hhcmlzbWFcXFwifTthc3luYyBmdW5jdGlvbiBmbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGUsbik9PntsZXQgcj1uZXcgRmlsZVJlYWRlcixpPVtdO3Iub25sb2FkPWFzeW5jIHM9Pnt2YXIgbyxsLHUsYSxmLGgsUyxFLHksUix2LE0sUCxiLFQsVSxXLGQsRyxBLEwsdyxqLEoseixWLF8sZyxlZSxDLFgsbnQscnQsaXQsc3QsYXQsb3QsY3QsbHQsdXQsZnQsbXQscHQsaHQsZ3QsZHQsU3QsdnQseXQsUnQsQ3QsRXQsX3Q7dHJ5e2xldCBQZT1KU09OLnBhcnNlKHMudGFyZ2V0LnJlc3VsdCksU249T2JqZWN0LmtleXMoUGUpLmZpbHRlcihrZT0+L15DcmVhdHVyZXNcXFxcLi8udGVzdChrZSkpO2ZvcihsZXQga2Ugb2YgU24pdHJ5e2xldCBOPVBlW2tlXSx2bj17bmFtZTpOLk5hbWUsc291cmNlOihvPU4uU291cmNlKSE9bnVsbCYmby50cmltKCkubGVuZ3RoPyhsPU4uU291cmNlKT09bnVsbD92b2lkIDA6bC50cmltKCk6XFxcIlVua25vd25cXFwiLHR5cGU6KGY9KGE9KHU9Ti5UeXBlKT09bnVsbD92b2lkIDA6dS5zcGxpdCgvLFxcXFxzPy8pKT09bnVsbD92b2lkIDA6YVswXSk9PW51bGw/dm9pZCAwOmYudHJpbSgpLHN1YnR5cGU6XFxcIlxcXCIsc2l6ZTpcXFwiXFxcIixhbGlnbm1lbnQ6KEU9KFM9KGg9Ti5UeXBlKT09bnVsbD92b2lkIDA6aC5zcGxpdCgvLFxcXFxzPy8pKT09bnVsbD92b2lkIDA6U1sxXSk9PW51bGw/dm9pZCAwOkUudHJpbSgpLGhwOih5PU4uSFApPT1udWxsP3ZvaWQgMDp5LlZhbHVlLGhpdF9kaWNlOihNPSh2PShSPU4uSFApPT1udWxsP3ZvaWQgMDpSLk5vdGVzKT09bnVsbD92b2lkIDA6di5yZXBsYWNlKC8oWygpXSkvZyxcXFwiXFxcIikpPT1udWxsP3ZvaWQgMDpNLnRyaW0oKSxhYzpOLkFDLlZhbHVlLHNwZWVkOihiPShQPU4uU3BlZWQpPT1udWxsP3ZvaWQgMDpQLmpvaW4oXFxcIiwgXFxcIikpPT1udWxsP3ZvaWQgMDpiLnRyaW0oKSxzdGF0czpPYmplY3QudmFsdWVzKChUPU4uQWJpbGl0aWVzKSE9bnVsbD9UOnt9KSxkYW1hZ2VfaW1tdW5pdGllczooRz0oZD0oVz0oVT1OLkRhbWFnZUltbXVuaXRpZXMpPT1udWxsP3ZvaWQgMDpVLmpvaW4oXFxcIjsgXFxcIikpPT1udWxsP3ZvaWQgMDpXLnRvTG93ZXJDYXNlKCkpPT1udWxsP3ZvaWQgMDpkLnRyaW0oKSkhPW51bGw/RzpcXFwiXFxcIixkYW1hZ2VfcmVzaXN0YW5jZXM6KGo9KHc9KEw9KEE9Ti5EYW1hZ2VSZXNpc3RhbmNlcyk9PW51bGw/dm9pZCAwOkEuam9pbihcXFwiLCBcXFwiKSk9PW51bGw/dm9pZCAwOkwudG9Mb3dlckNhc2UoKSk9PW51bGw/dm9pZCAwOncudHJpbSgpKSE9bnVsbD9qOlxcXCJcXFwiLGRhbWFnZV92dWxuZXJhYmlsaXRpZXM6KF89KFY9KHo9KEo9Ti5EYW1hZ2VWdWxuZXJhYmlsaXRpZXMpPT1udWxsP3ZvaWQgMDpKLmpvaW4oXFxcIiwgXFxcIikpPT1udWxsP3ZvaWQgMDp6LnRvTG93ZXJDYXNlKCkpPT1udWxsP3ZvaWQgMDpWLnRyaW0oKSkhPW51bGw/XzpcXFwiXFxcIixjb25kaXRpb25faW1tdW5pdGllczooWD0oQz0oZWU9KGc9Ti5Db25kaXRpb25JbW11bml0aWVzKT09bnVsbD92b2lkIDA6Zy5qb2luKFxcXCIsIFxcXCIpKT09bnVsbD92b2lkIDA6ZWUudG9Mb3dlckNhc2UoKSk9PW51bGw/dm9pZCAwOkMudHJpbSgpKSE9bnVsbD9YOlxcXCJcXFwiLHNhdmVzOihydD0obnQ9Ti5TYXZlcyk9PW51bGw/dm9pZCAwOm50Lm1hcCgoe05hbWU6RCxNb2RpZmllcjpGZX0pPT4oe1tKbltEXV06RmV9KSkpIT1udWxsP3J0OltdLHNraWxsc2F2ZXM6KHN0PShpdD1OLlNraWxscyk9PW51bGw/dm9pZCAwOml0Lm1hcCgoe05hbWU6RCxNb2RpZmllcjpGZX0pPT4oe1tEXTpGZX0pKSkhPW51bGw/c3Q6W10sc2Vuc2VzOihjdD0ob3Q9KGF0PU4uU2Vuc2VzKT09bnVsbD92b2lkIDA6YXQuam9pbihcXFwiLCBcXFwiKSk9PW51bGw/dm9pZCAwOm90LnRyaW0oKSkhPW51bGw/Y3Q6XFxcIlxcXCIsbGFuZ3VhZ2VzOihmdD0odXQ9KGx0PU4uTGFuZ3VhZ2VzKT09bnVsbD92b2lkIDA6bHQuam9pbihcXFwiLCBcXFwiKSk9PW51bGw/dm9pZCAwOnV0LnRyaW0oKSkhPW51bGw/ZnQ6XFxcIlxcXCIsY3I6KHB0PShtdD1OLkNoYWxsZW5nZSk9PW51bGw/dm9pZCAwOm10LnRyaW0oKSkhPW51bGw/cHQ6XFxcIlxcXCIsdHJhaXRzOihndD0oaHQ9Ti5UcmFpdHMpPT1udWxsP3ZvaWQgMDpodC5tYXAoRD0+KHtuYW1lOkQuTmFtZSxkZXNjOkQuQ29udGVudH0pKSkhPW51bGw/Z3Q6W10sYWN0aW9uczooU3Q9KGR0PU4uQWN0aW9ucyk9PW51bGw/dm9pZCAwOmR0Lm1hcChEPT4oe25hbWU6RC5OYW1lLGRlc2M6RC5Db250ZW50fSkpKSE9bnVsbD9TdDpbXSxib251c19hY3Rpb25zOih5dD0odnQ9Ti5Cb251c0FjdGlvbnMpPT1udWxsP3ZvaWQgMDp2dC5tYXAoRD0+KHtuYW1lOkQuTmFtZSxkZXNjOkQuQ29udGVudH0pKSkhPW51bGw/eXQ6W10scmVhY3Rpb25zOihDdD0oUnQ9Ti5SZWFjdGlvbnMpPT1udWxsP3ZvaWQgMDpSdC5tYXAoRD0+KHtuYW1lOkQuTmFtZSxkZXNjOkQuQ29udGVudH0pKSkhPW51bGw/Q3Q6W10sbGVnZW5kYXJ5X2FjdGlvbnM6KF90PShFdD1OLkxlZ2VuZGFyeUFjdGlvbnMpPT1udWxsP3ZvaWQgMDpFdC5tYXAoRD0+KHtuYW1lOkQuTmFtZSxkZXNjOkQuQ29udGVudH0pKSkhPW51bGw/X3Q6W10saW1hZ2U6bnVsbH07aS5wdXNoKHZuKX1jYXRjaChOKXtjb250aW51ZX1lKGkpfWNhdGNoKFBlKXtuKCl9fSxyLnJlYWRBc1RleHQodCl9KX1hc3luYyBmdW5jdGlvbiBtbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGUsbik9PntsZXQgcj1uZXcgRmlsZVJlYWRlcjtyLm9ubG9hZD1hc3luYyBpPT57dmFyIG8sbCx1LGEsZixoLFMsRSx5LFIsdixNLFAsYixULFUsVyxkLEcsQSxMLHcsaixKLHo7bGV0IHM9W107dHJ5e2xldCBWPUpTT04ucGFyc2UoaS50YXJnZXQucmVzdWx0KSxfPVtdO1YuY3JlYXR1cmVzP189Vi5jcmVhdHVyZXM6Xz1bVl07Zm9yKGxldCBnIG9mIF8pdHJ5e2xldCBlZT17aW1hZ2U6bnVsbCxuYW1lOmcubmFtZSxzb3VyY2U6XFxcIkNyaXR0ZXJEQlxcXCIsdHlwZTpnLnN0YXRzLnJhY2Usc3VidHlwZTpcXFwiXFxcIixzaXplOmcuc3RhdHMuc2l6ZSxhbGlnbm1lbnQ6Zy5zdGF0cy5hbGlnbm1lbnQsaHA6Zy5zdGF0cy5oaXRQb2ludHMsaGl0X2RpY2U6YCR7TWF0aC5mbG9vcihnLnN0YXRzLmV4dHJhSGVhbHRoRnJvbUNvbnN0aXR1dGlvbi9nLnN0YXRzLmFiaWxpdHlTY29yZU1vZGlmaWVycy5jb25zdGl0dXRpb24pfWQke2cuc3RhdHMuaGl0RGllU2l6ZX0gKyAke2cuc3RhdHMuZXh0cmFIZWFsdGhGcm9tQ29uc3RpdHV0aW9ufWAsYWM6Zy5zdGF0cy5hcm1vckNsYXNzLHNwZWVkOmcuc3RhdHMuc3BlZWQsc3RhdHM6W2cuc3RhdHMuYWJpbGl0eVNjb3Jlcy5zdHJlbmd0aCxnLnN0YXRzLmFiaWxpdHlTY29yZXMuZGV4dGVyaXR5LGcuc3RhdHMuYWJpbGl0eVNjb3Jlcy5jb25zdGl0dXRpb24sZy5zdGF0cy5hYmlsaXR5U2NvcmVzLmludGVsbGlnZW5jZSxnLnN0YXRzLmFiaWxpdHlTY29yZXMud2lzZG9tLGcuc3RhdHMuYWJpbGl0eVNjb3Jlcy5jaGFyaXNtYV0sZGFtYWdlX2ltbXVuaXRpZXM6KGw9KG89Zy5zdGF0cy5kYW1hZ2VJbW11bml0aWVzKT09bnVsbD92b2lkIDA6by5qb2luKFxcXCI7IFxcXCIpLnRvTG93ZXJDYXNlKCkudHJpbSgpKSE9bnVsbD9sOlxcXCJcXFwiLGRhbWFnZV9yZXNpc3RhbmNlczooYT0odT1nLnN0YXRzLmRhbWFnZVJlc2lzdGFuY2VzKT09bnVsbD92b2lkIDA6dS5qb2luKFxcXCIsIFxcXCIpLnRvTG93ZXJDYXNlKCkudHJpbSgpKSE9bnVsbD9hOlxcXCJcXFwiLGRhbWFnZV92dWxuZXJhYmlsaXRpZXM6KGg9KGY9Zy5zdGF0cy5kYW1hZ2VWdWxuZXJhYmlsaXRpZXMpPT1udWxsP3ZvaWQgMDpmLmpvaW4oXFxcIiwgXFxcIikudG9Mb3dlckNhc2UoKS50cmltKCkpIT1udWxsP2g6XFxcIlxcXCIsY29uZGl0aW9uX2ltbXVuaXRpZXM6KEU9KFM9Zy5zdGF0cy5jb25kaXRpb25JbW11bml0aWVzKT09bnVsbD92b2lkIDA6Uy5qb2luKFxcXCIsIFxcXCIpLnRvTG93ZXJDYXNlKCkudHJpbSgpKSE9bnVsbD9FOlxcXCJcXFwiLHNhdmVzOihSPSh5PWcuc3RhdHMuc2F2aW5nVGhyb3dzKT09bnVsbD92b2lkIDA6eS5tYXAoQz0+e3ZhciBYO2lmKCEoIShcXFwidmFsdWVcXFwiaW4gQykmJiEoXFxcIm1vZGlmaWVyXFxcImluIEMpKSlyZXR1cm57W0MuYWJpbGl0eV06KFg9Qy52YWx1ZSkhPW51bGw/WDpDLm1vZGlmaWVyfX0pLmZpbHRlcihDPT5DKSkhPW51bGw/UjpbXSxza2lsbHNhdmVzOihNPSh2PWcuc3RhdHMuc2tpbGxzKT09bnVsbD92b2lkIDA6di5tYXAoQz0+e3ZhciBYO2lmKCEoIShcXFwidmFsdWVcXFwiaW4gQykmJiEoXFxcIm1vZGlmaWVyXFxcImluIEMpKSlyZXR1cm57W0MubmFtZV06KFg9Qy52YWx1ZSkhPW51bGw/WDpDLm1vZGlmaWVyfX0pLmZpbHRlcihDPT5DKSkhPW51bGw/TTpbXSxzZW5zZXM6KGI9KFA9Zy5zdGF0cy5zZW5zZXMpPT1udWxsP3ZvaWQgMDpQLmpvaW4oXFxcIiwgXFxcIikudHJpbSgpKSE9bnVsbD9iOlxcXCJcXFwiLGxhbmd1YWdlczooVT0oVD1nLnN0YXRzLmxhbmd1YWdlcyk9PW51bGw/dm9pZCAwOlQuam9pbihcXFwiLCBcXFwiKS50cmltKCkpIT1udWxsP1U6XFxcIlxcXCIsY3I6KFc9Zy5zdGF0cy5jaGFsbGVuZ2VSYXRpbmcpIT1udWxsP1c6XFxcIlxcXCIsdHJhaXRzOihHPShkPWcuc3RhdHMuYWRkaXRpb25hbEFiaWxpdGllcyk9PW51bGw/dm9pZCAwOmQubWFwKEM9Pih7bmFtZTpDLm5hbWUsZGVzYzpDLmRlc2NyaXB0aW9uLnJlcGxhY2UoLzxbXj5dKj4vZyxcXFwiXFxcIil9KSkpIT1udWxsP0c6W10sYWN0aW9uczooTD0oQT1nLnN0YXRzLmFjdGlvbnMpPT1udWxsP3ZvaWQgMDpBLm1hcChDPT4oe25hbWU6Qy5uYW1lLGRlc2M6Qy5kZXNjcmlwdGlvbi5yZXBsYWNlKC88W14+XSo+L2csXFxcIlxcXCIpfSkpKSE9bnVsbD9MOltdLHJlYWN0aW9uczooaj0odz1nLnN0YXRzLnJlYWN0aW9ucyk9PW51bGw/dm9pZCAwOncubWFwKEM9Pih7bmFtZTpDLm5hbWUsZGVzYzpDLmRlc2NyaXB0aW9uLnJlcGxhY2UoLzxbXj5dKj4vZyxcXFwiXFxcIil9KSkpIT1udWxsP2o6W10sbGVnZW5kYXJ5X2FjdGlvbnM6KHo9KEo9Zy5zdGF0cy5sZWdlbmRhcnlBY3Rpb25zKT09bnVsbD92b2lkIDA6Si5tYXAoQz0+KHtuYW1lOkMubmFtZSxkZXNjOkMuZGVzY3JpcHRpb24ucmVwbGFjZSgvPFtePl0qPi9nLFxcXCJcXFwiKX0pKSkhPW51bGw/ejpbXX07cy5wdXNoKGVlKX1jYXRjaChlZSl7Y29udGludWV9ZShzKX1jYXRjaChWKXtuKCl9fSxyLnJlYWRBc1RleHQodCl9KX1mdW5jdGlvbiBBZSh0LGU9MCxuPVxcXCIgXFxcIixyPSEwKXtsZXQgaT1bXTtpZihlPT01fHx0PT1udWxsKXJldHVyblxcXCJcXFwiO2lmKHR5cGVvZiB0PT1cXFwic3RyaW5nXFxcIilyZXR1cm4gdDtpZih0eXBlb2YgdD09XFxcIm51bWJlclxcXCIpcmV0dXJuYCR7dH1gO2lmKEFycmF5LmlzQXJyYXkodCkpaS5wdXNoKGAke3I/XFxcIihcXFwiOlxcXCJcXFwifSR7dC5tYXAocz0+QWUocyxlKyspKS5qb2luKG4pfSR7cj9cXFwiKVxcXCI6XFxcIlxcXCJ9YCk7ZWxzZSBpZih0eXBlb2YgdD09XFxcIm9iamVjdFxcXCIpZm9yKGxldCBzIG9mIE9iamVjdC52YWx1ZXModCkpaS5wdXNoKEFlKHMsZSsrKSk7cmV0dXJuIGkuam9pbihcXFwiIFxcXCIpfXZhciBlcj17c3RyOlxcXCJzdHJlbmd0aFxcXCIsZGV4OlxcXCJkZXh0ZXJpdHlcXFwiLGNvbjpcXFwiY29uc3RpdHV0aW9uXFxcIix3aXM6XFxcIndpc2RvbVxcXCIsaW50OlxcXCJpbnRlbGxpZ2VuY2VcXFwiLGNoYTpcXFwiY2hhcmlzbWFcXFwifTtmdW5jdGlvbiBLKHQpe3JldHVybiB0P3QucmVwbGFjZSgve0Bjb25kaXRpb24gKC4rPyl9L2csXFxcIiQxXFxcIikucmVwbGFjZSgve0BpdGVtICguKz8pfS9nLFxcXCIkMVxcXCIpLnJlcGxhY2UoL3tAc3BlbGwgKFtcXFxcc1xcXFxTXSs/KX0vZyxcXFwiJDFcXFwiKS5yZXBsYWNlKC97QHJlY2hhcmdlICguKz8pfS9nLFxcXCIoUmVjaGFyZ2UgJDEtNilcXFwiKS5yZXBsYWNlKC97QHJlY2hhcmdlfS9nLFxcXCIoUmVjaGFyZ2UgNilcXFwiKS5yZXBsYWNlKC97QGh9L2csXFxcIlxcXCIpLnJlcGxhY2UoL3tAZGFtYWdlICguKz8pfS9nLFxcXCIkMVxcXCIpLnJlcGxhY2UoL3tAYXRrIG1zfS9nLFxcXCJNZWxlZSBTcGVsbCBBdHRhY2tcXFwiKS5yZXBsYWNlKC97QGF0ayByc30vZyxcXFwiUmFuZ2VkIFNwZWxsIEF0dGFja1xcXCIpLnJlcGxhY2UoL3tAYXRrIG13fS9nLFxcXCJNZWxlZSBXZWFwb24gQXR0YWNrXFxcIikucmVwbGFjZSgve0BhdGsgcnd9L2csXFxcIlJhbmdlZCBXZWFwb24gQXR0YWNrXFxcIikucmVwbGFjZSgve0BhdGsgbXcscnd9L2csXFxcIk1lbGVlIC8gUmFuZ2VkIFdlYXBvbiBBdHRhY2tcXFwiKS5yZXBsYWNlKC97QGNyZWF0dXJlICguKz8pfS9nLFxcXCIkMVxcXCIpLnJlcGxhY2UoL3tAc2tpbGwgKC4rPyl9L2csXFxcIiQxXFxcIikucmVwbGFjZSgve0BkaWNlICguKz8pfS9nLFxcXCIkMVxcXCIpLnJlcGxhY2UoL3tAaGl0IChcXFxcZCs/KX0vZyxcXFwiKyQxXFxcIikucmVwbGFjZSgve0BkYyAoXFxcXGQrPyl9L2csXFxcIiQxXFxcIikucmVwbGFjZSgve0BxdWlja3JlZiAoLis/KVxcXFx8XFxcXHwuKz99LyxcXFwiJDFcXFwiKTpcXFwiXFxcIn1hc3luYyBmdW5jdGlvbiBwbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGUsbik9PntsZXQgcj1uZXcgRmlsZVJlYWRlcjtyLm9ubG9hZD1hc3luYyBpPT57dmFyIHMsbyxsLHUsYSxmLGgsUyxFLHksUix2LE0sUCxiO3RyeXtsZXQgVD1KU09OLnBhcnNlKGkudGFyZ2V0LnJlc3VsdCksVT1bXTtcXFwibW9uc3RlclxcXCJpbiBUP1U9VC5tb25zdGVyOkFycmF5LmlzQXJyYXkoVCk/VT1UOnR5cGVvZiBUPT1cXFwib2JqZWN0XFxcIj9VPVtUXTpuKFxcXCJJbnZhbGlkIG1vbnN0ZXIgSlNPTiBwcm92aWRlZC5cXFwiKTtsZXQgVz1bXTtmb3IobGV0IGQgb2YgVSl0cnl7aWYoIWQubmFtZSljb250aW51ZTtsZXQgRz17aW1hZ2U6bnVsbCxuYW1lOmQubmFtZSxzb3VyY2U6bXIoZCksdHlwZTp0cihkLnR5cGUpLHN1YnR5cGU6XFxcIlxcXCIsc2l6ZToocz1kLnNpemUpIT1udWxsJiZzLmxlbmd0aD9fclsobz1kLnNpemUpPT1udWxsP3ZvaWQgMDpvWzBdXTpudWxsLGFsaWdubWVudDpscihkKSxocDpkLmhwJiZcXFwiYXZlcmFnZVxcXCJpbiBkLmhwPyhsPWQuaHApPT1udWxsP3ZvaWQgMDpsLmF2ZXJhZ2U6bnVsbCxoaXRfZGljZTpkLmhwJiZcXFwiZm9ybXVsYVxcXCJpbiBkLmhwPyh1PWQuaHApPT1udWxsP3ZvaWQgMDp1LmZvcm11bGE6XFxcIlxcXCIsYWM6aXIoZC5hYyksc3BlZWQ6dXIoZCksc3RhdHM6W2Quc3RyLGQuZGV4LGQuY29uLGQuaW50LGQud2lzLGQuY2hhXSxkYW1hZ2VfaW1tdW5pdGllczpLKGZlKGQuaW1tdW5lKSksZGFtYWdlX3Jlc2lzdGFuY2VzOksoZmUoZC5yZXNpc3QpKSxkYW1hZ2VfdnVsbmVyYWJpbGl0aWVzOksoZmUoZC52dWxuZXJhYmxlKSksY29uZGl0aW9uX2ltbXVuaXRpZXM6SyhmZShkLmNvbmRpdGlvbkltbXVuZSkpLHNhdmVzOk9iamVjdC5lbnRyaWVzKChhPWQuc2F2ZSkhPW51bGw/YTp7fSkubWFwKEE9Pnt2YXIgdyxqO2lmKCFBfHwhQVsxXSlyZXR1cm47bGV0WyxMXT0oaj0odz1BWzFdKT09bnVsbD92b2lkIDA6dy5tYXRjaCgvLio/KFxcXFxkKykvKSkhPW51bGw/ajpbXTtpZighIUwpcmV0dXJue1tlcltBWzBdXV06TH19KS5maWx0ZXIoQT0+QSksc2tpbGxzYXZlczptYShkKSxzZW5zZXM6ZnIoZCksbGFuZ3VhZ2VzOkFlKGQubGFuZ3VhZ2VzLDAsXFxcIiwgXFxcIiwhMSksY3I6bnIoZC5jciksdHJhaXRzOihoPShmPWQudHJhaXQpPT1udWxsP3ZvaWQgMDpmLmZsYXRNYXAoVGUpKSE9bnVsbD9oOltdLGFjdGlvbnM6KEU9KFM9ZC5hY3Rpb24pPT1udWxsP3ZvaWQgMDpTLmZsYXRNYXAoVGUpKSE9bnVsbD9FOltdLGJvbnVzX2FjdGlvbnM6KFI9KHk9ZC5ib251cyk9PW51bGw/dm9pZCAwOnkuZmxhdE1hcChUZSkpIT1udWxsP1I6W10scmVhY3Rpb25zOihNPSh2PWQucmVhY3Rpb24pPT1udWxsP3ZvaWQgMDp2LmZsYXRNYXAoVGUpKSE9bnVsbD9NOltdLGxlZ2VuZGFyeV9hY3Rpb25zOihiPShQPWQubGVnZW5kYXJ5KT09bnVsbD92b2lkIDA6UC5mbGF0TWFwKFRlKSkhPW51bGw/YjpbXSxzcGVsbHM6Y3IoZCksc3BlbGxzTm90ZXM6cnIoZCkuam9pbihcXFwiIFxcXCIpfTtXLnB1c2goRyl9Y2F0Y2goRyl7Y29uc29sZS5lcnJvcihHKTtjb250aW51ZX1lKFcpfWNhdGNoKFQpe2NvbnNvbGUuZXJyb3IoXFxcInJlamVjdCEhIVxcXCIsVCksbihUKX19LHIucmVhZEFzVGV4dCh0KX0pfWZ1bmN0aW9uIHRyKHQpe2lmKCEhdClyZXR1cm4gdHlwZW9mIHQ9PVxcXCJzdHJpbmdcXFwiP3Q6dC50eXBlfWZ1bmN0aW9uIG5yKHQpe2lmKCEhdClyZXR1cm4gdHlwZW9mIHQ9PVxcXCJzdHJpbmdcXFwiP3Q6dC5jcn1mdW5jdGlvbiBycih0KXtsZXQgZT1bXTtmb3IobGV0IG4gaW4gdC5zcGVsbGNhc3RpbmcpZS5wdXNoKEFlKHQuc3BlbGxjYXN0aW5nW25dLmZvb3RlckVudHJpZXMsMCxcXFwiLCBcXFwiLCExKSk7cmV0dXJuIGV9ZnVuY3Rpb24gZmUodCl7aWYoIXQpcmV0dXJuXFxcIlxcXCI7bGV0IGU9W107Zm9yKGxldCBuIG9mIHQpe2lmKHR5cGVvZiBuPT1cXFwic3RyaW5nXFxcIil7ZS5wdXNoKG4pO2NvbnRpbnVlfWlmKFxcXCJzcGVjaWFsXFxcImluIG4pe2UucHVzaChuLnNwZWNpYWwpO2NvbnRpbnVlfWlmKFxcXCJpbW11bmVcXFwiaW4gbil7ZS5wdXNoKGAke2ZlKG4uaW1tdW5lKX0ke24ubm90ZT9cXFwiIFxcXCI6XFxcIlxcXCJ9JHtuLm5vdGU/bi5ub3RlOlxcXCJcXFwifWApO2NvbnRpbnVlfWlmKFxcXCJyZXNpc3RcXFwiaW4gbil7ZS5wdXNoKGAke2ZlKG4ucmVzaXN0KX0ke24ubm90ZT9cXFwiIFxcXCI6XFxcIlxcXCJ9JHtuLm5vdGU/bi5ub3RlOlxcXCJcXFwifWApO2NvbnRpbnVlfX1yZXR1cm4gZS5qb2luKFxcXCIsIFxcXCIpfWZ1bmN0aW9uIGlyKHQ9W10pe3ZhciBuO2xldFtlXT10O2lmKCEhZSl7aWYodHlwZW9mIGU9PVxcXCJudW1iZXJcXFwiKXJldHVybiBlO2lmKHR5cGVvZiBlPT1cXFwic3RyaW5nXFxcIil7bGV0W3IsaV09KG49ZS5tYXRjaCgvKFxcXFxkKykvKSkhPW51bGw/bjpbXTtyZXR1cm4gaT9OdW1iZXIoaSk6bnVsbH1pZih0eXBlb2YgZT09XFxcIm9iamVjdFxcXCIpcmV0dXJuXFxcInNwZWNpYWxcXFwiaW4gZT9udWxsOmUuYWN9fXZhciBzcj17MDpcXFwiQ2FudHJpcHMgKGF0IHdpbGwpXFxcIiwxOlxcXCIxc3QgbGV2ZWxcXFwiLDI6XFxcIjJuZCBsZXZlbFxcXCIsMzpcXFwiM3JkIGxldmVsXFxcIiw0OlxcXCI0dGggbGV2ZWxcXFwiLDU6XFxcIjV0aCBsZXZlbFxcXCIsNjpcXFwiNnRoIGxldmVsXFxcIiw3OlxcXCI3dGggbGV2ZWxcXFwiLDg6XFxcIjh0aCBsZXZlbFxcXCIsOTpcXFwiOXRoIGxldmVsXFxcIn07ZnVuY3Rpb24gWmUodCl7bGV0IGU9W107Zm9yKGxldCBuIG9mIHQpe2lmKHR5cGVvZiBuPT1cXFwic3RyaW5nXFxcIil7ZS5wdXNoKG4pO2NvbnRpbnVlfSFuLmhpZGRlbiYmbi5lbnRyeSYmbi5lbnRyeS5sZW5ndGgmJmUucHVzaChuLmVudHJ5KX1yZXR1cm4gSyhlLmpvaW4oXFxcIiwgXFxcIikpfWZ1bmN0aW9uIGFyKHQpe2xldCBlPVtdO2ZvcihsZXQgbiBvZiBPYmplY3Qua2V5cyh0KSl7bGV0IHI9dFtuXSxpPU51bWJlcihuLnJlcGxhY2UoL1teMC05XS8sXFxcIlxcXCIpKTtlLnB1c2goW2ksWmUocildKX1yZXR1cm4gZX1mdW5jdGlvbiBvcih0KXt2YXIgaSxzO2xldCBlPVtLKCgoaT10LmhlYWRlckVudHJpZXMpIT1udWxsP2k6W10pLmpvaW4oYFxcbmApKV07aWYoXFxcInNwZWxsc1xcXCJpbiB0KXRyeXtmb3IobGV0IG8gaW4ocz10LnNwZWxscykhPW51bGw/czp7fSl7bGV0IGw9dC5zcGVsbHNbb10se3NwZWxsczp1fT1sLGE9YCR7c3Jbb119YDthKz1cXFwic2xvdHNcXFwiaW4gbD9gICgke2wuc2xvdHN9IHNsb3RzKWA6XFxcIlxcXCI7bGV0IGY9Syh1LmpvaW4oXFxcIiwgXFxcIikpO2UucHVzaCh7W2FdOmZ9KX19Y2F0Y2gobyl7dGhyb3cgbmV3IEVycm9yKFxcXCJUaGVyZSB3YXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgc3BlbGxzLlxcXCIpfWlmKFxcXCJ3aWxsXFxcImluIHQmJnQud2lsbC5sZW5ndGg+MCl0cnl7ZS5wdXNoKHtcXFwiQXQgd2lsbFxcXCI6WmUodC53aWxsKX0pfWNhdGNoKG8pe3Rocm93IG5ldyBFcnJvcihcXFwiVGhlcmUgd2FzIGFuIGVycm9yIHBhcnNpbmcgdGhlIGF0LXdpbGwgc3BlbGxzLlxcXCIpfWlmKFxcXCJyaXR1YWxcXFwiaW4gdCYmdC5yaXR1YWwubGVuZ3RoPjApdHJ5e2UucHVzaCh7Uml0dWFsczpaZSh0LnJpdHVhbCl9KX1jYXRjaChvKXt0aHJvdyBuZXcgRXJyb3IoXFxcIlRoZXJlIHdhcyBhbiBlcnJvciBwYXJzaW5nIHRoZSByaXR1YWwgc3BlbGxzLlxcXCIpfWxldCBuPVtcXFwicmVzdFxcXCIsXFxcImRhaWx5XFxcIixcXFwid2Vla2x5XFxcIixcXFwieWVhcmx5XFxcIixcXFwiY2hhcmdlc1xcXCJdLHI9e3Jlc3Q6XFxcIi9yZXN0IGVhY2hcXFwiLGRhaWx5OlxcXCIvZGF5IGVhY2hcXFwiLHdlZWtseTpcXFwiL3dlZWsgZWFjaFxcXCIseWVhcmx5OlxcXCIveWVhciBlYWNoXFxcIixjaGFyZ2VzOlxcXCIgY2hhcmdlc1xcXCJ9O2ZvcihsZXQgbyBvZiBuKWlmKG8gaW4gdCl7bGV0IGw9YXIodFtvXSk7Zm9yKGxldCB1IG9mIGwuc29ydCgoYSxmKT0+ZlswXS1hWzBdKSllLnB1c2goe1tgJHt1WzBdfSR7cltvXX1gXTp1WzFdfSl9cmV0dXJuIGV9ZnVuY3Rpb24gY3IodCl7cmV0dXJuIXQuc3BlbGxjYXN0aW5nfHwhdC5zcGVsbGNhc3RpbmcubGVuZ3RoP1tdOnQuc3BlbGxjYXN0aW5nLmZsYXRNYXAob3IpfWZ1bmN0aW9uIGxyKHQpe3JldHVybiB0LmFsaWdubWVudD9RZSh0LmFsaWdubWVudCk6bnVsbH1mdW5jdGlvbiBRZSh0KXt2YXIgbjtpZighdClyZXR1cm4gbnVsbDtsZXQgZT1bXTtpZihBcnJheS5pc0FycmF5KHQpKWZvcihsZXQgciBvZiB0KWUucHVzaChRZShyKSk7ZWxzZSBpZih0eXBlb2YgdD09XFxcIm9iamVjdFxcXCIpe2lmKFxcXCJzcGVjaWFsXFxcImluIHQmJnQuc3BlY2lhbCE9bnVsbClyZXR1cm4gdC5zcGVjaWFsO2lmKFxcXCJhbGlnbm1lbnRcXFwiaW4gdClyZXR1cm5gJHsoKG49dC5hbGlnbm1lbnQpIT1udWxsP246W10pLm1hcChyPT5RZShyKSkuam9pbihcXFwiIFxcXCIpfSR7dC5jaGFuY2U/YCAoJHt0LmNoYW5jZX0lKWA6XFxcIlxcXCJ9JHt0Lm5vdGU/YCAoJHt0Lm5vdGV9KWA6XFxcIlxcXCJ9YH1lbHNle3N3aXRjaCh0LnRvVXBwZXJDYXNlKCkpe2Nhc2VcXFwiTFxcXCI6cmV0dXJuXFxcImxhd2Z1bFxcXCI7Y2FzZVxcXCJOXFxcIjpyZXR1cm5cXFwibmV1dHJhbFxcXCI7Y2FzZVxcXCJOWFxcXCI6cmV0dXJuXFxcIm5ldXRyYWwgKGxhdy9jaGFvcyBheGlzKVxcXCI7Y2FzZVxcXCJOWVxcXCI6cmV0dXJuXFxcIm5ldXRyYWwgKGdvb2QvZXZpbCBheGlzKVxcXCI7Y2FzZVxcXCJDXFxcIjpyZXR1cm5cXFwiY2hhb3RpY1xcXCI7Y2FzZVxcXCJHXFxcIjpyZXR1cm5cXFwiZ29vZFxcXCI7Y2FzZVxcXCJFXFxcIjpyZXR1cm5cXFwiZXZpbFxcXCI7Y2FzZVxcXCJVXFxcIjpyZXR1cm5cXFwidW5hbGlnbmVkXFxcIjtjYXNlXFxcIkFcXFwiOnJldHVyblxcXCJhbnkgYWxpZ25tZW50XFxcIn1yZXR1cm4gdH1yZXR1cm4gZS5qb2luKFxcXCIgb3IgXFxcIil9ZnVuY3Rpb24gdXIodCl7dmFyIGwsdTtsZXQgZT10LnNwZWVkO2lmKCFlKXJldHVyblxcXCJcXFxcdTIwMTRcXFwiO2lmKHR5cGVvZiBlPT1cXFwibnVtYmVyXFxcIilyZXR1cm5gJHtlfWA7ZnVuY3Rpb24gbihhKXtyZXR1cm4gdHlwZW9mIGE9PVxcXCJudW1iZXJcXFwiP2E6YS5udW1iZXIhPW51bGw/YS5udW1iZXI6YX1mdW5jdGlvbiByKGEpe3ZhciBmO3JldHVybiB0eXBlb2YgYT09XFxcIm51bWJlclxcXCI/XFxcIlxcXCI6KGY9YT09bnVsbD92b2lkIDA6YS5jb25kaXRpb24pIT1udWxsP2Y6XFxcIlxcXCJ9bGV0IGk9W10scz1bXFxcIndhbGtcXFwiLFxcXCJidXJyb3dcXFwiLFxcXCJjbGltYlxcXCIsXFxcImZseVxcXCIsXFxcInN3aW1cXFwiXTtmb3IobGV0IGEgb2Ygcyl7aWYoYSE9XFxcIndhbGtcXFwiJiYhKGEgaW4gZSkmJiEoYSBpbigobD1lLmFsdGVybmF0ZSkhPW51bGw/bDp7fSkpKWNvbnRpbnVlO2xldCBmPVtdO2kucHVzaChgJHthPT09XFxcIndhbGtcXFwiP1xcXCJcXFwiOmAke2F9IGB9JHtuKCh1PWVbYV0pIT1udWxsP3U6MCl9IGZ0LiAke3IoZVthXSl9YC50cmltKCkpLGUuYWx0ZXJuYXRlJiZlLmFsdGVybmF0ZVthXSYmZS5hbHRlcm5hdGVbYV0uZm9yRWFjaChoPT57aS5wdXNoKGAke2E9PT1cXFwid2Fsa1xcXCI/XFxcIlxcXCI6YCR7YX0gYH0ke24oaCE9bnVsbD9oOjApfSBmdC4gJHtyKGgpfWAudHJpbSgpKX0pfWxldCBvPVxcXCIsIFxcXCI7aWYoZS5jaG9vc2Upe289XFxcIjsgXFxcIjtsZXQgYT1lLmNob29zZS5mcm9tLnNvcnQoKTthLmxlbmd0aD4xPyhgJHthLnNsaWNlKDAsYS5sZW5ndGgtMSkuam9pbihcXFwiLCBcXFwiKX0ke2FbYS5sZW5ndGgtMV19JHtlLmNob29zZS5hbW91bnR9YCxlLmNob29zZS5ub3RlJiZgJHtlLmNob29zZS5ub3RlfWApOmkucHVzaChgJHthfSAke2UuY2hvb3NlLmFtb3VudH0gZnQuJHtlLmNob29zZS5ub3RlP2AgJHtlLmNob29zZS5ub3RlfWA6XFxcIlxcXCJ9YCl9cmV0dXJuIGkuam9pbihvKX1mdW5jdGlvbiBmcih0KXt2YXIgbixyO2lmKHR5cGVvZiB0LnNlbnNlcz09XFxcInN0cmluZ1xcXCIpcmV0dXJuIHQuc2Vuc2VzO2xldCBlPVsocj0obj10LnNlbnNlcyk9PW51bGw/dm9pZCAwOm4uam9pbihcXFwiLCBcXFwiKS50cmltKCkpIT1udWxsP3I6XFxcIlxcXCJdO3JldHVybiB0LnBhc3NpdmUmJmUucHVzaChgcGFzc2l2ZSBQZXJjZXB0aW9uICR7dC5wYXNzaXZlfWApLGUuam9pbihcXFwiLCBcXFwiKX1mdW5jdGlvbiBtcih0KXt2YXIgbixyLGk7bGV0IGU9W107cmV0dXJuKG49dC5zb3VyY2UpIT1udWxsJiZuLmxlbmd0aCYmZS5wdXNoKChyPWNbdC5zb3VyY2VdKSE9bnVsbD9yOnQuc291cmNlKSwoaT10Lm90aGVyU291cmNlcykhPW51bGwmJmkubGVuZ3RoJiZlLnB1c2goLi4udC5vdGhlclNvdXJjZXMubWFwKHM9Pnt2YXIgbztyZXR1cm4obz1jW3Muc291cmNlXSkhPW51bGw/bzpzLnNvdXJjZX0pKSxlfWZ1bmN0aW9uIFRlKHQpe3JldHVybiB0LmVudHJpZXMucmVkdWNlKChuLHIpPT57dmFyIHM7aWYodHlwZW9mIHIhPVxcXCJzdHJpbmdcXFwiKXtsZXQgbz0ocz1yLml0ZW1zKT09bnVsbD92b2lkIDA6cy5tYXAobD0+dHlwZW9mIGw9PVxcXCJzdHJpbmdcXFwiP3tuYW1lOmwsZW50cmllczpbXX06XFxcImVudHJ5XFxcImluIGw/e25hbWU6bC5uYW1lLGVudHJpZXM6W2wuZW50cnldfTp7bmFtZTpsLm5hbWUsZW50cmllczpsLmVudHJpZXN9KTtyZXR1cm4gbi5jb25jYXQobyE9bnVsbD9vOltdKX1yZXR1cm4gbi5sZW5ndGg+MXx8blswXS5lbnRyaWVzLnB1c2gociksbn0sW3tuYW1lOnQubmFtZSxlbnRyaWVzOltdfV0pLm1hcCgoe25hbWU6bixlbnRyaWVzOnJ9KT0+KHtuYW1lOksobiksZGVzYzpLKHIuam9pbihgXFxuYCkpfSkpfXZhciBwcj1cXFwiRlxcXCIsaHI9XFxcIkRcXFwiLGdyPVxcXCJUXFxcIixkcj1cXFwiU1xcXCIsU3I9XFxcIk1cXFwiLHZyPVxcXCJMXFxcIix5cj1cXFwiSFxcXCIsUnI9XFxcIkdcXFwiLENyPVxcXCJDXFxcIixFcj1cXFwiVlxcXCIsX3I9e1twcl06XFxcIkZpbmVcXFwiLFtocl06XFxcIkRpbWludXRpdmVcXFwiLFtncl06XFxcIlRpbnlcXFwiLFtkcl06XFxcIlNtYWxsXFxcIixbU3JdOlxcXCJNZWRpdW1cXFwiLFt2cl06XFxcIkxhcmdlXFxcIixbeXJdOlxcXCJIdWdlXFxcIixbUnJdOlxcXCJHYXJnYW50dWFuXFxcIixbQ3JdOlxcXCJDb2xvc3NhbFxcXCIsW0VyXTpcXFwiVmFyaWVzXFxcIn0sQXI9XFxcIkNvU1xcXCIsVHI9XFxcIkRNR1xcXCIsTnI9XFxcIkVFUENcXFwiLGJyPVxcXCJFRVRcXFwiLHdyPVxcXCJIb3REUVxcXCIsRHI9XFxcIkxNb1BcXFwiLCRyPVxcXCJNYWdcXFwiLHhyPVxcXCJNTVxcXCIsTXI9XFxcIk9vdEFcXFwiLE9yPVxcXCJQSEJcXFwiLElyPVxcXCJQb3RBXFxcIixQcj1cXFwiUm9UXFxcIixrcj1cXFwiUm9UT1NcXFwiLEZyPVxcXCJTQ0FHXFxcIixVcj1cXFwiU0tUXFxcIixMcj1cXFwiVG9BXFxcIixXcj1cXFwiVG9EXFxcIixHcj1cXFwiVFRQXFxcIixqcj1cXFwiVGZ0WVBcXFwiLEJyPVxcXCJUZnRZUC1BdEdcXFwiLFZyPVxcXCJUZnRZUC1EaVRcXFwiLHpyPVxcXCJUZnRZUC1URm9GXFxcIixIcj1cXFwiVGZ0WVAtVEhTb1RcXFwiLEtyPVxcXCJUZnRZUC1UU0NcXFwiLFlyPVxcXCJUZnRZUC1Ub0hcXFwiLFhyPVxcXCJUZnRZUC1XUE1cXFwiLHFyPVxcXCJWR01cXFwiLFpyPVxcXCJYR0VcXFwiLFFyPVxcXCJPR0FcXFwiLEpyPVxcXCJNVEZcXFwiLGVpPVxcXCJXREhcXFwiLHRpPVxcXCJXRE1NXFxcIixuaT1cXFwiR0dSXFxcIixyaT1cXFwiS0tXXFxcIixpaT1cXFwiTExLXFxcIixzaT1cXFwiR29TXFxcIixhaT1cXFwiQUlcXFwiLG9pPVxcXCJPb1dcXFwiLGNpPVxcXCJFU0tcXFwiLGxpPVxcXCJESVBcXFwiLHVpPVxcXCJIZnRUXFxcIixmaT1cXFwiRENcXFwiLG1pPVxcXCJTTFdcXFwiLHBpPVxcXCJTRFdcXFwiLGhpPVxcXCJCR0RJQVxcXCIsZ2k9XFxcIkxSXFxcIixkaT1cXFwiQUxcXFwiLFNpPVxcXCJTQUNcXFwiLHZpPVxcXCJFUkxXXFxcIix5aT1cXFwiRUZSXFxcIixSaT1cXFwiUk1CUkVcXFwiLENpPVxcXCJSTVJcXFwiLEVpPVxcXCJNRkZcXFwiLF9pPVxcXCJBV01cXFwiLEFpPVxcXCJJTVJcXFwiLFRpPVxcXCJTQURTXFxcIixOaT1cXFwiRUdXXFxcIixiaT1cXFwiVG9SXFxcIix3aT1cXFwiRERcXFwiLERpPVxcXCJGU1xcXCIsJGk9XFxcIlVTXFxcIix4aT1cXFwiTU9UXFxcIixNaT1cXFwiSURSb3RGXFxcIixPaT1cXFwiVENFXFxcIixJaT1cXFwiVlJHUlxcXCIsUGk9XFxcIkhvTFxcXCIsa2k9XFxcIlNjcmVlblxcXCIsRmk9XFxcIlNjcmVlbldpbGRlcm5lc3NLaXRcXFwiLFVpPVxcXCJIRlxcXCIsTGk9XFxcIkNNXFxcIixXaT1cXFwiV0J0V1xcXCIsR2k9XFxcIkNSQ290TlxcXCIsSmU9XFxcIkFMXFxcIixqaT1gJHtKZX1DdXJzZU9mU3RyYWhkYCxCaT1gJHtKZX1FbGVtZW50YWxFdmlsYCxWaT1gJHtKZX1SYWdlT2ZEZW1vbnNgLG1lPVxcXCJQU1xcXCIsemk9YCR7bWV9QWAsSGk9YCR7bWV9SWAsS2k9YCR7bWV9S2AsWWk9YCR7bWV9WmAsWGk9YCR7bWV9WGAscWk9YCR7bWV9RGAsbT1cXFwiVUFcXFwiLFppPWAke219QXJ0aWZpY2VyYCxRaT1gJHttfUVsYWRyaW5BbmRHaXRoYCxKaT1gJHttfUViZXJyb25gLGVzPWAke219RmVhdHNGb3JSYWNlc2AsdHM9YCR7bX1GZWF0c0ZvclNraWxsc2AsbnM9YCR7bX1GaWVuZGlzaE9wdGlvbnNgLHJzPWAke219RmVhdHNgLGlzPWAke219R290aGljSGVyb2VzYCxzcz1gJHttfU1vZGVybk1hZ2ljYCxhcz1gJHttfVN0YXJ0ZXJTcGVsbHNgLG9zPWAke219VGhlTXlzdGljQ2xhc3NgLGNzPWAke219VGhhdE9sZEJsYWNrTWFnaWNgLGxzPWAke219VGhlUmFuZ2VyUmV2aXNlZGAsdXM9YCR7bX1XYXRlcmJvcm5lQWR2ZW50dXJlc2AsZnM9YCR7bX1WYXJpYW50UnVsZXNgLG1zPWAke219TGlnaHREYXJrVW5kZXJkYXJrYCxwcz1gJHttfVJhbmdlckFuZFJvZ3VlYCxocz1gJHttfUFUcmlvT2ZTdWJjbGFzc2VzYCxncz1gJHttfUJhcmJhcmlhblByaW1hbFBhdGhzYCxkcz1gJHttfVJldmlzZWRTdWJjbGFzc2VzYCxTcz1gJHttfUtpdHNPZk9sZGAsdnM9YCR7bX1CYXJkQmFyZENvbGxlZ2VzYCx5cz1gJHttfUNsZXJpY0RpdmluZURvbWFpbnNgLFJzPWAke219RHJ1aWRgLENzPWAke219UmV2aXNlZENsYXNzT3B0aW9uc2AsRXM9YCR7bX1GaWdodGVyYCxfcz1gJHttfU1vbmtgLEFzPWAke219UGFsYWRpbmAsVHM9YCR7bX1Nb2RpZnlpbmdDbGFzc2VzYCxOcz1gJHttfVNvcmNlcmVyYCxicz1gJHttfVdhcmxvY2tBbmRXaXphcmRgLHdzPWAke219VGhlRmFpdGhmdWxgLERzPWAke219V2l6YXJkUmV2aXNpdGVkYCwkcz1gJHttfUVsZlN1YnJhY2VzYCx4cz1gJHttfU1hc3NDb21iYXRgLE1zPWAke219VGhyZWVQaWxsYXJFeHBlcmllbmNlYCxPcz1gJHttfUdyZXloYXdrSW5pdGlhdGl2ZWAsSXM9YCR7bX1UaHJlZVN1YmNsYXNzZXNgLFBzPWAke219T3JkZXJEb21haW5gLGtzPWAke219Q2VudGF1cnNNaW5vdGF1cnNgLEZzPWAke219R2lhbnRTb3VsU29yY2VyZXJgLFVzPWAke219UmFjZXNPZkViZXJyb25gLExzPWAke219UmFjZXNPZlJhdm5pY2FgLFdzPWAke219V0dFYCxHcz1gJHttfU9mU2hpcHNBbmRTZWFgLGpzPWAke219U2lkZWtpY2tzYCxCcz1gJHttfUFydGlmaWNlclJldmlzaXRlZGAsVnM9YCR7bX1CYXJiYXJpYW5BbmRNb25rYCx6cz1gJHttfVNvcmNlcmVyQW5kV2FybG9ja2AsSHM9YCR7bX1CYXJkQW5kUGFsYWRpbmAsS3M9YCR7bX1DbGVyaWNEcnVpZFdpemFyZGAsWXM9YCR7bX1GaWdodGVyUmFuZ2VyUm9ndWVgLFhzPWAke219Q2xhc3NGZWF0dXJlVmFyaWFudHNgLHFzPWAke219RmlnaHRlclJvZ3VlV2l6YXJkYCxacz1gJHttfVByZXN0aWdlQ2xhc3Nlc1J1bk1hZ2ljYCxRcz1gJHttfVJhbmdlcmAsSnM9YCR7bX0yMDIwU3ViY2xhc3Nlc1B0MWAsZWE9YCR7bX0yMDIwU3ViY2xhc3Nlc1B0MmAsdGE9YCR7bX0yMDIwU3ViY2xhc3Nlc1B0M2AsbmE9YCR7bX0yMDIwU3ViY2xhc3Nlc1B0NGAscmE9YCR7bX0yMDIwU3ViY2xhc3Nlc1B0NWAsaWE9YCR7bX0yMDIwU3BlbGxzQW5kTWFnaWNUYXR0b29zYCxzYT1gJHttfTIwMjBQc2lvbmljT3B0aW9uc1JldmlzaXRlZGAsYWE9YCR7bX0yMDIwU3ViY2xhc3Nlc1JldmlzaXRlZGAsb2E9YCR7bX0yMDIwRmVhdHNgLGNhPWAke219MjAyMUdvdGhpY0xpbmVhZ2VzYCxsYT1gJHttfTIwMjFGb2xrT2ZUaGVGZXl3aWxkYCx1YT1gJHttfTIwMjFEcmFjb25pY09wdGlvbnNgLGZhPWAke219MjAyMU1hZ2VzT2ZTdHJpeGhhdmVuYCxldD1cXFwiQWR2ZW50dXJlcnMgTGVhZ3VlOiBcXFwiLHBlPVxcXCJQbGFuZSBTaGlmdDogXFxcIixwPVxcXCJVbmVhcnRoZWQgQXJjYW5hOiBcXFwiLFE9XFxcIlRhbGVzIGZyb20gdGhlIFlhd25pbmcgUG9ydGFsXFxcIixjPXt9O2NbQXJdPVxcXCJDdXJzZSBvZiBTdHJhaGRcXFwiO2NbVHJdPVxcXCJEdW5nZW9uIE1hc3RlcidzIEd1aWRlXFxcIjtjW05yXT1cXFwiRWxlbWVudGFsIEV2aWwgUGxheWVyJ3MgQ29tcGFuaW9uXFxcIjtjW2JyXT1cXFwiRWxlbWVudGFsIEV2aWw6IFRyaW5rZXRzXFxcIjtjW3dyXT1cXFwiSG9hcmQgb2YgdGhlIERyYWdvbiBRdWVlblxcXCI7Y1tEcl09XFxcIkxvc3QgTWluZSBvZiBQaGFuZGVsdmVyXFxcIjtjWyRyXT1cXFwiRHJhZ29uIE1hZ2F6aW5lXFxcIjtjW3hyXT1cXFwiTW9uc3RlciBNYW51YWxcXFwiO2NbTXJdPVxcXCJPdXQgb2YgdGhlIEFieXNzXFxcIjtjW09yXT1cXFwiUGxheWVyJ3MgSGFuZGJvb2tcXFwiO2NbSXJdPVxcXCJQcmluY2VzIG9mIHRoZSBBcG9jYWx5cHNlXFxcIjtjW1ByXT1cXFwiVGhlIFJpc2Ugb2YgVGlhbWF0XFxcIjtjW2tyXT1cXFwiVGhlIFJpc2Ugb2YgVGlhbWF0IE9ubGluZSBTdXBwbGVtZW50XFxcIjtjW0ZyXT1cXFwiU3dvcmQgQ29hc3QgQWR2ZW50dXJlcidzIEd1aWRlXFxcIjtjW1VyXT1cXFwiU3Rvcm0gS2luZydzIFRodW5kZXJcXFwiO2NbTHJdPVxcXCJUb21iIG9mIEFubmloaWxhdGlvblxcXCI7Y1tXcl09XFxcIlR5cmFubnkgb2YgRHJhZ29uc1xcXCI7Y1tHcl09XFxcIlRoZSBUb3J0bGUgUGFja2FnZVxcXCI7Y1tqcl09UTtjW0JyXT1gJHtRfTogQWdhaW5zdCB0aGUgR2lhbnRzYDtjW1ZyXT1gJHtRfTogRGVhZCBpbiBUaGF5YDtjW3pyXT1gJHtRfTogVGhlIEZvcmdlIG9mIEZ1cnlgO2NbSHJdPWAke1F9OiBUaGUgSGlkZGVuIFNocmluZSBvZiBUYW1vYWNoYW5gO2NbS3JdPWAke1F9OiBUaGUgU3VubGVzcyBDaXRhZGVsYDtjW1lyXT1gJHtRfTogVG9tYiBvZiBIb3Jyb3JzYDtjW1hyXT1gJHtRfTogV2hpdGUgUGx1bWUgTW91bnRhaW5gO2NbcXJdPVxcXCJWb2xvJ3MgR3VpZGUgdG8gTW9uc3RlcnNcXFwiO2NbWnJdPVxcXCJYYW5hdGhhcidzIEd1aWRlIHRvIEV2ZXJ5dGhpbmdcXFwiO2NbUXJdPVxcXCJPbmUgR3J1bmcgQWJvdmVcXFwiO2NbSnJdPVxcXCJNb3JkZW5rYWluZW4ncyBUb21lIG9mIEZvZXNcXFwiO2NbZWldPVxcXCJXYXRlcmRlZXA6IERyYWdvbiBIZWlzdFxcXCI7Y1t0aV09XFxcIldhdGVyZGVlcDogRHVuZ2VvbiBvZiB0aGUgTWFkIE1hZ2VcXFwiO2NbbmldPVxcXCJHdWlsZG1hc3RlcnMnIEd1aWRlIHRvIFJhdm5pY2FcXFwiO2NbcmldPVxcXCJLcmVua28ncyBXYXlcXFwiO2NbaWldPVxcXCJMb3N0IExhYm9yYXRvcnkgb2YgS3dhbGlzaFxcXCI7Y1tzaV09XFxcIkdob3N0cyBvZiBTYWx0bWFyc2hcXFwiO2NbYWldPVxcXCJBY3F1aXNpdGlvbnMgSW5jb3Jwb3JhdGVkXFxcIjtjW29pXT1cXFwiVGhlIE9ycmVyeSBvZiB0aGUgV2FuZGVyZXJcXFwiO2NbY2ldPVxcXCJFc3NlbnRpYWxzIEtpdFxcXCI7Y1tsaV09XFxcIkRyYWdvbiBvZiBJY2VzcGlyZSBQZWFrXFxcIjtjW3VpXT1cXFwiSHVudCBmb3IgdGhlIFRoZXNzYWxoeWRyYVxcXCI7Y1tmaV09XFxcIkRpdmluZSBDb250ZW50aW9uXFxcIjtjW21pXT1cXFwiU3Rvcm0gTG9yZCdzIFdyYXRoXFxcIjtjW3BpXT1cXFwiU2xlZXBpbmcgRHJhZ29uJ3MgV2FrZVxcXCI7Y1toaV09XFxcIkJhbGR1cidzIEdhdGU6IERlc2NlbnQgSW50byBBdmVybnVzXFxcIjtjW2dpXT1cXFwiTG9jYXRoYWggUmlzaW5nXFxcIjtjW2RpXT1cXFwiQWR2ZW50dXJlcnMnIExlYWd1ZVxcXCI7Y1tTaV09XFxcIlNhZ2UgQWR2aWNlIENvbXBlbmRpdW1cXFwiO2NbdmldPVxcXCJFYmVycm9uOiBSaXNpbmcgZnJvbSB0aGUgTGFzdCBXYXJcXFwiO2NbeWldPVxcXCJFYmVycm9uOiBGb3Jnb3R0ZW4gUmVsaWNzXFxcIjtjW1JpXT1cXFwiVGhlIExvc3QgRHVuZ2VvbiBvZiBSaWNrZWRuZXNzOiBCaWcgUmljayBFbmVyZ3lcXFwiO2NbQ2ldPVxcXCJEdW5nZW9ucyAmIERyYWdvbnMgdnMuIFJpY2sgYW5kIE1vcnR5OiBCYXNpYyBSdWxlc1xcXCI7Y1tFaV09XFxcIk1vcmRlbmthaW5lbidzIEZpZW5kaXNoIEZvbGlvXFxcIjtjW19pXT1cXFwiQWR2ZW50dXJlIHdpdGggTXVrXFxcIjtjW0FpXT1cXFwiSW5mZXJuYWwgTWFjaGluZSBSZWJ1aWxkXFxcIjtjW1RpXT1cXFwiU2FwcGhpcmUgQW5uaXZlcnNhcnkgRGljZSBTZXRcXFwiO2NbTmldPVxcXCJFeHBsb3JlcidzIEd1aWRlIHRvIFdpbGRlbW91bnRcXFwiO2NbYmldPVxcXCJUaWRlIG9mIFJldHJpYnV0aW9uXFxcIjtjW3dpXT1cXFwiRGFuZ2Vyb3VzIERlc2lnbnNcXFwiO2NbRGldPVxcXCJGcm96ZW4gU2lja1xcXCI7Y1skaV09XFxcIlVud2VsY29tZSBTcGlyaXRzXFxcIjtjW3hpXT1cXFwiTXl0aGljIE9keXNzZXlzIG9mIFRoZXJvc1xcXCI7Y1tNaV09XFxcIkljZXdpbmQgRGFsZTogUmltZSBvZiB0aGUgRnJvc3RtYWlkZW5cXFwiO2NbT2ldPVxcXCJUYXNoYSdzIENhdWxkcm9uIG9mIEV2ZXJ5dGhpbmdcXFwiO2NbSWldPVxcXCJWYW4gUmljaHRlbidzIEd1aWRlIHRvIFJhdmVubG9mdFxcXCI7Y1tQaV09XFxcIlRoZSBIb3VzZSBvZiBMYW1lbnRcXFwiO2Nba2ldPVxcXCJEdW5nZW9uIE1hc3RlcidzIFNjcmVlblxcXCI7Y1tGaV09XFxcIkR1bmdlb24gTWFzdGVyJ3MgU2NyZWVuOiBXaWxkZXJuZXNzIEtpdFxcXCI7Y1tVaV09XFxcIkhlcm9lcycgRmVhc3RcXFwiO2NbTGldPVxcXCJDYW5kbGVrZWVwIE15c3Rlcmllc1xcXCI7Y1tqaV09YCR7ZXR9Q3Vyc2Ugb2YgU3RyYWhkYDtjW0JpXT1gJHtldH1FbGVtZW50YWwgRXZpbGA7Y1tWaV09YCR7ZXR9UmFnZSBvZiBEZW1vbnNgO2NbemldPWAke3BlfUFtb25raGV0YDtjW0hpXT1gJHtwZX1Jbm5pc3RyYWRgO2NbS2ldPWAke3BlfUthbGFkZXNoYDtjW1lpXT1gJHtwZX1aZW5kaWthcmA7Y1tYaV09YCR7cGV9SXhhbGFuYDtjW3FpXT1gJHtwZX1Eb21pbmFyaWFgO2NbWmldPWAke3B9QXJ0aWZpY2VyYDtjW1FpXT1gJHtwfUVsYWRyaW4gYW5kIEdpdGhgO2NbSmldPWAke3B9RWJlcnJvbmA7Y1tlc109YCR7cH1GZWF0cyBmb3IgUmFjZXNgO2NbdHNdPWAke3B9RmVhdHMgZm9yIFNraWxsc2A7Y1tuc109YCR7cH1GaWVuZGlzaCBPcHRpb25zYDtjW3JzXT1gJHtwfUZlYXRzYDtjW2lzXT1gJHtwfUdvdGhpYyBIZXJvZXNgO2Nbc3NdPWAke3B9TW9kZXJuIE1hZ2ljYDtjW2FzXT1gJHtwfVN0YXJ0ZXIgU3BlbGxzYDtjW29zXT1gJHtwfVRoZSBNeXN0aWMgQ2xhc3NgO2NbY3NdPWAke3B9VGhhdCBPbGQgQmxhY2sgTWFnaWNgO2NbbHNdPWAke3B9VGhlIFJhbmdlciwgUmV2aXNlZGA7Y1t1c109YCR7cH1XYXRlcmJvcm5lIEFkdmVudHVyZXNgO2NbZnNdPWAke3B9VmFyaWFudCBSdWxlc2A7Y1ttc109YCR7cH1MaWdodCwgRGFyaywgVW5kZXJkYXJrIWA7Y1twc109YCR7cH1SYW5nZXIgYW5kIFJvZ3VlYDtjW2hzXT1gJHtwfUEgVHJpbyBvZiBTdWJjbGFzc2VzYDtjW2dzXT1gJHtwfUJhcmJhcmlhbiBQcmltYWwgUGF0aHNgO2NbZHNdPWAke3B9UmV2aXNlZCBTdWJjbGFzc2VzYDtjW1NzXT1gJHtwfUtpdHMgb2YgT2xkYDtjW3ZzXT1gJHtwfUJhcmQ6IEJhcmQgQ29sbGVnZXNgO2NbeXNdPWAke3B9Q2xlcmljOiBEaXZpbmUgRG9tYWluc2A7Y1tSc109YCR7cH1EcnVpZGA7Y1tDc109YCR7cH1SZXZpc2VkIENsYXNzIE9wdGlvbnNgO2NbRXNdPWAke3B9RmlnaHRlcmA7Y1tfc109YCR7cH1Nb25rYDtjW0FzXT1gJHtwfVBhbGFkaW5gO2NbVHNdPWAke3B9TW9kaWZ5aW5nIENsYXNzZXNgO2NbTnNdPWAke3B9U29yY2VyZXJgO2NbYnNdPWAke3B9V2FybG9jayBhbmQgV2l6YXJkYDtjW3dzXT1gJHtwfVRoZSBGYWl0aGZ1bGA7Y1tEc109YCR7cH1XaXphcmQgUmV2aXNpdGVkYDtjWyRzXT1gJHtwfUVsZiBTdWJyYWNlc2A7Y1t4c109YCR7cH1NYXNzIENvbWJhdGA7Y1tNc109YCR7cH1UaHJlZS1QaWxsYXIgRXhwZXJpZW5jZWA7Y1tPc109YCR7cH1HcmV5aGF3ayBJbml0aWF0aXZlYDtjW0lzXT1gJHtwfVRocmVlIFN1YmNsYXNzZXNgO2NbUHNdPWAke3B9T3JkZXIgRG9tYWluYDtjW2tzXT1gJHtwfUNlbnRhdXJzIGFuZCBNaW5vdGF1cnNgO2NbRnNdPWAke3B9R2lhbnQgU291bCBTb3JjZXJlcmA7Y1tVc109YCR7cH1SYWNlcyBvZiBFYmVycm9uYDtjW0xzXT1gJHtwfVJhY2VzIG9mIFJhdm5pY2FgO2NbV3NdPVxcXCJXYXlmaW5kZXIncyBHdWlkZSB0byBFYmVycm9uXFxcIjtjW0dzXT1gJHtwfU9mIFNoaXBzIGFuZCB0aGUgU2VhYDtjW2pzXT1gJHtwfVNpZGVraWNrc2A7Y1tCc109YCR7cH1BcnRpZmljZXIgUmV2aXNpdGVkYDtjW1ZzXT1gJHtwfUJhcmJhcmlhbiBhbmQgTW9ua2A7Y1t6c109YCR7cH1Tb3JjZXJlciBhbmQgV2FybG9ja2A7Y1tIc109YCR7cH1CYXJkIGFuZCBQYWxhZGluYDtjW0tzXT1gJHtwfUNsZXJpYywgRHJ1aWQsIGFuZCBXaXphcmRgO2NbWXNdPWAke3B9RmlnaHRlciwgUmFuZ2VyLCBhbmQgUm9ndWVgO2NbWHNdPWAke3B9Q2xhc3MgRmVhdHVyZSBWYXJpYW50c2A7Y1txc109YCR7cH1GaWdodGVyLCBSb2d1ZSwgYW5kIFdpemFyZGA7Y1tac109YCR7cH1QcmVzdGlnZSBDbGFzc2VzIGFuZCBSdW5lIE1hZ2ljYDtjW1FzXT1gJHtwfVJhbmdlcmA7Y1tKc109YCR7cH0yMDIwIFN1YmNsYXNzZXMsIFBhcnQgMWA7Y1tlYV09YCR7cH0yMDIwIFN1YmNsYXNzZXMsIFBhcnQgMmA7Y1t0YV09YCR7cH0yMDIwIFN1YmNsYXNzZXMsIFBhcnQgM2A7Y1tuYV09YCR7cH0yMDIwIFN1YmNsYXNzZXMsIFBhcnQgNGA7Y1tyYV09YCR7cH0yMDIwIFN1YmNsYXNzZXMsIFBhcnQgNWA7Y1tpYV09YCR7cH0yMDIwIFNwZWxscyBhbmQgTWFnaWMgVGF0dG9vc2A7Y1tzYV09YCR7cH0yMDIwIFBzaW9uaWMgT3B0aW9ucyBSZXZpc2l0ZWRgO2NbYWFdPWAke3B9MjAyMCBTdWJjbGFzc2VzIFJldmlzaXRlZGA7Y1tvYV09YCR7cH0yMDIwIEZlYXRzYDtjW2NhXT1gJHtwfTIwMjEgR290aGljIExpbmVhZ2VzYDtjW2xhXT1gJHtwfTIwMjEgRm9sayBvZiB0aGUgRmV5d2lsZGA7Y1t1YV09YCR7cH0yMDIxIERyYWNvbmljIE9wdGlvbnNgO2NbZmFdPWAke3B9MjAyMSBNYWdlcyBvZiBTdHJpeGhhdmVuYDtjW1dpXT1cXFwiVGhlIFdpbGQgQmV5b25kIHRoZSBXaXRjaGxpZ2h0XFxcIjtjW0dpXT1cXFwiQ3JpdGljYWwgUm9sZTogQ2FsbCBvZiB0aGUgTmV0aGVyZGVlcFxcXCI7ZnVuY3Rpb24gbWEodCl7dmFyIGkscyxvO2xldCBlPXQuc2tpbGw7aWYoIWUpcmV0dXJuW107bGV0IG49W10scj1bXTtmb3IobGV0IGwgb2YgT2JqZWN0LmtleXMoZSkpe2lmKGw9PVxcXCJvdGhlclxcXCIpe2xldCBmPWVbbF07Zm9yKGxldCBoIG9mIGYpe2xldCBTPWgub25lT2Y7aWYoIVMpY29udGludWU7bGV0IEU9T2JqZWN0LmtleXMoUykuc29ydCgpLHk9RS5zaGlmdCgpLFI9U1t5XSxbLHZdPShpPVI9PW51bGw/dm9pZCAwOlIubWF0Y2goLy4qPyhcXFxcZCspLykpIT1udWxsP2k6W107ci5wdXNoKHtbYHBsdXMgb25lIG9mIHRoZSBmb2xsb3dpbmc6ICR7eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt5LnNsaWNlKDEpfWBdOnZ9KTtmb3IobGV0IE0gb2YgRS5zbGljZSgxKSl7bGV0IFA9U1tNXSxbLGJdPShzPVA9PW51bGw/dm9pZCAwOlAubWF0Y2goLy4qPyhcXFxcZCspLykpIT1udWxsP3M6W107IWJ8fHIucHVzaCh7W01dOmJ9KX19Y29udGludWV9bGV0IHU9ZVtsXSxbLGFdPShvPXU9PW51bGw/dm9pZCAwOnUubWF0Y2goLy4qPyhcXFxcZCspLykpIT1udWxsP286W107IWF8fG4ucHVzaCh7W2xdOmF9KX1yZXR1cm5bLi4ubi5maWx0ZXIobD0+bCksLi4uci5maWx0ZXIobD0+bCldfXZhciBobj17MDp7Y3I6XFxcIjBcXFwiLHZhbHVlOjAseHA6MH0sXFxcIjEvOFxcXCI6e2NyOlxcXCIxLzhcXFwiLHZhbHVlOi4xMjUseHA6MjV9LFxcXCIxLzRcXFwiOntjcjpcXFwiMS80XFxcIix2YWx1ZTouMjUseHA6NTB9LFxcXCIxLzJcXFwiOntjcjpcXFwiMS8yXFxcIix2YWx1ZTouNSx4cDoxMDB9LFxcXCIwLjEyNVxcXCI6e2NyOlxcXCIxLzhcXFwiLHZhbHVlOi4xMjUseHA6MjV9LFxcXCIwLjI1XFxcIjp7Y3I6XFxcIjEvNFxcXCIsdmFsdWU6LjI1LHhwOjUwfSxcXFwiMC41XFxcIjp7Y3I6XFxcIjEvMlxcXCIsdmFsdWU6LjUseHA6MTAwfSwxOntjcjpcXFwiMVxcXCIsdmFsdWU6MSx4cDoyMDB9LDI6e2NyOlxcXCIyXFxcIix2YWx1ZToyLHhwOjQ1MH0sMzp7Y3I6XFxcIjNcXFwiLHZhbHVlOjMseHA6NzAwfSw0OntjcjpcXFwiNFxcXCIsdmFsdWU6NCx4cDoxMTAwfSw1OntjcjpcXFwiNVxcXCIsdmFsdWU6NSx4cDoxODAwfSw2OntjcjpcXFwiNlxcXCIsdmFsdWU6Nix4cDoyMzAwfSw3OntjcjpcXFwiN1xcXCIsdmFsdWU6Nyx4cDoyOTAwfSw4OntjcjpcXFwiOFxcXCIsdmFsdWU6OCx4cDozOTAwfSw5OntjcjpcXFwiOVxcXCIsdmFsdWU6OSx4cDo1ZTN9LDEwOntjcjpcXFwiMTBcXFwiLHZhbHVlOjEwLHhwOjU5MDB9LDExOntjcjpcXFwiMTFcXFwiLHZhbHVlOjExLHhwOjcyMDB9LDEyOntjcjpcXFwiMTJcXFwiLHZhbHVlOjEyLHhwOjg0MDB9LDEzOntjcjpcXFwiMTNcXFwiLHZhbHVlOjEzLHhwOjFlNH0sMTQ6e2NyOlxcXCIxNFxcXCIsdmFsdWU6MTQseHA6MTE1MDB9LDE1OntjcjpcXFwiMTVcXFwiLHZhbHVlOjE1LHhwOjEzZTN9LDE2OntjcjpcXFwiMTZcXFwiLHZhbHVlOjE2LHhwOjE1ZTN9LDE3OntjcjpcXFwiMTdcXFwiLHZhbHVlOjE3LHhwOjE4ZTN9LDE4OntjcjpcXFwiMThcXFwiLHZhbHVlOjE4LHhwOjJlNH0sMTk6e2NyOlxcXCIxOVxcXCIsdmFsdWU6MTkseHA6MjJlM30sMjA6e2NyOlxcXCIyMFxcXCIsdmFsdWU6MjAseHA6MjVlM30sMjE6e2NyOlxcXCIyMVxcXCIsdmFsdWU6MjEseHA6MzNlM30sMjI6e2NyOlxcXCIyMlxcXCIsdmFsdWU6MjIseHA6NDFlM30sMjM6e2NyOlxcXCIyM1xcXCIsdmFsdWU6MjMseHA6NWU0fSwyNDp7Y3I6XFxcIjI0XFxcIix2YWx1ZToyNCx4cDo2MmUzfSwyNTp7Y3I6XFxcIjI1XFxcIix2YWx1ZToyNSx4cDo3NWUzfSwyNjp7Y3I6XFxcIjI2XFxcIix2YWx1ZToyNix4cDo5ZTR9LDI3OntjcjpcXFwiMjdcXFwiLHZhbHVlOjI3LHhwOjEwNWUzfSwyODp7Y3I6XFxcIjI4XFxcIix2YWx1ZToyOCx4cDoxMmU0fSwyOTp7Y3I6XFxcIjI5XFxcIix2YWx1ZToyOSx4cDoxMzVlM30sMzA6e2NyOlxcXCIzMFxcXCIsdmFsdWU6MzAseHA6MTU1ZTN9fTtmdW5jdGlvbiBZKHQpe3JldHVybiBNYXRoLmZsb29yKCgodCE9bnVsbD90OjEwKS0xMCkvMil9dmFyIGduPXt0aW55OjQsc21hbGw6NixtZWRpdW06OCxsYXJnZToxMCxodWdlOjEyLGdhcmdhbnR1YW46MjB9LHBhPXtzdHI6XFxcInN0cmVuZ3RoXFxcIixkZXg6XFxcImRleHRlcml0eVxcXCIsY29uOlxcXCJjb25zdGl0dXRpb25cXFwiLGludDpcXFwiaW50ZWxsaWdlbmNlXFxcIix3aXM6XFxcIndpc2RvbVxcXCIsY2hhOlxcXCJjaGFyaXNtYVxcXCJ9LE5lPWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMubW9uc3Rlcj1lO3RoaXMucHJvZmljaWVuY3k9dGhpcy5nZXRQcm9mKHRoaXMubW9uc3Rlcik7dGhpcy5zdGF0cz17c3RyOnRoaXMubW9uc3Rlci5zdHJQb2ludHMsZGV4OnRoaXMubW9uc3Rlci5kZXhQb2ludHMsY29uOnRoaXMubW9uc3Rlci5jb25Qb2ludHMsaW50OnRoaXMubW9uc3Rlci5pbnRQb2ludHMsd2lzOnRoaXMubW9uc3Rlci53aXNQb2ludHMsY2hhOnRoaXMubW9uc3Rlci5jaGFQb2ludHN9O3RoaXMubW9kaWZpZXJzPXtzdHI6WSh0aGlzLnN0YXRzLnN0ciksZGV4OlkodGhpcy5zdGF0cy5kZXgpLGNvbjpZKHRoaXMuc3RhdHMuY29uKSxpbnQ6WSh0aGlzLnN0YXRzLmludCksd2lzOlkodGhpcy5zdGF0cy53aXMpLGNoYTpZKHRoaXMuc3RhdHMuY2hhKX19c3RhdGljIHBhcnNlKGUpe3ZhciBpLHMsbyxsLHUsYTtsZXQgbj1uZXcgTmUoZSk7cmV0dXJue2ltYWdlOm51bGwsbmFtZTplLm5hbWUsc291cmNlOlxcXCJUZXRyYUN1YmVcXFwiLHR5cGU6ZS50eXBlLHN1YnR5cGU6XFxcIlxcXCIsc2l6ZTplLnNpemUsYWxpZ25tZW50OmUuYWxpZ25tZW50LGhwOihpPW4uZ2V0SFAoZSkpPT1udWxsP3ZvaWQgMDppLmhwLGhpdF9kaWNlOihzPW4uZ2V0SFAoZSkpPT1udWxsP3ZvaWQgMDpzLmRpY2UsYWM6KHU9KGw9KChvPWUuYWMpIT1udWxsP286W10pWzBdKT09bnVsbD92b2lkIDA6bC5hYykhPW51bGw/dTpcXFwiXFxcIixzcGVlZDpuLmdldFNwZWVkU3RyaW5nKGUpLHN0YXRzOltlLnN0clBvaW50cyxlLmRleFBvaW50cyxlLmNvblBvaW50cyxlLmludFBvaW50cyxlLndpc1BvaW50cyxlLmNoYVBvaW50c10sZGFtYWdlX2ltbXVuaXRpZXM6bi5wYXJzZUltbXVuZShlLFxcXCJpXFxcIiksZGFtYWdlX3Jlc2lzdGFuY2VzOm4ucGFyc2VJbW11bmUoZSxcXFwiclxcXCIpLGRhbWFnZV92dWxuZXJhYmlsaXRpZXM6bi5wYXJzZUltbXVuZShlLFxcXCJ2XFxcIiksY29uZGl0aW9uX2ltbXVuaXRpZXM6bi5wYXJzZUNvbmRpdGlvbnMoZSksc2F2ZXM6bi5nZXRTYXZlcyhlKSxza2lsbHNhdmVzOm4uZ2V0U2tpbGxzKGUpLHNlbnNlczpuLmdldFNlbnNlcyhlKSxsYW5ndWFnZXM6bi5nZXRMYW5ndWFnZXMoZSksY3I6KGE9ZS5jcikhPW51bGw/YTpcXFwiXFxcIix0cmFpdHM6bi5nZXRUcmFpdHMoZS5hYmlsaXRpZXMpLGFjdGlvbnM6bi5nZXRUcmFpdHMoZS5hY3Rpb25zKSxyZWFjdGlvbnM6bi5nZXRUcmFpdHMoZS5yZWFjdGlvbnMpLGxlZ2VuZGFyeV9hY3Rpb25zOm4uZ2V0VHJhaXRzKGUubGVnZW5kYXJpZXMpLHNwZWxsczpuLmdldFNwZWxscyhlLmFiaWxpdGllcyl9fWdldEhQKGUpe3ZhciBuLHI7aWYoZS5jdXN0b21IUHx8ZS5oaXREaWNlJiYvKFxcXFxkKykgXFxcXCgoLispXFxcXCkvLnRlc3QoZS5ocFRleHQpKXtsZXRbaSxzLG9dPShuPWUuaHBUZXh0Lm1hdGNoKC8oXFxcXGQrKSBcXFxcKCguKylcXFxcKS8pKSE9bnVsbD9uOltdO3JldHVybntocDpzLGRpY2U6b319aWYoZS5oaXREaWNlKXtsZXQgaT1OdW1iZXIoZS5oaXREaWNlKSxzPShyPWduW2Uuc2l6ZV0pIT1udWxsP3I6Z24ubWVkaXVtLG89dGhpcy5tb2RpZmllcnMuY29uLGw9aSpzLygyKy41KStvKmksdT1vPjA/XFxcIitcXFwiOlxcXCItXFxcIixhPW89PTA/XFxcIlxcXCI6YCAke3V9ICR7byppfWA7cmV0dXJue2hwOmwsZGljZTpgJHtpfWQke3N9JHthfWB9fX1nZXRTcGVlZFN0cmluZyhlKXtpZihlLmN1c3RvbVNwZWVkKXJldHVybiBlLnNwZWVkRGVzYztsZXQgbj1bZS5zcGVlZCtcXFwiIGZ0LlxcXCJdO3JldHVybiBlLmJ1cnJvd1NwZWVkPjAmJm4ucHVzaChcXFwiYnVycm93IFxcXCIrZS5idXJyb3dTcGVlZCtcXFwiIGZ0LlxcXCIpLGUuY2xpbWJTcGVlZD4wJiZuLnB1c2goXFxcImNsaW1iIFxcXCIrZS5jbGltYlNwZWVkK1xcXCIgZnQuXFxcIiksZS5mbHlTcGVlZD4wJiZuLnB1c2goXFxcImZseSBcXFwiK2UuZmx5U3BlZWQrXFxcIiBmdC5cXFwiKyhlLmhvdmVyP1xcXCIgKGhvdmVyKVxcXCI6XFxcIlxcXCIpKSxlLnN3aW1TcGVlZD4wJiZuLnB1c2goXFxcInN3aW0gXFxcIitlLnN3aW1TcGVlZCtcXFwiIGZ0LlxcXCIpLG4uam9pbihcXFwiLCBcXFwiKX1wYXJzZUltbXVuZShlLG4pe2xldCByPVtdO1xcXCJkYW1hZ2V0eXBlc1xcXCJpbiBlJiZBcnJheS5pc0FycmF5KGUuZGFtYWdldHlwZXMpJiZyLnB1c2goLi4uZS5kYW1hZ2V0eXBlcy5maWx0ZXIocz0+cy50eXBlPT1uKS5tYXAocz0+cy5uYW1lKSk7bGV0IGk9W107cmV0dXJuXFxcInNwZWNpYWxkYW1hZ2VcXFwiaW4gZSYmQXJyYXkuaXNBcnJheShlLnNwZWNpYWxkYW1hZ2UpJiZpLnB1c2goLi4uZS5zcGVjaWFsZGFtYWdlLmZpbHRlcihzPT5zLnR5cGU9PW4pLm1hcChzPT5zLm5hbWUpKSxbci5qb2luKFxcXCIsIFxcXCIpLGkuam9pbihcXFwiLCBcXFwiKV0uZmlsdGVyKHM9PnMmJnMubGVuZ3RoKS5qb2luKFxcXCI7IFxcXCIpfWdldExhbmd1YWdlcyhlKXtsZXQgbj1bXSxyPVtdLGk9W107Zm9yKGxldCBzPTA7czxlLmxhbmd1YWdlcy5sZW5ndGg7cysrKXtsZXQgbz1lLmxhbmd1YWdlc1tzXTtvLnNwZWFrc3x8by5zcGVha3M9PW51bGw/ci5wdXNoKG8pOmkucHVzaChvKX1yZXR1cm4gci5sZW5ndGg+MCYmbi5wdXNoKFtyLnNsaWNlKDAsci5sZW5ndGgtMikubWFwKHM9PnMubmFtZSkuam9pbihcXFwiLCBcXFwiKSxyLnNsaWNlKC0xKS5tYXAocz0+cy5uYW1lKV0uZmlsdGVyKHM9PnMpLmpvaW4oXFxcIiBhbmQgXFxcIikpLGkubGVuZ3RoPjAmJm4ucHVzaChbaS5zbGljZSgwLGkubGVuZ3RoLTIpLm1hcChzPT5zLm5hbWUpLmpvaW4oXFxcIiwgXFxcIiksaS5zbGljZSgtMSkubWFwKHM9PnMubmFtZSldLmZpbHRlcihzPT5zKS5qb2luKFxcXCIgYW5kIFxcXCIpKSxlLnRlbGVwYXRoeT4wJiZuLnB1c2goXFxcInRlbGVwYXRoeSBcXFwiK2UudGVsZXBhdGh5K1xcXCIgZnQuXFxcIiksbi5sZW5ndGg9PTAmJm4ucHVzaChcXFwiJm1kYXNoO1xcXCIpLG4uam9pbihcXFwiOyBcXFwiKX1nZXRTZW5zZXMoZSl7bGV0IG49W107ZS5ibGluZHNpZ2h0PjAmJm4ucHVzaChcXFwiYmxpbmRzaWdodCBcXFwiK2UuYmxpbmRzaWdodCtcXFwiIGZ0LlxcXCIrKGUuYmxpbmQ/XFxcIiAoYmxpbmQgYmV5b25kIHRoaXMgcmFkaXVzKVxcXCI6XFxcIlxcXCIpKSxlLmRhcmt2aXNpb24+MCYmbi5wdXNoKFxcXCJkYXJrdmlzaW9uIFxcXCIrZS5kYXJrdmlzaW9uK1xcXCIgZnQuXFxcIiksZS50cmVtb3JzZW5zZT4wJiZuLnB1c2goXFxcInRyZW1vcnNlbnNlIFxcXCIrZS50cmVtb3JzZW5zZStcXFwiIGZ0LlxcXCIpLGUudHJ1ZXNpZ2h0PjAmJm4ucHVzaChcXFwidHJ1ZXNpZ2h0IFxcXCIrZS50cnVlc2lnaHQrXFxcIiBmdC5cXFwiKTtsZXQgcj1lLnNraWxscy5maW5kKHM9PnMubmFtZT09XFxcInBlcmNlcHRpb25cXFwiKSxpPTEwK1koZS53aXNQb2ludHMpO3JldHVybiByIT1udWxsJiYoaSs9dGhpcy5wcm9maWNpZW5jeSooXFxcIm5vdGVcXFwiaW4gcj8yOjEpKSxuLnB1c2goXFxcInBhc3NpdmUgUGVyY2VwdGlvbiBcXFwiK2kpLG4uam9pbihcXFwiLCBcXFwiKX10cmFuc2Zvcm1TdHJpbmcoZSl7cmV0dXJuIGUucmVwbGFjZSgvKF98XFxcXCp8XFxcXHMqPlxcXFxzKikvZyxcXFwiXFxcIikucmVwbGFjZSgvXFxcXFtNT04oUyk/XFxcXF0vZyxgJHt0aGlzLm1vbnN0ZXIuc2hvcnROYW1lJiZ0aGlzLm1vbnN0ZXIuc2hvcnROYW1lLmxlbmd0aD90aGlzLm1vbnN0ZXIuc2hvcnROYW1lOnRoaXMubW9uc3Rlci5uYW1lfSQxYCkucmVwbGFjZSgvXFxcXFsoXFxcXHcrKVxcXFxdL2csKG4scik9PntpZihyPXIudG9Mb3dlckNhc2UoKSwhKHIgaW4gdGhpcy5tb2RpZmllcnMpKXJldHVybiBuO2xldCBpPXRoaXMubW9kaWZpZXJzW3JdO3JldHVybmAke2k+PTA/XFxcIitcXFwiOlxcXCJcXFwifSR7aX1gfSkucmVwbGFjZSgvXFxcXFsoXFxcXHcrKSAoQVRLfFNBVkUpXFxcXHM/KD86KFsrLV0pXFxcXHM/KFxcXFxkKykpP1xcXFxdL2csKG4scixpPVxcXCJBVEtcXFwiLHM9XFxcIitcXFwiLG89MCk9PntpZihyPXIudG9Mb3dlckNhc2UoKSwhKHIgaW4gdGhpcy5tb2RpZmllcnMpKXJldHVybiBuO289cz09XFxcIitcXFwiP051bWJlcihvKTotTnVtYmVyKG8pO2xldCBsPShpPT1cXFwiQVRLXFxcIj8wOjgpK3RoaXMubW9kaWZpZXJzW3JdK3RoaXMucHJvZmljaWVuY3krbztyZXR1cm5gJHtsPj0wP1xcXCIrXFxcIjpcXFwiXFxcIn0ke2x9YH0pLnJlcGxhY2UoL1xcXFxbKFxcXFx3Kyk/XFxcXHM/KFxcXFxkKltkRF1cXFxcZCspXFxcXHM/KD86KFsrLV0pXFxcXHM/KFxcXFxkKykpP1xcXFxdL2csKG4scixpLHM9XFxcIitcXFwiLG89MCk9Pnt2YXIgaDtyPXIudG9Mb3dlckNhc2UoKTtsZXRbLGw9MSx1XT0oaD1pLm1hdGNoKC8oXFxcXGQqKVtkRF0oXFxcXGQrKS8pKSE9bnVsbD9oOltdO2lmKGx8fChsPTEpLCF1KXJldHVybiBuO289cz09XFxcIitcXFwiP051bWJlcihvKTotTnVtYmVyKG8pLHIgaW4gdGhpcy5tb2RpZmllcnMmJihvKz10aGlzLm1vZGlmaWVyc1tyXSk7bGV0IGE9TWF0aC5mbG9vcigodS8yKy41KSpsKStvLGY9W2Ake2x9ZCR7dX1gXTtyZXR1cm4gbyYmbyE9MCYmKGYucHVzaChvPj0wP1xcXCIrXFxcIjpcXFwiLVxcXCIpLGYucHVzaChvKSksYCR7YX0gKCR7Zi5qb2luKFxcXCIgXFxcIil9KWB9KX1nZXRUcmFpdHMoZSl7cmV0dXJuIWV8fCFlLmxlbmd0aD92b2lkIDA6ZS5maWx0ZXIocj0+ci5uYW1lIT1cXFwiU3BlbGxjYXN0aW5nXFxcIikubWFwKHI9Pih7bmFtZTpyLm5hbWUsZGVzYzp0aGlzLnRyYW5zZm9ybVN0cmluZyhyLmRlc2MpfSkpfWdldFNwZWxscyhlKXt2YXIgaTtpZighZS5hYmlsaXRpZXN8fCFlLmFiaWxpdGllcy5sZW5ndGgpcmV0dXJuO2xldHtkZXNjOm59PShpPWUuYWJpbGl0aWVzLmZpbmQocz0+cy5uYW1lPT1cXFwiU3BlbGxjYXN0aW5nXFxcIikpIT1udWxsP2k6e307cmV0dXJuIG4/dGhpcy50cmFuc2Zvcm1TdHJpbmcobikudHJpbSgpLnNwbGl0KGBcXG5gKS5maWx0ZXIocz0+cy5sZW5ndGgpOnZvaWQgMH1nZXRTYXZlcyhlKXtpZighKFxcXCJzdGhyb3dzXFxcImluIGUpfHwhQXJyYXkuaXNBcnJheShlLnN0aHJvd3MpfHwhZS5zdGhyb3dzLmxlbmd0aClyZXR1cm5bXTtsZXQgbj10aGlzLnByb2ZpY2llbmN5LHI9W107Zm9yKGxldCBpIG9mIGUuc3Rocm93cyl7bGV0IHM9aS5uYW1lLG89WShOdW1iZXIoZVtgJHtzfVBvaW50c2BdKSk7aXNOYU4obyl8fHIucHVzaCh7W3BhW3NdXTpvK259KX1yZXR1cm4gcn1nZXRTa2lsbHMoZSl7aWYoIShcXFwic2tpbGxzXFxcImluIGUpfHwhQXJyYXkuaXNBcnJheShlLnNraWxscyl8fCFlLnNraWxscy5sZW5ndGgpcmV0dXJuW107bGV0IG49W10scj10aGlzLnByb2ZpY2llbmN5O2ZvcihsZXQgaSBvZiBlLnNraWxscyl7bGV0IHM9aS5zdGF0LG89WShOdW1iZXIoZVtgJHtzfVBvaW50c2BdKSk7aWYoaXNOYU4obykpY29udGludWU7bGV0IGw9XFxcIm5vdGVcXFwiaW4gaTtuLnB1c2goe1tpLm5hbWVdOnIrbytvKk51bWJlcihsKX0pfXJldHVybiBufWdldFByb2YoZSl7dmFyIHIsaTtsZXQgbj0wO3JldHVybiBlLmNyPT1cXFwiKlxcXCImJihuPWUuY3VzdG9tUHJvZiksXFxcImNyXFxcImluIGUmJmUuY3IgaW4gaG4mJihuPU1hdGgubWF4KE1hdGguZmxvb3IoMisoKChpPShyPWhuW2UuY3JdKT09bnVsbD92b2lkIDA6ci52YWx1ZSkhPW51bGw/aTowKS0xKS80KSwyKSksaXNOYU4oTnVtYmVyKG4pKT8wOk51bWJlcihuKX1wYXJzZUNvbmRpdGlvbnMoZSl7aWYoXFxcImNvbmRpdGlvbnNcXFwiaW4gZSYmQXJyYXkuaXNBcnJheShlLmNvbmRpdGlvbnMpKXJldHVybiBlLmNvbmRpdGlvbnMubWFwKG49Pm4ubmFtZSkuam9pbihcXFwiLCBcXFwiKX19O2FzeW5jIGZ1bmN0aW9uIGRuKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZSxuKT0+e2xldCByPW5ldyBGaWxlUmVhZGVyLGk9W107ci5vbmxvYWQ9YXN5bmMgcz0+e3RyeXtsZXQgbz1KU09OLnBhcnNlKHMudGFyZ2V0LnJlc3VsdCksbDtcXFwibW9uc3RlclxcXCJpbiBvP2w9by5tb25zdGVyOkFycmF5LmlzQXJyYXkobyk/bD1vOnR5cGVvZiBvPT1cXFwib2JqZWN0XFxcIj9sPVtvXTpuKFxcXCJJbnZhbGlkIG1vbnN0ZXIgSlNPTiBwcm92aWRlZC5cXFwiKTtsZXQgdT1bXTtmb3IobGV0IGEgb2YgbCl0cnl7bGV0IGY9TmUucGFyc2UoYSk7dS5wdXNoKGYpfWNhdGNoKGYpe2NvbnNvbGUuZXJyb3IoZik7Y29udGludWV9ZSh1KX1jYXRjaChvKXtjb25zb2xlLmVycm9yKFxcXCJyZWplY3QhISFcXFwiLG8pLG4obyl9fSxyLnJlYWRBc1RleHQodCl9KX12YXIgdHQ9c2VsZjt0dC5vbm1lc3NhZ2U9YXN5bmMgdD0+e2lmKCF0LmRhdGEpcmV0dXJuO2xldHtmaWxlczplLHNvdXJjZTpufT10LmRhdGEscj1bXTtmb3IobGV0IGkgb2YgZSlzd2l0Y2gobil7Y2FzZVxcXCI1ZVxcXCI6e2xldCBzPWF3YWl0IHBuKGkpO3IucHVzaCguLi5zIT1udWxsP3M6W10pO2JyZWFrfWNhc2VcXFwiY3JpdHRlclxcXCI6e2xldCBzPWF3YWl0IG1uKGkpO3IucHVzaCguLi5zIT1udWxsP3M6W10pO2JyZWFrfWNhc2VcXFwiaW1wcm92ZWRcXFwiOntsZXQgcz1hd2FpdCBmbihpKTtyLnB1c2goLi4ucyE9bnVsbD9zOltdKTticmVha31jYXNlXFxcImFwcGZpbGVcXFwiOntsZXQgcz1hd2FpdCB1bihpKTtyLnB1c2goLi4ucyE9bnVsbD9zOltdKTticmVha31jYXNlXFxcInRldHJhXFxcIjp7bGV0IHM9YXdhaXQgZG4oaSk7ci5wdXNoKC4uLnMhPW51bGw/czpbXSk7YnJlYWt9fXR0LnBvc3RNZXNzYWdlKHttb25zdGVyczpyfSl9O3R0LmFkZEV2ZW50TGlzdGVuZXIoXFxcInVuaGFuZGxlZHJlamVjdGlvblxcXCIsZnVuY3Rpb24odCl7dGhyb3cgdC5yZWFzb259KTtcXG5cIik7XG59XG4iLCAiLy9AdHMtaWdub3JlXG5pbXBvcnQgSW1wb3J0V29ya2VyIGZyb20gXCIuL2ltcG9ydGVyLndvcmtlclwiO1xuaW1wb3J0IHR5cGUgeyBNb25zdGVyIH0gZnJvbSBcInNyYy9AdHlwZXNcIjtcbmltcG9ydCB7IEFwcCwgTW9kYWwsIE5vdGljZSwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgU3RhdEJsb2NrUGx1Z2luIGZyb20gXCJzcmMvbWFpblwiO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcInNyYy91dGlsc1wiO1xuXG5jbGFzcyBTb3VyY2VQcm9tcHRNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0c291cmNlOiBzdHJpbmc7XG5cdHNhdmVkOiBib29sZWFuID0gZmFsc2U7XG5cdGRpc3BsYXkoKSB7XG5cdFx0dGhpcy50aXRsZUVsLmNyZWF0ZVNwYW4oeyB0ZXh0OiBcIlNldCBTb3VyY2VzXCIgfSk7XG5cdFx0bmV3IFNldHRpbmcodGhpcy5jb250ZW50RWwpXG5cdFx0XHQuc2V0TmFtZShcblx0XHRcdFx0XCJBIHNvdXJjZSBjb3VsZCBub3QgYmUgZm91bmQgZm9yIHNvbWUgaW1wb3J0ZWQgbW9uc3RlcnMuIERvIHlvdSB3aXNoIHRvIG1hbnVhbGx5IGFkZCBvbmU/XCJcblx0XHRcdClcblx0XHRcdC5hZGRUZXh0KCh0KSA9PiB7XG5cdFx0XHRcdHQuc2V0UGxhY2Vob2xkZXIoXCJVbmtub3duXCIpLm9uQ2hhbmdlKCh2KSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5zb3VyY2UgPSB2O1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdHRoaXMuYnVpbGRCdXR0b25zKHRoaXMuY29udGVudEVsKTtcblx0fVxuXHRidWlsZEJ1dHRvbnMoZWw6IEhUTUxFbGVtZW50KSB7XG5cdFx0bmV3IFNldHRpbmcoZWwpXG5cdFx0XHQuYWRkQnV0dG9uKChiKSA9PlxuXHRcdFx0XHRiXG5cdFx0XHRcdFx0LnNldEN0YSgpXG5cdFx0XHRcdFx0LnNldEljb24oXCJjaGVja21hcmtcIilcblx0XHRcdFx0XHQuc2V0VG9vbHRpcChcIlNhdmVcIilcblx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnNhdmVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KVxuXHRcdFx0LmFkZEV4dHJhQnV0dG9uKChiKSA9PlxuXHRcdFx0XHRiXG5cdFx0XHRcdFx0LnNldEljb24oXCJjcm9zc1wiKVxuXHRcdFx0XHRcdC5zZXRUb29sdGlwKFwiQ2FuY2VsXCIpXG5cdFx0XHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXHR9XG5cdG9uT3BlbigpIHtcblx0XHR0aGlzLmRpc3BsYXkoKTtcblx0fVxufVxuXG5jb25zdCBnZXRTb3VyY2VGcm9tUHJvbXB0ID0gYXN5bmMgKGFwcDogQXBwKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiA9PiB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuXHRcdGNvbnN0IG1vZGFsID0gbmV3IFNvdXJjZVByb21wdE1vZGFsKGFwcCk7XG5cdFx0bW9kYWwub25DbG9zZSA9ICgpID0+IHtcblx0XHRcdGlmICghbW9kYWwuc2F2ZWQpIHJlc29sdmUobnVsbCk7XG5cdFx0XHRyZXNvbHZlKG1vZGFsLnNvdXJjZSk7XG5cdFx0fTtcblx0XHRtb2RhbC5vcGVuKCk7XG5cdH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1wb3J0ZXIge1xuXHRjb25zdHJ1Y3RvcihwdWJsaWMgcGx1Z2luOiBTdGF0QmxvY2tQbHVnaW4pIHt9XG5cdHdvcmtlcnM6IE1hcDxzdHJpbmcsIFdvcmtlcj4gPSBuZXcgTWFwKCk7XG5cdGFzeW5jIGltcG9ydChmaWxlczogRmlsZUxpc3QsIHNvdXJjZTogc3RyaW5nKTogUHJvbWlzZTxNb25zdGVyW10+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdGNvbnN0IHdvcmtlciA9IG5ldyBJbXBvcnRXb3JrZXIoKTtcblx0XHRcdGNvbnN0IGlkID0gbmFub2lkKCk7XG5cdFx0XHR0aGlzLndvcmtlcnMuc2V0KGlkLCB3b3JrZXIpO1xuXHRcdFx0Ly9AdHMtaWdub3JlXG5cdFx0XHR3b3JrZXIub25tZXNzYWdlID0gYXN5bmMgKGV2ZW50KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHsgbW9uc3RlcnMgfTogeyBtb25zdGVyczogTW9uc3RlcltdIH0gPSBldmVudC5kYXRhID8/IHtcblx0XHRcdFx0XHRtb25zdGVyczogW10sXG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChtb25zdGVycykge1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoXG5cdFx0XHRcdFx0XHRgU3VjY2Vzc2Z1bGx5IGltcG9ydGVkICR7bW9uc3RlcnMubGVuZ3RofSBNb25zdGVyc2Bcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGNvbnN0IHNvdXJjZWxlc3MgPSBtb25zdGVycy5maWx0ZXIoXG5cdFx0XHRcdFx0XHQobW9uc3RlcikgPT5cblx0XHRcdFx0XHRcdFx0bW9uc3Rlci5zb3VyY2UgPT0gXCJVbmtub3duXCIgfHwgIW1vbnN0ZXIuc291cmNlXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRsZXQgc291cmNlOiBzdHJpbmcgfCBudWxsO1xuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdHNvdXJjZWxlc3MubGVuZ3RoICYmXG5cdFx0XHRcdFx0XHQoc291cmNlID0gYXdhaXQgZ2V0U291cmNlRnJvbVByb21wdCh0aGlzLnBsdWdpbi5hcHApKVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0c291cmNlbGVzcy5mb3JFYWNoKFxuXHRcdFx0XHRcdFx0XHQobW9uc3RlcikgPT4gKG1vbnN0ZXIuc291cmNlID0gc291cmNlKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0d29ya2VyLnRlcm1pbmF0ZSgpO1xuXHRcdFx0XHR0aGlzLndvcmtlcnMuZGVsZXRlKGlkKTtcblx0XHRcdFx0cmVzb2x2ZShtb25zdGVycyk7XG5cdFx0XHR9OyAvL0B0cy1pZ25vcmVcblx0XHRcdHdvcmtlci5vbmVycm9yID0gKGUpID0+IHtcblx0XHRcdFx0bmV3IE5vdGljZShcblx0XHRcdFx0XHRgVGhlcmUgd2FzIGFuIGVycm9yIGltcG9ydGluZyB0aGUgZmlsZS5cXG5cXG4ke2UubWVzc2FnZX1gXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHdvcmtlci50ZXJtaW5hdGUoKTtcblx0XHRcdFx0dGhpcy53b3JrZXJzLmRlbGV0ZShpZCk7XG5cdFx0XHRcdHJlc29sdmUoW10pO1xuXHRcdFx0fTtcblx0XHRcdHdvcmtlci5wb3N0TWVzc2FnZSh7IGZpbGVzLCBzb3VyY2UgfSk7XG5cdFx0fSk7XG5cdH1cbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KFxuXHRwcm9wZXJ0eTogUmVjb3JkPHN0cmluZywgYW55PiB8IHN0cmluZyB8IGFueVtdIHwgbnVtYmVyIHwgYm9vbGVhbixcblx0ZGVwdGg6IG51bWJlciA9IDAsXG5cdGpvaW5lcjogc3RyaW5nID0gXCIgXCIsXG5cdHBhcmVucyA9IHRydWVcbik6IHN0cmluZyB7XG5cdGNvbnN0IHJldCA9IFtdO1xuXHRpZiAoZGVwdGggPT0gNSkge1xuXHRcdHJldHVybiBcIlwiO1xuXHR9XG5cdGlmIChwcm9wZXJ0eSA9PSBudWxsKSByZXR1cm4gYGA7XG5cdGlmICh0eXBlb2YgcHJvcGVydHkgPT0gXCJzdHJpbmdcIikgcmV0dXJuIHByb3BlcnR5O1xuXHRpZiAodHlwZW9mIHByb3BlcnR5ID09IFwibnVtYmVyXCIpIHJldHVybiBgJHtwcm9wZXJ0eX1gO1xuXHRpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0eSkpIHtcblx0XHRyZXQucHVzaChcblx0XHRcdGAke3BhcmVucyA/IFwiKFwiIDogXCJcIn0ke3Byb3BlcnR5XG5cdFx0XHRcdC5tYXAoKHApID0+IHN0cmluZ2lmeShwLCBkZXB0aCsrKSlcblx0XHRcdFx0LmpvaW4oam9pbmVyKX0ke3BhcmVucyA/IFwiKVwiIDogXCJcIn1gXG5cdFx0KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgcHJvcGVydHkgPT0gXCJvYmplY3RcIikge1xuXHRcdGZvciAoY29uc3QgdmFsdWUgb2YgT2JqZWN0LnZhbHVlcyhwcm9wZXJ0eSkpIHtcblx0XHRcdHJldC5wdXNoKHN0cmluZ2lmeSh2YWx1ZSwgZGVwdGgrKykpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmV0LmpvaW4oXCIgXCIpO1xufVxuZXhwb3J0IGNvbnN0IHN0cmluZ2lmeVdpdGhLZXlzID0gKFxuXHRwcm9wZXJ0eTogUmVjb3JkPHN0cmluZywgYW55PiB8IHN0cmluZyB8IGFueVtdIHwgbnVtYmVyIHwgYm9vbGVhbixcblx0ZGVwdGg6IG51bWJlciA9IDBcbik6IHN0cmluZyA9PiB7XG5cdGNvbnN0IHJldCA9IFtdO1xuXHRpZiAoZGVwdGggPT0gNSkge1xuXHRcdHJldHVybiBcIlwiO1xuXHR9XG5cdGlmICghcHJvcGVydHkgfHwgcHJvcGVydHkgPT0gbnVsbCkgcmV0dXJuIGBgO1xuXHRpZiAodHlwZW9mIHByb3BlcnR5ID09IFwic3RyaW5nXCIpIHJldHVybiBwcm9wZXJ0eTtcblx0aWYgKHR5cGVvZiBwcm9wZXJ0eSA9PSBcIm51bWJlclwiKSByZXR1cm4gYCR7cHJvcGVydHl9YDtcblx0aWYgKEFycmF5LmlzQXJyYXkocHJvcGVydHkpKSB7XG5cdFx0cmV0LnB1c2goXG5cdFx0XHRgJHtwcm9wZXJ0eS5tYXAoKHApID0+IHN0cmluZ2lmeVdpdGhLZXlzKHAsIGRlcHRoKyspKS5qb2luKFwiIFwiKX1gXG5cdFx0KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgcHJvcGVydHkgPT0gXCJvYmplY3RcIikge1xuXHRcdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHByb3BlcnR5KSkge1xuXHRcdFx0cmV0LnB1c2goXG5cdFx0XHRcdHN0cmluZ2lmeVdpdGhLZXlzKGtleSwgZGVwdGgrKyksXG5cdFx0XHRcdHN0cmluZ2lmeVdpdGhLZXlzKHZhbHVlLCBkZXB0aCsrKVxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJldC5qb2luKFwiIFwiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBuYW5vaWQoKSB7XG5cdHJldHVybiBcInh5eHl4eXh5eHl4eVwiLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcblx0XHR2YXIgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCxcblx0XHRcdHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcblx0XHRyZXR1cm4gdi50b1N0cmluZygxNik7XG5cdH0pO1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHVCQUF1Qjs7O0FDQXZCLHVCQVlPOzs7QUNYUSxzQkFBc0IsWUFBWTtBQUMvQyxNQUFJLE9BQU8sSUFBSSxLQUFLLENBQUMsVUFBVSxHQUFHLEVBQUMsTUFBTSxrQkFBaUIsQ0FBQztBQUMzRCxNQUFJLE1BQU0sSUFBSSxnQkFBZ0IsSUFBSTtBQUNsQyxNQUFJLFNBQVMsSUFBSSxPQUFPLEdBQUc7QUFDM0IsTUFBSSxnQkFBZ0IsR0FBRztBQUN2QixTQUFPO0FBQ1Q7OztBQ05lLG1CQUFrQjtBQUMvQixTQUFPLGFBQWEseS82REFBNjYrRDtBQUNuOCtEOzs7QUNBQSxzQkFBNEM7OztBQ0hyQyxtQkFDTixVQUNBLFFBQWdCLEdBQ2hCLFNBQWlCLEtBQ2pCLFNBQVMsTUFDQTtBQUNULFFBQU0sTUFBTSxDQUFDO0FBQ2IsTUFBSSxTQUFTLEdBQUc7QUFDZixXQUFPO0FBQUEsRUFDUjtBQUNBLE1BQUksWUFBWTtBQUFNLFdBQU87QUFDN0IsTUFBSSxPQUFPLFlBQVk7QUFBVSxXQUFPO0FBQ3hDLE1BQUksT0FBTyxZQUFZO0FBQVUsV0FBTyxHQUFHO0FBQzNDLE1BQUks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
