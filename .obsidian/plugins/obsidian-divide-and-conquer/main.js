/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// node_modules/tinycolor2/tinycolor.js
var require_tinycolor = __commonJS({
  "node_modules/tinycolor2/tinycolor.js"(exports, module2) {
    (function(Math2) {
      var trimLeft = /^\s+/, trimRight = /\s+$/, tinyCounter = 0, mathRound = Math2.round, mathMin = Math2.min, mathMax = Math2.max, mathRandom = Math2.random;
      function tinycolor2(color, opts) {
        color = color ? color : "";
        opts = opts || {};
        if (color instanceof tinycolor2) {
          return color;
        }
        if (!(this instanceof tinycolor2)) {
          return new tinycolor2(color, opts);
        }
        var rgb = inputToRGB(color);
        this._originalInput = color, this._r = rgb.r, this._g = rgb.g, this._b = rgb.b, this._a = rgb.a, this._roundA = mathRound(100 * this._a) / 100, this._format = opts.format || rgb.format;
        this._gradientType = opts.gradientType;
        if (this._r < 1) {
          this._r = mathRound(this._r);
        }
        if (this._g < 1) {
          this._g = mathRound(this._g);
        }
        if (this._b < 1) {
          this._b = mathRound(this._b);
        }
        this._ok = rgb.ok;
        this._tc_id = tinyCounter++;
      }
      tinycolor2.prototype = {
        isDark: function() {
          return this.getBrightness() < 128;
        },
        isLight: function() {
          return !this.isDark();
        },
        isValid: function() {
          return this._ok;
        },
        getOriginalInput: function() {
          return this._originalInput;
        },
        getFormat: function() {
          return this._format;
        },
        getAlpha: function() {
          return this._a;
        },
        getBrightness: function() {
          var rgb = this.toRgb();
          return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1e3;
        },
        getLuminance: function() {
          var rgb = this.toRgb();
          var RsRGB, GsRGB, BsRGB, R, G, B;
          RsRGB = rgb.r / 255;
          GsRGB = rgb.g / 255;
          BsRGB = rgb.b / 255;
          if (RsRGB <= 0.03928) {
            R = RsRGB / 12.92;
          } else {
            R = Math2.pow((RsRGB + 0.055) / 1.055, 2.4);
          }
          if (GsRGB <= 0.03928) {
            G = GsRGB / 12.92;
          } else {
            G = Math2.pow((GsRGB + 0.055) / 1.055, 2.4);
          }
          if (BsRGB <= 0.03928) {
            B = BsRGB / 12.92;
          } else {
            B = Math2.pow((BsRGB + 0.055) / 1.055, 2.4);
          }
          return 0.2126 * R + 0.7152 * G + 0.0722 * B;
        },
        setAlpha: function(value) {
          this._a = boundAlpha(value);
          this._roundA = mathRound(100 * this._a) / 100;
          return this;
        },
        toHsv: function() {
          var hsv = rgbToHsv(this._r, this._g, this._b);
          return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };
        },
        toHsvString: function() {
          var hsv = rgbToHsv(this._r, this._g, this._b);
          var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);
          return this._a == 1 ? "hsv(" + h + ", " + s + "%, " + v + "%)" : "hsva(" + h + ", " + s + "%, " + v + "%, " + this._roundA + ")";
        },
        toHsl: function() {
          var hsl = rgbToHsl(this._r, this._g, this._b);
          return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };
        },
        toHslString: function() {
          var hsl = rgbToHsl(this._r, this._g, this._b);
          var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);
          return this._a == 1 ? "hsl(" + h + ", " + s + "%, " + l + "%)" : "hsla(" + h + ", " + s + "%, " + l + "%, " + this._roundA + ")";
        },
        toHex: function(allow3Char) {
          return rgbToHex(this._r, this._g, this._b, allow3Char);
        },
        toHexString: function(allow3Char) {
          return "#" + this.toHex(allow3Char);
        },
        toHex8: function(allow4Char) {
          return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);
        },
        toHex8String: function(allow4Char) {
          return "#" + this.toHex8(allow4Char);
        },
        toRgb: function() {
          return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };
        },
        toRgbString: function() {
          return this._a == 1 ? "rgb(" + mathRound(this._r) + ", " + mathRound(this._g) + ", " + mathRound(this._b) + ")" : "rgba(" + mathRound(this._r) + ", " + mathRound(this._g) + ", " + mathRound(this._b) + ", " + this._roundA + ")";
        },
        toPercentageRgb: function() {
          return { r: mathRound(bound01(this._r, 255) * 100) + "%", g: mathRound(bound01(this._g, 255) * 100) + "%", b: mathRound(bound01(this._b, 255) * 100) + "%", a: this._a };
        },
        toPercentageRgbString: function() {
          return this._a == 1 ? "rgb(" + mathRound(bound01(this._r, 255) * 100) + "%, " + mathRound(bound01(this._g, 255) * 100) + "%, " + mathRound(bound01(this._b, 255) * 100) + "%)" : "rgba(" + mathRound(bound01(this._r, 255) * 100) + "%, " + mathRound(bound01(this._g, 255) * 100) + "%, " + mathRound(bound01(this._b, 255) * 100) + "%, " + this._roundA + ")";
        },
        toName: function() {
          if (this._a === 0) {
            return "transparent";
          }
          if (this._a < 1) {
            return false;
          }
          return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;
        },
        toFilter: function(secondColor) {
          var hex8String = "#" + rgbaToArgbHex(this._r, this._g, this._b, this._a);
          var secondHex8String = hex8String;
          var gradientType = this._gradientType ? "GradientType = 1, " : "";
          if (secondColor) {
            var s = tinycolor2(secondColor);
            secondHex8String = "#" + rgbaToArgbHex(s._r, s._g, s._b, s._a);
          }
          return "progid:DXImageTransform.Microsoft.gradient(" + gradientType + "startColorstr=" + hex8String + ",endColorstr=" + secondHex8String + ")";
        },
        toString: function(format) {
          var formatSet = !!format;
          format = format || this._format;
          var formattedString = false;
          var hasAlpha = this._a < 1 && this._a >= 0;
          var needsAlphaFormat = !formatSet && hasAlpha && (format === "hex" || format === "hex6" || format === "hex3" || format === "hex4" || format === "hex8" || format === "name");
          if (needsAlphaFormat) {
            if (format === "name" && this._a === 0) {
              return this.toName();
            }
            return this.toRgbString();
          }
          if (format === "rgb") {
            formattedString = this.toRgbString();
          }
          if (format === "prgb") {
            formattedString = this.toPercentageRgbString();
          }
          if (format === "hex" || format === "hex6") {
            formattedString = this.toHexString();
          }
          if (format === "hex3") {
            formattedString = this.toHexString(true);
          }
          if (format === "hex4") {
            formattedString = this.toHex8String(true);
          }
          if (format === "hex8") {
            formattedString = this.toHex8String();
          }
          if (format === "name") {
            formattedString = this.toName();
          }
          if (format === "hsl") {
            formattedString = this.toHslString();
          }
          if (format === "hsv") {
            formattedString = this.toHsvString();
          }
          return formattedString || this.toHexString();
        },
        clone: function() {
          return tinycolor2(this.toString());
        },
        _applyModification: function(fn, args) {
          var color = fn.apply(null, [this].concat([].slice.call(args)));
          this._r = color._r;
          this._g = color._g;
          this._b = color._b;
          this.setAlpha(color._a);
          return this;
        },
        lighten: function() {
          return this._applyModification(lighten, arguments);
        },
        brighten: function() {
          return this._applyModification(brighten, arguments);
        },
        darken: function() {
          return this._applyModification(darken, arguments);
        },
        desaturate: function() {
          return this._applyModification(desaturate, arguments);
        },
        saturate: function() {
          return this._applyModification(saturate, arguments);
        },
        greyscale: function() {
          return this._applyModification(greyscale, arguments);
        },
        spin: function() {
          return this._applyModification(spin, arguments);
        },
        _applyCombination: function(fn, args) {
          return fn.apply(null, [this].concat([].slice.call(args)));
        },
        analogous: function() {
          return this._applyCombination(analogous, arguments);
        },
        complement: function() {
          return this._applyCombination(complement, arguments);
        },
        monochromatic: function() {
          return this._applyCombination(monochromatic, arguments);
        },
        splitcomplement: function() {
          return this._applyCombination(splitcomplement, arguments);
        },
        triad: function() {
          return this._applyCombination(triad, arguments);
        },
        tetrad: function() {
          return this._applyCombination(tetrad, arguments);
        }
      };
      tinycolor2.fromRatio = function(color, opts) {
        if (typeof color == "object") {
          var newColor = {};
          for (var i in color) {
            if (color.hasOwnProperty(i)) {
              if (i === "a") {
                newColor[i] = color[i];
              } else {
                newColor[i] = convertToPercentage(color[i]);
              }
            }
          }
          color = newColor;
        }
        return tinycolor2(color, opts);
      };
      function inputToRGB(color) {
        var rgb = { r: 0, g: 0, b: 0 };
        var a = 1;
        var s = null;
        var v = null;
        var l = null;
        var ok = false;
        var format = false;
        if (typeof color == "string") {
          color = stringInputToObject(color);
        }
        if (typeof color == "object") {
          if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {
            rgb = rgbToRgb(color.r, color.g, color.b);
            ok = true;
            format = String(color.r).substr(-1) === "%" ? "prgb" : "rgb";
          } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {
            s = convertToPercentage(color.s);
            v = convertToPercentage(color.v);
            rgb = hsvToRgb(color.h, s, v);
            ok = true;
            format = "hsv";
          } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {
            s = convertToPercentage(color.s);
            l = convertToPercentage(color.l);
            rgb = hslToRgb(color.h, s, l);
            ok = true;
            format = "hsl";
          }
          if (color.hasOwnProperty("a")) {
            a = color.a;
          }
        }
        a = boundAlpha(a);
        return {
          ok,
          format: color.format || format,
          r: mathMin(255, mathMax(rgb.r, 0)),
          g: mathMin(255, mathMax(rgb.g, 0)),
          b: mathMin(255, mathMax(rgb.b, 0)),
          a
        };
      }
      function rgbToRgb(r, g, b) {
        return {
          r: bound01(r, 255) * 255,
          g: bound01(g, 255) * 255,
          b: bound01(b, 255) * 255
        };
      }
      function rgbToHsl(r, g, b) {
        r = bound01(r, 255);
        g = bound01(g, 255);
        b = bound01(b, 255);
        var max = mathMax(r, g, b), min = mathMin(r, g, b);
        var h, s, l = (max + min) / 2;
        if (max == min) {
          h = s = 0;
        } else {
          var d = max - min;
          s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
          switch (max) {
            case r:
              h = (g - b) / d + (g < b ? 6 : 0);
              break;
            case g:
              h = (b - r) / d + 2;
              break;
            case b:
              h = (r - g) / d + 4;
              break;
          }
          h /= 6;
        }
        return { h, s, l };
      }
      function hslToRgb(h, s, l) {
        var r, g, b;
        h = bound01(h, 360);
        s = bound01(s, 100);
        l = bound01(l, 100);
        function hue2rgb(p2, q2, t) {
          if (t < 0)
            t += 1;
          if (t > 1)
            t -= 1;
          if (t < 1 / 6)
            return p2 + (q2 - p2) * 6 * t;
          if (t < 1 / 2)
            return q2;
          if (t < 2 / 3)
            return p2 + (q2 - p2) * (2 / 3 - t) * 6;
          return p2;
        }
        if (s === 0) {
          r = g = b = l;
        } else {
          var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
          var p = 2 * l - q;
          r = hue2rgb(p, q, h + 1 / 3);
          g = hue2rgb(p, q, h);
          b = hue2rgb(p, q, h - 1 / 3);
        }
        return { r: r * 255, g: g * 255, b: b * 255 };
      }
      function rgbToHsv(r, g, b) {
        r = bound01(r, 255);
        g = bound01(g, 255);
        b = bound01(b, 255);
        var max = mathMax(r, g, b), min = mathMin(r, g, b);
        var h, s, v = max;
        var d = max - min;
        s = max === 0 ? 0 : d / max;
        if (max == min) {
          h = 0;
        } else {
          switch (max) {
            case r:
              h = (g - b) / d + (g < b ? 6 : 0);
              break;
            case g:
              h = (b - r) / d + 2;
              break;
            case b:
              h = (r - g) / d + 4;
              break;
          }
          h /= 6;
        }
        return { h, s, v };
      }
      function hsvToRgb(h, s, v) {
        h = bound01(h, 360) * 6;
        s = bound01(s, 100);
        v = bound01(v, 100);
        var i = Math2.floor(h), f = h - i, p = v * (1 - s), q = v * (1 - f * s), t = v * (1 - (1 - f) * s), mod = i % 6, r = [v, q, p, p, t, v][mod], g = [t, v, v, q, p, p][mod], b = [p, p, t, v, v, q][mod];
        return { r: r * 255, g: g * 255, b: b * 255 };
      }
      function rgbToHex(r, g, b, allow3Char) {
        var hex = [
          pad2(mathRound(r).toString(16)),
          pad2(mathRound(g).toString(16)),
          pad2(mathRound(b).toString(16))
        ];
        if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {
          return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);
        }
        return hex.join("");
      }
      function rgbaToHex(r, g, b, a, allow4Char) {
        var hex = [
          pad2(mathRound(r).toString(16)),
          pad2(mathRound(g).toString(16)),
          pad2(mathRound(b).toString(16)),
          pad2(convertDecimalToHex(a))
        ];
        if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {
          return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);
        }
        return hex.join("");
      }
      function rgbaToArgbHex(r, g, b, a) {
        var hex = [
          pad2(convertDecimalToHex(a)),
          pad2(mathRound(r).toString(16)),
          pad2(mathRound(g).toString(16)),
          pad2(mathRound(b).toString(16))
        ];
        return hex.join("");
      }
      tinycolor2.equals = function(color1, color2) {
        if (!color1 || !color2) {
          return false;
        }
        return tinycolor2(color1).toRgbString() == tinycolor2(color2).toRgbString();
      };
      tinycolor2.random = function() {
        return tinycolor2.fromRatio({
          r: mathRandom(),
          g: mathRandom(),
          b: mathRandom()
        });
      };
      function desaturate(color, amount) {
        amount = amount === 0 ? 0 : amount || 10;
        var hsl = tinycolor2(color).toHsl();
        hsl.s -= amount / 100;
        hsl.s = clamp01(hsl.s);
        return tinycolor2(hsl);
      }
      function saturate(color, amount) {
        amount = amount === 0 ? 0 : amount || 10;
        var hsl = tinycolor2(color).toHsl();
        hsl.s += amount / 100;
        hsl.s = clamp01(hsl.s);
        return tinycolor2(hsl);
      }
      function greyscale(color) {
        return tinycolor2(color).desaturate(100);
      }
      function lighten(color, amount) {
        amount = amount === 0 ? 0 : amount || 10;
        var hsl = tinycolor2(color).toHsl();
        hsl.l += amount / 100;
        hsl.l = clamp01(hsl.l);
        return tinycolor2(hsl);
      }
      function brighten(color, amount) {
        amount = amount === 0 ? 0 : amount || 10;
        var rgb = tinycolor2(color).toRgb();
        rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * -(amount / 100))));
        rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * -(amount / 100))));
        rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * -(amount / 100))));
        return tinycolor2(rgb);
      }
      function darken(color, amount) {
        amount = amount === 0 ? 0 : amount || 10;
        var hsl = tinycolor2(color).toHsl();
        hsl.l -= amount / 100;
        hsl.l = clamp01(hsl.l);
        return tinycolor2(hsl);
      }
      function spin(color, amount) {
        var hsl = tinycolor2(color).toHsl();
        var hue = (hsl.h + amount) % 360;
        hsl.h = hue < 0 ? 360 + hue : hue;
        return tinycolor2(hsl);
      }
      function complement(color) {
        var hsl = tinycolor2(color).toHsl();
        hsl.h = (hsl.h + 180) % 360;
        return tinycolor2(hsl);
      }
      function triad(color) {
        var hsl = tinycolor2(color).toHsl();
        var h = hsl.h;
        return [
          tinycolor2(color),
          tinycolor2({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),
          tinycolor2({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })
        ];
      }
      function tetrad(color) {
        var hsl = tinycolor2(color).toHsl();
        var h = hsl.h;
        return [
          tinycolor2(color),
          tinycolor2({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),
          tinycolor2({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),
          tinycolor2({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })
        ];
      }
      function splitcomplement(color) {
        var hsl = tinycolor2(color).toHsl();
        var h = hsl.h;
        return [
          tinycolor2(color),
          tinycolor2({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),
          tinycolor2({ h: (h + 216) % 360, s: hsl.s, l: hsl.l })
        ];
      }
      function analogous(color, results, slices) {
        results = results || 6;
        slices = slices || 30;
        var hsl = tinycolor2(color).toHsl();
        var part = 360 / slices;
        var ret = [tinycolor2(color)];
        for (hsl.h = (hsl.h - (part * results >> 1) + 720) % 360; --results; ) {
          hsl.h = (hsl.h + part) % 360;
          ret.push(tinycolor2(hsl));
        }
        return ret;
      }
      function monochromatic(color, results) {
        results = results || 6;
        var hsv = tinycolor2(color).toHsv();
        var h = hsv.h, s = hsv.s, v = hsv.v;
        var ret = [];
        var modification = 1 / results;
        while (results--) {
          ret.push(tinycolor2({ h, s, v }));
          v = (v + modification) % 1;
        }
        return ret;
      }
      tinycolor2.mix = function(color1, color2, amount) {
        amount = amount === 0 ? 0 : amount || 50;
        var rgb1 = tinycolor2(color1).toRgb();
        var rgb2 = tinycolor2(color2).toRgb();
        var p = amount / 100;
        var rgba = {
          r: (rgb2.r - rgb1.r) * p + rgb1.r,
          g: (rgb2.g - rgb1.g) * p + rgb1.g,
          b: (rgb2.b - rgb1.b) * p + rgb1.b,
          a: (rgb2.a - rgb1.a) * p + rgb1.a
        };
        return tinycolor2(rgba);
      };
      tinycolor2.readability = function(color1, color2) {
        var c1 = tinycolor2(color1);
        var c2 = tinycolor2(color2);
        return (Math2.max(c1.getLuminance(), c2.getLuminance()) + 0.05) / (Math2.min(c1.getLuminance(), c2.getLuminance()) + 0.05);
      };
      tinycolor2.isReadable = function(color1, color2, wcag2) {
        var readability = tinycolor2.readability(color1, color2);
        var wcag2Parms, out;
        out = false;
        wcag2Parms = validateWCAG2Parms(wcag2);
        switch (wcag2Parms.level + wcag2Parms.size) {
          case "AAsmall":
          case "AAAlarge":
            out = readability >= 4.5;
            break;
          case "AAlarge":
            out = readability >= 3;
            break;
          case "AAAsmall":
            out = readability >= 7;
            break;
        }
        return out;
      };
      tinycolor2.mostReadable = function(baseColor, colorList, args) {
        var bestColor = null;
        var bestScore = 0;
        var readability;
        var includeFallbackColors, level, size;
        args = args || {};
        includeFallbackColors = args.includeFallbackColors;
        level = args.level;
        size = args.size;
        for (var i = 0; i < colorList.length; i++) {
          readability = tinycolor2.readability(baseColor, colorList[i]);
          if (readability > bestScore) {
            bestScore = readability;
            bestColor = tinycolor2(colorList[i]);
          }
        }
        if (tinycolor2.isReadable(baseColor, bestColor, { "level": level, "size": size }) || !includeFallbackColors) {
          return bestColor;
        } else {
          args.includeFallbackColors = false;
          return tinycolor2.mostReadable(baseColor, ["#fff", "#000"], args);
        }
      };
      var names = tinycolor2.names = {
        aliceblue: "f0f8ff",
        antiquewhite: "faebd7",
        aqua: "0ff",
        aquamarine: "7fffd4",
        azure: "f0ffff",
        beige: "f5f5dc",
        bisque: "ffe4c4",
        black: "000",
        blanchedalmond: "ffebcd",
        blue: "00f",
        blueviolet: "8a2be2",
        brown: "a52a2a",
        burlywood: "deb887",
        burntsienna: "ea7e5d",
        cadetblue: "5f9ea0",
        chartreuse: "7fff00",
        chocolate: "d2691e",
        coral: "ff7f50",
        cornflowerblue: "6495ed",
        cornsilk: "fff8dc",
        crimson: "dc143c",
        cyan: "0ff",
        darkblue: "00008b",
        darkcyan: "008b8b",
        darkgoldenrod: "b8860b",
        darkgray: "a9a9a9",
        darkgreen: "006400",
        darkgrey: "a9a9a9",
        darkkhaki: "bdb76b",
        darkmagenta: "8b008b",
        darkolivegreen: "556b2f",
        darkorange: "ff8c00",
        darkorchid: "9932cc",
        darkred: "8b0000",
        darksalmon: "e9967a",
        darkseagreen: "8fbc8f",
        darkslateblue: "483d8b",
        darkslategray: "2f4f4f",
        darkslategrey: "2f4f4f",
        darkturquoise: "00ced1",
        darkviolet: "9400d3",
        deeppink: "ff1493",
        deepskyblue: "00bfff",
        dimgray: "696969",
        dimgrey: "696969",
        dodgerblue: "1e90ff",
        firebrick: "b22222",
        floralwhite: "fffaf0",
        forestgreen: "228b22",
        fuchsia: "f0f",
        gainsboro: "dcdcdc",
        ghostwhite: "f8f8ff",
        gold: "ffd700",
        goldenrod: "daa520",
        gray: "808080",
        green: "008000",
        greenyellow: "adff2f",
        grey: "808080",
        honeydew: "f0fff0",
        hotpink: "ff69b4",
        indianred: "cd5c5c",
        indigo: "4b0082",
        ivory: "fffff0",
        khaki: "f0e68c",
        lavender: "e6e6fa",
        lavenderblush: "fff0f5",
        lawngreen: "7cfc00",
        lemonchiffon: "fffacd",
        lightblue: "add8e6",
        lightcoral: "f08080",
        lightcyan: "e0ffff",
        lightgoldenrodyellow: "fafad2",
        lightgray: "d3d3d3",
        lightgreen: "90ee90",
        lightgrey: "d3d3d3",
        lightpink: "ffb6c1",
        lightsalmon: "ffa07a",
        lightseagreen: "20b2aa",
        lightskyblue: "87cefa",
        lightslategray: "789",
        lightslategrey: "789",
        lightsteelblue: "b0c4de",
        lightyellow: "ffffe0",
        lime: "0f0",
        limegreen: "32cd32",
        linen: "faf0e6",
        magenta: "f0f",
        maroon: "800000",
        mediumaquamarine: "66cdaa",
        mediumblue: "0000cd",
        mediumorchid: "ba55d3",
        mediumpurple: "9370db",
        mediumseagreen: "3cb371",
        mediumslateblue: "7b68ee",
        mediumspringgreen: "00fa9a",
        mediumturquoise: "48d1cc",
        mediumvioletred: "c71585",
        midnightblue: "191970",
        mintcream: "f5fffa",
        mistyrose: "ffe4e1",
        moccasin: "ffe4b5",
        navajowhite: "ffdead",
        navy: "000080",
        oldlace: "fdf5e6",
        olive: "808000",
        olivedrab: "6b8e23",
        orange: "ffa500",
        orangered: "ff4500",
        orchid: "da70d6",
        palegoldenrod: "eee8aa",
        palegreen: "98fb98",
        paleturquoise: "afeeee",
        palevioletred: "db7093",
        papayawhip: "ffefd5",
        peachpuff: "ffdab9",
        peru: "cd853f",
        pink: "ffc0cb",
        plum: "dda0dd",
        powderblue: "b0e0e6",
        purple: "800080",
        rebeccapurple: "663399",
        red: "f00",
        rosybrown: "bc8f8f",
        royalblue: "4169e1",
        saddlebrown: "8b4513",
        salmon: "fa8072",
        sandybrown: "f4a460",
        seagreen: "2e8b57",
        seashell: "fff5ee",
        sienna: "a0522d",
        silver: "c0c0c0",
        skyblue: "87ceeb",
        slateblue: "6a5acd",
        slategray: "708090",
        slategrey: "708090",
        snow: "fffafa",
        springgreen: "00ff7f",
        steelblue: "4682b4",
        tan: "d2b48c",
        teal: "008080",
        thistle: "d8bfd8",
        tomato: "ff6347",
        turquoise: "40e0d0",
        violet: "ee82ee",
        wheat: "f5deb3",
        white: "fff",
        whitesmoke: "f5f5f5",
        yellow: "ff0",
        yellowgreen: "9acd32"
      };
      var hexNames = tinycolor2.hexNames = flip(names);
      function flip(o) {
        var flipped = {};
        for (var i in o) {
          if (o.hasOwnProperty(i)) {
            flipped[o[i]] = i;
          }
        }
        return flipped;
      }
      function boundAlpha(a) {
        a = parseFloat(a);
        if (isNaN(a) || a < 0 || a > 1) {
          a = 1;
        }
        return a;
      }
      function bound01(n, max) {
        if (isOnePointZero(n)) {
          n = "100%";
        }
        var processPercent = isPercentage(n);
        n = mathMin(max, mathMax(0, parseFloat(n)));
        if (processPercent) {
          n = parseInt(n * max, 10) / 100;
        }
        if (Math2.abs(n - max) < 1e-6) {
          return 1;
        }
        return n % max / parseFloat(max);
      }
      function clamp01(val) {
        return mathMin(1, mathMax(0, val));
      }
      function parseIntFromHex(val) {
        return parseInt(val, 16);
      }
      function isOnePointZero(n) {
        return typeof n == "string" && n.indexOf(".") != -1 && parseFloat(n) === 1;
      }
      function isPercentage(n) {
        return typeof n === "string" && n.indexOf("%") != -1;
      }
      function pad2(c) {
        return c.length == 1 ? "0" + c : "" + c;
      }
      function convertToPercentage(n) {
        if (n <= 1) {
          n = n * 100 + "%";
        }
        return n;
      }
      function convertDecimalToHex(d) {
        return Math2.round(parseFloat(d) * 255).toString(16);
      }
      function convertHexToDecimal(h) {
        return parseIntFromHex(h) / 255;
      }
      var matchers = function() {
        var CSS_INTEGER = "[-\\+]?\\d+%?";
        var CSS_NUMBER = "[-\\+]?\\d*\\.\\d+%?";
        var CSS_UNIT = "(?:" + CSS_NUMBER + ")|(?:" + CSS_INTEGER + ")";
        var PERMISSIVE_MATCH3 = "[\\s|\\(]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")\\s*\\)?";
        var PERMISSIVE_MATCH4 = "[\\s|\\(]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")\\s*\\)?";
        return {
          CSS_UNIT: new RegExp(CSS_UNIT),
          rgb: new RegExp("rgb" + PERMISSIVE_MATCH3),
          rgba: new RegExp("rgba" + PERMISSIVE_MATCH4),
          hsl: new RegExp("hsl" + PERMISSIVE_MATCH3),
          hsla: new RegExp("hsla" + PERMISSIVE_MATCH4),
          hsv: new RegExp("hsv" + PERMISSIVE_MATCH3),
          hsva: new RegExp("hsva" + PERMISSIVE_MATCH4),
          hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
          hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
          hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
          hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
        };
      }();
      function isValidCSSUnit(color) {
        return !!matchers.CSS_UNIT.exec(color);
      }
      function stringInputToObject(color) {
        color = color.replace(trimLeft, "").replace(trimRight, "").toLowerCase();
        var named = false;
        if (names[color]) {
          color = names[color];
          named = true;
        } else if (color == "transparent") {
          return { r: 0, g: 0, b: 0, a: 0, format: "name" };
        }
        var match;
        if (match = matchers.rgb.exec(color)) {
          return { r: match[1], g: match[2], b: match[3] };
        }
        if (match = matchers.rgba.exec(color)) {
          return { r: match[1], g: match[2], b: match[3], a: match[4] };
        }
        if (match = matchers.hsl.exec(color)) {
          return { h: match[1], s: match[2], l: match[3] };
        }
        if (match = matchers.hsla.exec(color)) {
          return { h: match[1], s: match[2], l: match[3], a: match[4] };
        }
        if (match = matchers.hsv.exec(color)) {
          return { h: match[1], s: match[2], v: match[3] };
        }
        if (match = matchers.hsva.exec(color)) {
          return { h: match[1], s: match[2], v: match[3], a: match[4] };
        }
        if (match = matchers.hex8.exec(color)) {
          return {
            r: parseIntFromHex(match[1]),
            g: parseIntFromHex(match[2]),
            b: parseIntFromHex(match[3]),
            a: convertHexToDecimal(match[4]),
            format: named ? "name" : "hex8"
          };
        }
        if (match = matchers.hex6.exec(color)) {
          return {
            r: parseIntFromHex(match[1]),
            g: parseIntFromHex(match[2]),
            b: parseIntFromHex(match[3]),
            format: named ? "name" : "hex"
          };
        }
        if (match = matchers.hex4.exec(color)) {
          return {
            r: parseIntFromHex(match[1] + "" + match[1]),
            g: parseIntFromHex(match[2] + "" + match[2]),
            b: parseIntFromHex(match[3] + "" + match[3]),
            a: convertHexToDecimal(match[4] + "" + match[4]),
            format: named ? "name" : "hex8"
          };
        }
        if (match = matchers.hex3.exec(color)) {
          return {
            r: parseIntFromHex(match[1] + "" + match[1]),
            g: parseIntFromHex(match[2] + "" + match[2]),
            b: parseIntFromHex(match[3] + "" + match[3]),
            format: named ? "name" : "hex"
          };
        }
        return false;
      }
      function validateWCAG2Parms(parms) {
        var level, size;
        parms = parms || { "level": "AA", "size": "small" };
        level = (parms.level || "AA").toUpperCase();
        size = (parms.size || "small").toLowerCase();
        if (level !== "AA" && level !== "AAA") {
          level = "AA";
        }
        if (size !== "small" && size !== "large") {
          size = "small";
        }
        return { "level": level, "size": size };
      }
      if (typeof module2 !== "undefined" && module2.exports) {
        module2.exports = tinycolor2;
      } else if (typeof define === "function" && define.amd) {
        define(function() {
          return tinycolor2;
        });
      } else {
        window.tinycolor = tinycolor2;
      }
    })(Math);
  }
});

// main.ts
__export(exports, {
  default: () => divideAndConquer
});
var import_obsidian2 = __toModule(require("obsidian"));

// settings.ts
var import_obsidian = __toModule(require("obsidian"));
var DEFAULT_SETTINGS = {
  pluginFilterRegexes: [
    "hot-reload",
    "obsidian-divide-and-conquer"
  ],
  snippetFilterRegexes: [],
  filterUsingDisplayName: true,
  filterUsingAuthor: false,
  filterUsingDescription: false,
  initializeAfterPluginChanges: false,
  reloadAfterPluginChanges: false,
  disabledStates: void 0,
  snapshots: void 0
};
var DACSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.toggles = [];
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Divide and Conquer" });
    containerEl.createEl("h5", {
      text: "Note: Reinitializing or Reloading may cause disabled plugins to dissappear; close and open the menu to see them again"
    }).style.color = getComputedStyle(containerEl).getPropertyValue("--interactive-accent");
    new import_obsidian.Setting(containerEl).setName("Reinitialize Obsidian after plugin changes").setDesc(`This is not usually necessary. If you have "Debug startup time" enabled in the Community Plugins tab you'll see startup times when using commmands`).addToggle((toggle) => toggle.setValue(this.plugin.settings.initializeAfterPluginChanges).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.initializeAfterPluginChanges = value;
      yield this.plugin.saveData(false);
    })));
    new import_obsidian.Setting(containerEl).setName("Reload Obsidian after plugin changes").addToggle((toggle) => toggle.setValue(this.plugin.settings.reloadAfterPluginChanges).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.reloadAfterPluginChanges = value;
      yield this.plugin.saveData(false);
    })));
    containerEl.createEl("hr").createEl("br");
    containerEl.createEl("h3", { text: "Changing any of the following settings will restore plugins to the original state." });
    new import_obsidian.Setting(containerEl).setName("Use Filters on Plugin Display Names").setDesc("If this is off, DAC will only match plugins by their ID").addToggle((toggle) => {
      this.toggles.push(toggle);
      return toggle.setValue(this.plugin.settings.filterUsingDisplayName).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.filterUsingDisplayName = value;
        yield this.plugin.saveData();
      }));
    });
    new import_obsidian.Setting(containerEl).setName("Use Filters on Plugin Authors").addToggle((toggle) => {
      this.toggles.push(toggle);
      return toggle.setValue(this.plugin.settings.filterUsingAuthor).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.filterUsingAuthor = value;
        yield this.plugin.saveData();
      }));
    });
    new import_obsidian.Setting(containerEl).setName("Use Filters on Plugin Descriptions").addToggle((toggle) => {
      this.toggles.push(toggle);
      return toggle.setValue(this.plugin.settings.filterUsingDescription).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.filterUsingDescription = value;
        yield this.plugin.saveData();
      }));
    });
    let pluginExclusions = new import_obsidian.Setting(containerEl).setName("Plugin Exclusions").setDesc("Exclude plugins using regex (case insensitive).\nEach new line is a new regex. Plugin ids are used for matching by default. Included plugins are on the left, excluded on the right. ");
    this.addTextArea({
      mode: "plugins",
      container: pluginExclusions,
      placeholder: "^daily/\n\\.png$\netc...",
      value: this.plugin.settings.pluginFilterRegexes.join("\n"),
      disabledArea: this.addTextArea({ mode: "plugins", container: pluginExclusions })
    });
    let snippetExclusions = new import_obsidian.Setting(containerEl).setName("Snippet Exclusions").setDesc("Exclude snippets using regex (case insensitive).\nEach new line is a new regex. Snippet are only exclude by their name.");
    this.addTextArea({
      mode: "snippets",
      container: snippetExclusions,
      placeholder: "^daily/\n\\.png$\netc...",
      value: this.plugin.settings.snippetFilterRegexes.join("\n"),
      disabledArea: this.addTextArea({ mode: "snippets", container: snippetExclusions })
    });
    [pluginExclusions, snippetExclusions].forEach((s) => {
      s.controlEl.style.width = "100%";
      s.infoEl.style.width = "45%";
    });
  }
  addTextArea({ mode, container, placeholder, value, disabledArea }) {
    let ret;
    let reset = (area, mode2) => {
      this.plugin.saveData();
      area.setPlaceholder([...this.plugin.getIncludedItems(mode2)].map((p) => p.name).join("\n")).setDisabled(true);
    };
    container.addTextArea((textArea) => {
      ret = textArea;
      textArea.inputEl.setAttr("rows", 10);
      textArea.inputEl.style.width = "100%";
      if (value)
        textArea.setPlaceholder(placeholder).setValue(value);
      textArea.setPlaceholder(placeholder != null ? placeholder : [...this.plugin.getIncludedItems(mode)].map((p) => p.name).join("\n")).setDisabled(!disabledArea);
      if (disabledArea) {
        this.toggles.forEach((t) => t.toggleEl.onClickEvent(reset.bind(this, disabledArea, mode)));
        textArea.inputEl.onblur = (e) => {
          this.setFilters(mode, e.target.value);
          reset(disabledArea, mode);
        };
      }
    });
    return ret;
  }
  setFilters(mode, input) {
    let f = input == null ? void 0 : input.split("\n").filter((p) => p.length);
    switch (mode) {
      case "plugins":
        this.plugin.settings.pluginFilterRegexes = f;
        break;
      case "snippets":
        this.plugin.settings.snippetFilterRegexes = f;
        break;
    }
    this.plugin.saveData();
  }
};

// util.ts
function simpleCalc(str) {
  const calcRegex = /calc\((\d+)%\s*([+-])\s*(\d+)%\)/;
  const match = str.match(calcRegex);
  if (!match)
    return str;
  const [_, a, op, b] = match;
  const result = op === "+" ? +a + +b : +a - +b;
  return str.replace(calcRegex, `${result}%`);
}
function removeSetupDebugNotice() {
  let notices = document.querySelectorAll(".notice");
  for (let i = 0; i < notices.length; i++) {
    let notice = notices[i];
    if (notice == null ? void 0 : notice.innerText.includes("plugin setup"))
      notice.remove();
  }
}
function queryText(el, selector, text) {
  return Array.from(el.querySelectorAll(selector)).find((heading) => heading.innerText.includes(text));
}
var compose = (_this, ...funcs) => (...args) => funcs.reduce((promise, func) => promise.then(func.bind(_this)), Promise.resolve());
function makeArray(collection) {
  const array = [];
  for (let i = 0; i < collection.length; i++) {
    array.push(collection[i]);
  }
  return array;
}
function getSnippetItems(tab) {
  const headings = tab.containerEl.querySelectorAll(".setting-item-heading");
  const lastHeading = headings[headings.length - 1];
  let res = Array.from(tab.containerEl.children).filter((child) => !(child.compareDocumentPosition(lastHeading) & Node.DOCUMENT_POSITION_FOLLOWING));
  console.log(res, headings);
  return res;
}
var Modes = [
  "plugins",
  "snippets"
];

// node_modules/monkey-around/mjs/index.js
function around(obj, factories) {
  const removers = Object.keys(factories).map((key) => around1(obj, key, factories[key]));
  return removers.length === 1 ? removers[0] : function() {
    removers.forEach((r) => r());
  };
}
function around1(obj, method, createWrapper) {
  const original = obj[method], hadOwn = obj.hasOwnProperty(method);
  let current = createWrapper(original);
  if (original)
    Object.setPrototypeOf(current, original);
  Object.setPrototypeOf(wrapper, current);
  obj[method] = wrapper;
  return remove;
  function wrapper(...args) {
    if (current === original && obj[method] === wrapper)
      remove();
    return current.apply(this, args);
  }
  function remove() {
    if (obj[method] === wrapper) {
      if (hadOwn)
        obj[method] = original;
      else
        delete obj[method];
    }
    if (current === original)
      return;
    current = original;
    Object.setPrototypeOf(wrapper, original || Function);
  }
}

// main.ts
var tinycolor = require_tinycolor();
var CSS_DELAY = 200;
var RESET_DELAY = 1e3;
var pluginCommands = [
  { id: "reset", name: "Plugin Reset - forget the original state and set the current state as the new original state" },
  { id: "restore", name: "Plugin Restore - return to the original state" },
  { id: "unBisect", name: "Plugin Un-Bisect - Undo the last bisection, or enable all plugins if in the original state" },
  { id: "bisect", name: "Plugin Bisect - Disable half of the active plugins, or return to the original state if all plugins are active" },
  { id: "reBisect", name: "Plugin Re-Bisect - Undo the last bisection, then disable the other half" }
];
var snippetCommands = [
  { id: "reset", name: "Snippet Reset - forget the original state and set the current state as the new original state" },
  { id: "restore", name: "Snippet Restore - return to the original state" },
  { id: "unBisect", name: "Snippet Un-Bisect - Undo the last bisection, or enable all snippets if in the original state" },
  { id: "bisect", name: "Snippet Bisect - Disable half of the active snippets, or return to the original state if all snippets are active" },
  { id: "reBisect", name: "Snippet Re-Bisect - Undo the last bisection, then disable the other half" }
];
var UIButtons = [
  { id: "reset", tooltip: "Reset - Snapshot the current state" },
  { id: "restore", tooltip: "Restore - Restore Snapshot" },
  { id: "unBisect", tooltip: "UnBisect - Go up a level" },
  { id: "bisect", tooltip: "Bisect - Go down a level" },
  { id: "reBisect", tooltip: "Re-bisect - Go back a level, then down the other side" }
];
var icons = [
  ["reset", "camera"],
  ["restore", "switch-camera"],
  ["unBisect", "expand"],
  ["bisect", "minimize"],
  ["reBisect", "flip-vertical"]
];
var divideAndConquer = class extends import_obsidian2.Plugin {
  constructor() {
    super(...arguments);
    this.manifests = this.app.plugins.manifests;
    this.enabledColor = null;
    this.disabledColor = null;
    this._mode = "plugins";
    this.mode2Call = new Map();
    this.mode2Refresh = new Map();
    this.mode2Tab = new Map();
    this.mode2Controls = new Map();
    this.mode2DisabledStates = new Map();
    this.mode2Snapshot = new Map();
    this.mode2Level = new Map(Modes.map((mode) => [mode, 1]));
    this.key2Icon = new Map(icons);
    this.disableButtons = false;
  }
  get mode() {
    return this._mode;
  }
  setMode(mode) {
    this._mode = mode;
  }
  get disabledState() {
    var _a;
    return (_a = this.mode2DisabledStates.get(this.mode)) != null ? _a : [];
  }
  set disabledState(s) {
    this.mode2DisabledStates.set(this.mode, s != null ? s : []);
  }
  get snapshot() {
    var _a;
    return (_a = this.mode2Snapshot.get(this.mode)) != null ? _a : new Set();
  }
  set snapshot(s) {
    this.mode2Snapshot.set(this.mode, s != null ? s : new Set());
  }
  get controls() {
    var _a;
    return (_a = this.mode2Controls.get(this.mode)) != null ? _a : [];
  }
  set controls(c) {
    this.mode2Controls.set(this.mode, c != null ? c : []);
  }
  get tab() {
    return this.mode2Tab.get(this.mode);
  }
  get wrapper() {
    return this.mode2Call.get(this.mode);
  }
  get refreshTab() {
    return this.mode2Refresh.get(this.mode);
  }
  set refreshTab(f) {
    this.mode2Refresh.set(this.mode, f);
  }
  set level(l) {
    this.mode2Level.set(this.mode, l);
  }
  get level() {
    if (!this.mode2Level.has(this.mode))
      this.mode2Level.set(this.mode, 1);
    return this.mode2Level.get(this.mode);
  }
  onunload() {
    return __async(this, null, function* () {
      this.saveData();
      console.log("Divide & Conquer Plugin unloaded.");
    });
  }
  onload() {
    return __async(this, null, function* () {
      yield this.loadData();
      this.addSettingTab(new DACSettingsTab(this.app, this));
      console.log("Divide & Conquer Plugin loaded.");
      const notice = () => {
        removeSetupDebugNotice();
        let notic_str = `${this.mode} level:${this.level} `;
        if (this.level === 1)
          new import_obsidian2.Notice(notic_str + "- Now in the original state");
        else if (this.level === 0)
          new import_obsidian2.Notice(notic_str + "- Enabled All");
        else
          new import_obsidian2.Notice(notic_str);
      };
      const maybeReload = () => {
        if (this.settings.reloadAfterPluginChanges)
          setTimeout(() => this.app.commands.executeCommandById("app:reload"), 2e3);
      };
      const maybeInit = () => {
        if (this.settings.initializeAfterPluginChanges)
          return this.app.plugins.initialize();
      };
      this.mode2Call = new Map(Modes.map((mode) => [mode, (f) => () => __async(this, null, function* () {
        return compose(this, () => this.setMode(mode), () => console.log("called: ", f.name), f, () => this.mode2Refresh.get(this.mode)(), maybeReload, maybeInit, notice).bind(this)();
      })]));
      this.mode2Tab = new Map([
        ["plugins", "community-plugins"],
        ["snippets", "appearance"]
      ].map(([mode, id]) => [mode, this.getSettingsTab(id)]));
      Object.assign(this.mode2Tab.get("plugins"), { heading: "Installed plugins", reloadLabel: "Reload plugins", reload: () => this.app.plugins.loadManifests() });
      Object.assign(this.mode2Tab.get("snippets"), { heading: "CSS snippets", reloadLabel: "Reload snippets", reload: () => this.app.customCss.loadSnippets() });
      [...this.mode2Tab.entries()].forEach(([mode, tab]) => this.register(around(tab, { display: this.overrideDisplay.bind(this, mode, tab) })));
      this.getItemEls = () => {
        switch (this.mode) {
          case "plugins":
            return makeArray(this.tab.containerEl.find(".installed-plugins-container").children);
          case "snippets":
            return getSnippetItems(this.tab);
          default:
            throw new Error("Unknown mode: " + this.mode);
        }
      };
      this.getAllItems = () => {
        switch (this.mode) {
          case "plugins":
            return new Set(Object.values(this.manifests));
          case "snippets":
            return new Set(this.app.customCss.snippets.map((s) => ({ name: s, id: s })));
        }
      };
      this.getEnabledFromObsidian = () => {
        switch (this.mode) {
          case "plugins":
            return this.app.plugins.enabledPlugins;
          case "snippets":
            return new Set(this.app.customCss.snippets.filter((snippet) => this.app.customCss.enabledSnippets.has(snippet)));
        }
      };
      this.enableItem = (id) => {
        switch (this.mode) {
          case "plugins":
            return this.app.plugins.enablePluginAndSave(id);
          case "snippets":
            return new Promise((resolve) => {
              this.app.customCss.setCssEnabledStatus(id, true);
              setTimeout(() => resolve({}), CSS_DELAY);
            });
        }
      };
      this.disableItem = (id) => {
        switch (this.mode) {
          case "plugins":
            return this.app.plugins.disablePluginAndSave(id);
          case "snippets":
            return new Promise((resolve) => {
              this.app.customCss.setCssEnabledStatus(id, false);
              setTimeout(() => resolve({}), CSS_DELAY);
            });
        }
      };
      this.getFilters = () => {
        switch (this.mode) {
          case "plugins":
            return this.settings.pluginFilterRegexes;
          case "snippets":
            return this.settings.snippetFilterRegexes;
        }
      };
      this.addCommands();
      this.app.workspace.onLayoutReady(() => {
        var _a, _b;
        let appContainer = document.getElementsByClassName("app-container").item(0);
        (_a = this.enabledColor) != null ? _a : this.enabledColor = tinycolor(simpleCalc(appContainer.getCssPropertyValue("--checkbox-color"))).spin(180).toHexString();
        (_b = this.disabledColor) != null ? _b : this.disabledColor = tinycolor(this.enabledColor).darken(35).toHexString();
      });
    });
  }
  loadData() {
    var __superGet = (key) => super[key];
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield __superGet("loadData").call(this));
      this.mode2DisabledStates = this.settings.disabledStates ? new Map(Object.entries(JSON.parse(this.settings.disabledStates)).map(([mode, states]) => [mode, states.map((state) => new Set(state))])) : new Map();
      this.mode2Snapshot = this.settings.snapshots ? new Map(Object.entries(JSON.parse(this.settings.snapshots)).map(([mode, states]) => [mode, new Set(states)])) : new Map();
    });
  }
  saveData(restore = true) {
    var __superGet = (key) => super[key];
    return __async(this, null, function* () {
      if (this.mode2DisabledStates)
        this.settings.disabledStates = JSON.stringify(Object.fromEntries([...this.mode2DisabledStates.entries()].map(([mode, sets]) => [mode, [...sets].map((set) => [...set])])));
      else
        this.settings.disabledStates = void 0;
      if (this.mode2Snapshot)
        this.settings.snapshots = JSON.stringify(Object.fromEntries([...this.mode2Snapshot.entries()].map(([mode, set]) => [mode, [...set]])));
      else
        this.settings.snapshots = void 0;
      if (restore)
        yield this.restore();
      yield __superGet("saveData").call(this, this.settings);
    });
  }
  addControls() {
    var _a;
    let container = this.getControlContainer();
    (_a = this.mode2Controls) != null ? _a : this.mode2Controls = new Map();
    if (!this.mode2Controls.has(this.mode))
      this.mode2Controls.set(this.mode, [...UIButtons.map((o) => new import_obsidian2.ExtraButtonComponent(container).setTooltip(o.tooltip).setIcon(this.key2Icon.get(o.id)).onClick(this.wrapCall(this.mode, o.id)).setDisabled(false).extraSettingsEl), this.createLevelText()]);
    this.controls.last().setText(`Level: ${this.mode2Level.get(this.mode)}`);
    this.controls.forEach((control) => container.appendChild(control));
  }
  addCommands() {
    pluginCommands.forEach((command) => this.addCommand(Object.assign(command, { callback: this.mode2Call.get("plugins")(this[command.id]) })));
    snippetCommands.forEach((command) => this.addCommand(Object.assign(command, { callback: this.mode2Call.get("snippets")(this[command.id]) })));
  }
  bisect() {
    return __async(this, null, function* () {
      this.level = this.level + 1;
      if (this.level === 1) {
        this.restore();
        return;
      }
      const { enabled } = this.getCurrentState();
      const half = yield this.disableItems(enabled.slice(0, Math.floor(enabled.length / 2)));
      if (half.length > 0)
        this.disabledState.push(new Set(half));
      else
        this.level--;
      return half;
    });
  }
  unBisect() {
    return __async(this, null, function* () {
      this.level = this.level > 0 ? this.level - 1 : 0;
      const { disabled } = this.getCurrentState();
      yield this.enableItems(disabled);
      if (this.disabledState.length > 1)
        return this.disabledState.pop();
      return new Set();
    });
  }
  reBisect() {
    return __async(this, null, function* () {
      if (this.level < 2) {
        new import_obsidian2.Notice("Cannot re-bisect the original state.");
        return;
      }
      const reenabled = yield this.unBisect();
      const { enabled } = this.getCurrentState();
      const toDisable = enabled.filter((id) => !reenabled.has(id));
      yield this.disableItems(toDisable);
      if (toDisable.length > 0) {
        this.disabledState.push(new Set(toDisable));
        this.level = this.level + 1;
      }
    });
  }
  reset() {
    this.disabledState = this.snapshot = void 0;
    this.level = 1;
    let { enabled, disabled } = this.getEnabledDisabled();
    this.disabledState = [new Set(disabled)];
    this.snapshot = new Set(disabled);
    this.saveData(false);
  }
  restore() {
    return __async(this, null, function* () {
      if (this.disabledState.length < 1)
        return;
      this.disabledState.slice(1).reverse().map((set) => this.enableItems(set));
      yield this.disableItems(this.snapshot);
      yield this.app.plugins.requestSaveConfig();
      setTimeout(() => this.reset(), RESET_DELAY);
    });
  }
  getCurrentState() {
    const { enabled, disabled } = this.getEnabledDisabled();
    this.disabledState = this.disabledState.length < 1 ? [new Set(disabled)] : this.disabledState;
    const currentDisabled = this.disabledState.last();
    return { enabled, disabled: currentDisabled };
  }
  getEnabledDisabled() {
    let excluded = [...this.getExcludedItems()];
    let included = [...this.getAllItems()].filter((item) => !excluded.some((i) => i.id === item.id)).sort((a, b) => b.name.localeCompare(a.name)).map((item) => item.id);
    let result = {
      enabled: included.filter((id) => this.getEnabledFromObsidian().has(id)),
      disabled: included.filter((id) => !this.getEnabledFromObsidian().has(id))
    };
    return result;
  }
  getIncludedItems(mode) {
    return this.getExcludedItems(mode, true);
  }
  getExcludedItems(mode, outIncluded = false) {
    let oldmode = this.mode;
    if (mode)
      this.setMode(mode);
    const plugins = [...this.getAllItems()].filter((p) => outIncluded !== this.getFilters().some((filter) => {
      var _a, _b;
      return p.id.match(new RegExp(filter, "i")) || this.settings.filterUsingDisplayName && p.name.match(new RegExp(filter, "i")) || this.settings.filterUsingAuthor && ((_a = p.author) == null ? void 0 : _a.match(new RegExp(filter, "i"))) || this.settings.filterUsingDescription && ((_b = p.description) == null ? void 0 : _b.match(new RegExp(filter, "i")));
    }));
    if (mode)
      this.setMode(oldmode);
    return new Set(plugins);
  }
  enableItems(items) {
    return __async(this, null, function* () {
      if (items instanceof Set)
        items = [...items];
      console.log("Enabling:", items);
      items.reverse().map((id) => this.enableItem(id));
      return items;
    });
  }
  disableItems(items) {
    return __async(this, null, function* () {
      if (items instanceof Set)
        items = [...items];
      console.log("Disabling:", items);
      for (const id of items) {
        yield this.disableItem(id);
      }
      return items;
    });
  }
  getControlContainer(tab) {
    tab != null ? tab : tab = this.tab;
    return queryText(tab.containerEl, ".setting-item-heading", tab.heading).querySelector(".setting-item-control");
  }
  getReloadButton(tab) {
    tab != null ? tab : tab = this.mode2Tab.get(this.mode);
    let controls = this.getControlContainer(tab);
    return controls.find(`[aria-label="${tab.reloadLabel}"]`);
  }
  getSettingsTab(id) {
    return this.app.setting.settingTabs.filter((t) => t.id === id).shift();
  }
  createLevelText() {
    let span = document.createElement("span");
    span.setText(`Level: ${this.level}`);
    return span;
  }
  overrideDisplay(mode, tab, old) {
    let plugin = this;
    return function display(...args) {
      plugin.setMode(mode);
      plugin.refreshTab = () => {
        console.log("refreshing tab", mode);
        plugin.setMode(mode);
        tab.reload().then(() => {
          old.apply(tab, args);
          plugin.addControls();
          plugin.colorizeIgnoredToggles();
        });
      };
      plugin.refreshTab();
    }.bind(plugin, tab);
  }
  colorizeIgnoredToggles() {
    var _a;
    let name2Toggle = this.createToggleMap(this.getItemEls());
    let included = new Set([...this.getIncludedItems()].map((m) => m.name));
    console.log("included", included, this.getIncludedItems(), name2Toggle);
    for (let [name, toggle] of name2Toggle) {
      if (!(included == null ? void 0 : included.has(name))) {
        let colorToggle = () => {
          if (toggle.classList.contains("is-enabled"))
            toggle.style.backgroundColor = this.enabledColor;
          else
            toggle.style.backgroundColor = this.disabledColor;
        };
        colorToggle();
        toggle.addEventListener("click", colorToggle);
      }
      let id = (_a = [...this.getAllItems()].find((p) => p.name == name)) == null ? void 0 : _a.id;
      if (id && this.snapshot && this.snapshot.has(id)) {
        toggle.style.outlineOffset = "1px";
        toggle.style.outline = "outset";
      }
    }
  }
  createToggleMap(items) {
    let name2Toggle = new Map();
    for (var i = 0; i < items.length; i++) {
      let child = items[i];
      let name = child.querySelector(".setting-item-name").innerText;
      let toggle = child.querySelector(".setting-item-control").querySelector(".checkbox-container");
      if (name && toggle)
        name2Toggle.set(name, toggle);
    }
    return name2Toggle;
  }
  wrapCall(mode, key) {
    return this.wrapper(this[key]);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3Rpbnljb2xvcjIvdGlueWNvbG9yLmpzIiwgIm1haW4udHMiLCAic2V0dGluZ3MudHMiLCAidXRpbC50cyIsICJub2RlX21vZHVsZXMvbW9ua2V5LWFyb3VuZC9tanMvaW5kZXguanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vIFRpbnlDb2xvciB2MS40LjJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZ3JpbnMvVGlueUNvbG9yXG4vLyBCcmlhbiBHcmluc3RlYWQsIE1JVCBMaWNlbnNlXG5cbihmdW5jdGlvbihNYXRoKSB7XG5cbnZhciB0cmltTGVmdCA9IC9eXFxzKy8sXG4gICAgdHJpbVJpZ2h0ID0gL1xccyskLyxcbiAgICB0aW55Q291bnRlciA9IDAsXG4gICAgbWF0aFJvdW5kID0gTWF0aC5yb3VuZCxcbiAgICBtYXRoTWluID0gTWF0aC5taW4sXG4gICAgbWF0aE1heCA9IE1hdGgubWF4LFxuICAgIG1hdGhSYW5kb20gPSBNYXRoLnJhbmRvbTtcblxuZnVuY3Rpb24gdGlueWNvbG9yIChjb2xvciwgb3B0cykge1xuXG4gICAgY29sb3IgPSAoY29sb3IpID8gY29sb3IgOiAnJztcbiAgICBvcHRzID0gb3B0cyB8fCB7IH07XG5cbiAgICAvLyBJZiBpbnB1dCBpcyBhbHJlYWR5IGEgdGlueWNvbG9yLCByZXR1cm4gaXRzZWxmXG4gICAgaWYgKGNvbG9yIGluc3RhbmNlb2YgdGlueWNvbG9yKSB7XG4gICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBhcmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGNhbGwgdXNpbmcgbmV3IGluc3RlYWRcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgdGlueWNvbG9yKSkge1xuICAgICAgICByZXR1cm4gbmV3IHRpbnljb2xvcihjb2xvciwgb3B0cyk7XG4gICAgfVxuXG4gICAgdmFyIHJnYiA9IGlucHV0VG9SR0IoY29sb3IpO1xuICAgIHRoaXMuX29yaWdpbmFsSW5wdXQgPSBjb2xvcixcbiAgICB0aGlzLl9yID0gcmdiLnIsXG4gICAgdGhpcy5fZyA9IHJnYi5nLFxuICAgIHRoaXMuX2IgPSByZ2IuYixcbiAgICB0aGlzLl9hID0gcmdiLmEsXG4gICAgdGhpcy5fcm91bmRBID0gbWF0aFJvdW5kKDEwMCp0aGlzLl9hKSAvIDEwMCxcbiAgICB0aGlzLl9mb3JtYXQgPSBvcHRzLmZvcm1hdCB8fCByZ2IuZm9ybWF0O1xuICAgIHRoaXMuX2dyYWRpZW50VHlwZSA9IG9wdHMuZ3JhZGllbnRUeXBlO1xuXG4gICAgLy8gRG9uJ3QgbGV0IHRoZSByYW5nZSBvZiBbMCwyNTVdIGNvbWUgYmFjayBpbiBbMCwxXS5cbiAgICAvLyBQb3RlbnRpYWxseSBsb3NlIGEgbGl0dGxlIGJpdCBvZiBwcmVjaXNpb24gaGVyZSwgYnV0IHdpbGwgZml4IGlzc3VlcyB3aGVyZVxuICAgIC8vIC41IGdldHMgaW50ZXJwcmV0ZWQgYXMgaGFsZiBvZiB0aGUgdG90YWwsIGluc3RlYWQgb2YgaGFsZiBvZiAxXG4gICAgLy8gSWYgaXQgd2FzIHN1cHBvc2VkIHRvIGJlIDEyOCwgdGhpcyB3YXMgYWxyZWFkeSB0YWtlbiBjYXJlIG9mIGJ5IGBpbnB1dFRvUmdiYFxuICAgIGlmICh0aGlzLl9yIDwgMSkgeyB0aGlzLl9yID0gbWF0aFJvdW5kKHRoaXMuX3IpOyB9XG4gICAgaWYgKHRoaXMuX2cgPCAxKSB7IHRoaXMuX2cgPSBtYXRoUm91bmQodGhpcy5fZyk7IH1cbiAgICBpZiAodGhpcy5fYiA8IDEpIHsgdGhpcy5fYiA9IG1hdGhSb3VuZCh0aGlzLl9iKTsgfVxuXG4gICAgdGhpcy5fb2sgPSByZ2Iub2s7XG4gICAgdGhpcy5fdGNfaWQgPSB0aW55Q291bnRlcisrO1xufVxuXG50aW55Y29sb3IucHJvdG90eXBlID0ge1xuICAgIGlzRGFyazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJyaWdodG5lc3MoKSA8IDEyODtcbiAgICB9LFxuICAgIGlzTGlnaHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuaXNEYXJrKCk7XG4gICAgfSxcbiAgICBpc1ZhbGlkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29rO1xuICAgIH0sXG4gICAgZ2V0T3JpZ2luYWxJbnB1dDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb3JpZ2luYWxJbnB1dDtcbiAgICB9LFxuICAgIGdldEZvcm1hdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtYXQ7XG4gICAgfSxcbiAgICBnZXRBbHBoYTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hO1xuICAgIH0sXG4gICAgZ2V0QnJpZ2h0bmVzczogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vaHR0cDovL3d3dy53My5vcmcvVFIvQUVSVCNjb2xvci1jb250cmFzdFxuICAgICAgICB2YXIgcmdiID0gdGhpcy50b1JnYigpO1xuICAgICAgICByZXR1cm4gKHJnYi5yICogMjk5ICsgcmdiLmcgKiA1ODcgKyByZ2IuYiAqIDExNCkgLyAxMDAwO1xuICAgIH0sXG4gICAgZ2V0THVtaW5hbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy9odHRwOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI3JlbGF0aXZlbHVtaW5hbmNlZGVmXG4gICAgICAgIHZhciByZ2IgPSB0aGlzLnRvUmdiKCk7XG4gICAgICAgIHZhciBSc1JHQiwgR3NSR0IsIEJzUkdCLCBSLCBHLCBCO1xuICAgICAgICBSc1JHQiA9IHJnYi5yLzI1NTtcbiAgICAgICAgR3NSR0IgPSByZ2IuZy8yNTU7XG4gICAgICAgIEJzUkdCID0gcmdiLmIvMjU1O1xuXG4gICAgICAgIGlmIChSc1JHQiA8PSAwLjAzOTI4KSB7UiA9IFJzUkdCIC8gMTIuOTI7fSBlbHNlIHtSID0gTWF0aC5wb3coKChSc1JHQiArIDAuMDU1KSAvIDEuMDU1KSwgMi40KTt9XG4gICAgICAgIGlmIChHc1JHQiA8PSAwLjAzOTI4KSB7RyA9IEdzUkdCIC8gMTIuOTI7fSBlbHNlIHtHID0gTWF0aC5wb3coKChHc1JHQiArIDAuMDU1KSAvIDEuMDU1KSwgMi40KTt9XG4gICAgICAgIGlmIChCc1JHQiA8PSAwLjAzOTI4KSB7QiA9IEJzUkdCIC8gMTIuOTI7fSBlbHNlIHtCID0gTWF0aC5wb3coKChCc1JHQiArIDAuMDU1KSAvIDEuMDU1KSwgMi40KTt9XG4gICAgICAgIHJldHVybiAoMC4yMTI2ICogUikgKyAoMC43MTUyICogRykgKyAoMC4wNzIyICogQik7XG4gICAgfSxcbiAgICBzZXRBbHBoYTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYSA9IGJvdW5kQWxwaGEodmFsdWUpO1xuICAgICAgICB0aGlzLl9yb3VuZEEgPSBtYXRoUm91bmQoMTAwKnRoaXMuX2EpIC8gMTAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHRvSHN2OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhzdiA9IHJnYlRvSHN2KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IpO1xuICAgICAgICByZXR1cm4geyBoOiBoc3YuaCAqIDM2MCwgczogaHN2LnMsIHY6IGhzdi52LCBhOiB0aGlzLl9hIH07XG4gICAgfSxcbiAgICB0b0hzdlN0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoc3YgPSByZ2JUb0hzdih0aGlzLl9yLCB0aGlzLl9nLCB0aGlzLl9iKTtcbiAgICAgICAgdmFyIGggPSBtYXRoUm91bmQoaHN2LmggKiAzNjApLCBzID0gbWF0aFJvdW5kKGhzdi5zICogMTAwKSwgdiA9IG1hdGhSb3VuZChoc3YudiAqIDEwMCk7XG4gICAgICAgIHJldHVybiAodGhpcy5fYSA9PSAxKSA/XG4gICAgICAgICAgXCJoc3YoXCIgICsgaCArIFwiLCBcIiArIHMgKyBcIiUsIFwiICsgdiArIFwiJSlcIiA6XG4gICAgICAgICAgXCJoc3ZhKFwiICsgaCArIFwiLCBcIiArIHMgKyBcIiUsIFwiICsgdiArIFwiJSwgXCIrIHRoaXMuX3JvdW5kQSArIFwiKVwiO1xuICAgIH0sXG4gICAgdG9Ic2w6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaHNsID0gcmdiVG9Ic2wodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYik7XG4gICAgICAgIHJldHVybiB7IGg6IGhzbC5oICogMzYwLCBzOiBoc2wucywgbDogaHNsLmwsIGE6IHRoaXMuX2EgfTtcbiAgICB9LFxuICAgIHRvSHNsU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhzbCA9IHJnYlRvSHNsKHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IpO1xuICAgICAgICB2YXIgaCA9IG1hdGhSb3VuZChoc2wuaCAqIDM2MCksIHMgPSBtYXRoUm91bmQoaHNsLnMgKiAxMDApLCBsID0gbWF0aFJvdW5kKGhzbC5sICogMTAwKTtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9hID09IDEpID9cbiAgICAgICAgICBcImhzbChcIiAgKyBoICsgXCIsIFwiICsgcyArIFwiJSwgXCIgKyBsICsgXCIlKVwiIDpcbiAgICAgICAgICBcImhzbGEoXCIgKyBoICsgXCIsIFwiICsgcyArIFwiJSwgXCIgKyBsICsgXCIlLCBcIisgdGhpcy5fcm91bmRBICsgXCIpXCI7XG4gICAgfSxcbiAgICB0b0hleDogZnVuY3Rpb24oYWxsb3czQ2hhcikge1xuICAgICAgICByZXR1cm4gcmdiVG9IZXgodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYiwgYWxsb3czQ2hhcik7XG4gICAgfSxcbiAgICB0b0hleFN0cmluZzogZnVuY3Rpb24oYWxsb3czQ2hhcikge1xuICAgICAgICByZXR1cm4gJyMnICsgdGhpcy50b0hleChhbGxvdzNDaGFyKTtcbiAgICB9LFxuICAgIHRvSGV4ODogZnVuY3Rpb24oYWxsb3c0Q2hhcikge1xuICAgICAgICByZXR1cm4gcmdiYVRvSGV4KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IsIHRoaXMuX2EsIGFsbG93NENoYXIpO1xuICAgIH0sXG4gICAgdG9IZXg4U3RyaW5nOiBmdW5jdGlvbihhbGxvdzRDaGFyKSB7XG4gICAgICAgIHJldHVybiAnIycgKyB0aGlzLnRvSGV4OChhbGxvdzRDaGFyKTtcbiAgICB9LFxuICAgIHRvUmdiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0aFJvdW5kKHRoaXMuX3IpLCBnOiBtYXRoUm91bmQodGhpcy5fZyksIGI6IG1hdGhSb3VuZCh0aGlzLl9iKSwgYTogdGhpcy5fYSB9O1xuICAgIH0sXG4gICAgdG9SZ2JTdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2EgPT0gMSkgP1xuICAgICAgICAgIFwicmdiKFwiICArIG1hdGhSb3VuZCh0aGlzLl9yKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9nKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9iKSArIFwiKVwiIDpcbiAgICAgICAgICBcInJnYmEoXCIgKyBtYXRoUm91bmQodGhpcy5fcikgKyBcIiwgXCIgKyBtYXRoUm91bmQodGhpcy5fZykgKyBcIiwgXCIgKyBtYXRoUm91bmQodGhpcy5fYikgKyBcIiwgXCIgKyB0aGlzLl9yb3VuZEEgKyBcIilcIjtcbiAgICB9LFxuICAgIHRvUGVyY2VudGFnZVJnYjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7IHI6IG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX3IsIDI1NSkgKiAxMDApICsgXCIlXCIsIGc6IG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2csIDI1NSkgKiAxMDApICsgXCIlXCIsIGI6IG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2IsIDI1NSkgKiAxMDApICsgXCIlXCIsIGE6IHRoaXMuX2EgfTtcbiAgICB9LFxuICAgIHRvUGVyY2VudGFnZVJnYlN0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fYSA9PSAxKSA/XG4gICAgICAgICAgXCJyZ2IoXCIgICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fciwgMjU1KSAqIDEwMCkgKyBcIiUsIFwiICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fZywgMjU1KSAqIDEwMCkgKyBcIiUsIFwiICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fYiwgMjU1KSAqIDEwMCkgKyBcIiUpXCIgOlxuICAgICAgICAgIFwicmdiYShcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX3IsIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2csIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2IsIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIHRoaXMuX3JvdW5kQSArIFwiKVwiO1xuICAgIH0sXG4gICAgdG9OYW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2EgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYSA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoZXhOYW1lc1tyZ2JUb0hleCh0aGlzLl9yLCB0aGlzLl9nLCB0aGlzLl9iLCB0cnVlKV0gfHwgZmFsc2U7XG4gICAgfSxcbiAgICB0b0ZpbHRlcjogZnVuY3Rpb24oc2Vjb25kQ29sb3IpIHtcbiAgICAgICAgdmFyIGhleDhTdHJpbmcgPSAnIycgKyByZ2JhVG9BcmdiSGV4KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IsIHRoaXMuX2EpO1xuICAgICAgICB2YXIgc2Vjb25kSGV4OFN0cmluZyA9IGhleDhTdHJpbmc7XG4gICAgICAgIHZhciBncmFkaWVudFR5cGUgPSB0aGlzLl9ncmFkaWVudFR5cGUgPyBcIkdyYWRpZW50VHlwZSA9IDEsIFwiIDogXCJcIjtcblxuICAgICAgICBpZiAoc2Vjb25kQ29sb3IpIHtcbiAgICAgICAgICAgIHZhciBzID0gdGlueWNvbG9yKHNlY29uZENvbG9yKTtcbiAgICAgICAgICAgIHNlY29uZEhleDhTdHJpbmcgPSAnIycgKyByZ2JhVG9BcmdiSGV4KHMuX3IsIHMuX2csIHMuX2IsIHMuX2EpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KFwiK2dyYWRpZW50VHlwZStcInN0YXJ0Q29sb3JzdHI9XCIraGV4OFN0cmluZytcIixlbmRDb2xvcnN0cj1cIitzZWNvbmRIZXg4U3RyaW5nK1wiKVwiO1xuICAgIH0sXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKGZvcm1hdCkge1xuICAgICAgICB2YXIgZm9ybWF0U2V0ID0gISFmb3JtYXQ7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCB0aGlzLl9mb3JtYXQ7XG5cbiAgICAgICAgdmFyIGZvcm1hdHRlZFN0cmluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgaGFzQWxwaGEgPSB0aGlzLl9hIDwgMSAmJiB0aGlzLl9hID49IDA7XG4gICAgICAgIHZhciBuZWVkc0FscGhhRm9ybWF0ID0gIWZvcm1hdFNldCAmJiBoYXNBbHBoYSAmJiAoZm9ybWF0ID09PSBcImhleFwiIHx8IGZvcm1hdCA9PT0gXCJoZXg2XCIgfHwgZm9ybWF0ID09PSBcImhleDNcIiB8fCBmb3JtYXQgPT09IFwiaGV4NFwiIHx8IGZvcm1hdCA9PT0gXCJoZXg4XCIgfHwgZm9ybWF0ID09PSBcIm5hbWVcIik7XG5cbiAgICAgICAgaWYgKG5lZWRzQWxwaGFGb3JtYXQpIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgXCJ0cmFuc3BhcmVudFwiLCBhbGwgb3RoZXIgbm9uLWFscGhhIGZvcm1hdHNcbiAgICAgICAgICAgIC8vIHdpbGwgcmV0dXJuIHJnYmEgd2hlbiB0aGVyZSBpcyB0cmFuc3BhcmVuY3kuXG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSBcIm5hbWVcIiAmJiB0aGlzLl9hID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9OYW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b1JnYlN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwicmdiXCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9SZ2JTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcInByZ2JcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b1BlcmNlbnRhZ2VSZ2JTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhleFwiIHx8IGZvcm1hdCA9PT0gXCJoZXg2XCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9IZXhTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhleDNcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleFN0cmluZyh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhleDRcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleDhTdHJpbmcodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJoZXg4XCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9IZXg4U3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJuYW1lXCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9OYW1lKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJoc2xcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hzbFN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwiaHN2XCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9Ic3ZTdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWRTdHJpbmcgfHwgdGhpcy50b0hleFN0cmluZygpO1xuICAgIH0sXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGlueWNvbG9yKHRoaXMudG9TdHJpbmcoKSk7XG4gICAgfSxcblxuICAgIF9hcHBseU1vZGlmaWNhdGlvbjogZnVuY3Rpb24oZm4sIGFyZ3MpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gZm4uYXBwbHkobnVsbCwgW3RoaXNdLmNvbmNhdChbXS5zbGljZS5jYWxsKGFyZ3MpKSk7XG4gICAgICAgIHRoaXMuX3IgPSBjb2xvci5fcjtcbiAgICAgICAgdGhpcy5fZyA9IGNvbG9yLl9nO1xuICAgICAgICB0aGlzLl9iID0gY29sb3IuX2I7XG4gICAgICAgIHRoaXMuc2V0QWxwaGEoY29sb3IuX2EpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGxpZ2h0ZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24obGlnaHRlbiwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIGJyaWdodGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGJyaWdodGVuLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgZGFya2VuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGRhcmtlbiwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIGRlc2F0dXJhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZGVzYXR1cmF0ZSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHNhdHVyYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKHNhdHVyYXRlLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgZ3JleXNjYWxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGdyZXlzY2FsZSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHNwaW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oc3BpbiwgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgX2FwcGx5Q29tYmluYXRpb246IGZ1bmN0aW9uKGZuLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBbdGhpc10uY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJncykpKTtcbiAgICB9LFxuICAgIGFuYWxvZ291czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGFuYWxvZ291cywgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIGNvbXBsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihjb21wbGVtZW50LCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgbW9ub2Nocm9tYXRpYzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKG1vbm9jaHJvbWF0aWMsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBzcGxpdGNvbXBsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihzcGxpdGNvbXBsZW1lbnQsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICB0cmlhZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKHRyaWFkLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgdGV0cmFkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24odGV0cmFkLCBhcmd1bWVudHMpO1xuICAgIH1cbn07XG5cbi8vIElmIGlucHV0IGlzIGFuIG9iamVjdCwgZm9yY2UgMSBpbnRvIFwiMS4wXCIgdG8gaGFuZGxlIHJhdGlvcyBwcm9wZXJseVxuLy8gU3RyaW5nIGlucHV0IHJlcXVpcmVzIFwiMS4wXCIgYXMgaW5wdXQsIHNvIDEgd2lsbCBiZSB0cmVhdGVkIGFzIDFcbnRpbnljb2xvci5mcm9tUmF0aW8gPSBmdW5jdGlvbihjb2xvciwgb3B0cykge1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT0gXCJvYmplY3RcIikge1xuICAgICAgICB2YXIgbmV3Q29sb3IgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBjb2xvcikge1xuICAgICAgICAgICAgaWYgKGNvbG9yLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IFwiYVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbG9yW2ldID0gY29sb3JbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdDb2xvcltpXSA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3JbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb2xvciA9IG5ld0NvbG9yO1xuICAgIH1cblxuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IsIG9wdHMpO1xufTtcblxuLy8gR2l2ZW4gYSBzdHJpbmcgb3Igb2JqZWN0LCBjb252ZXJ0IHRoYXQgaW5wdXQgdG8gUkdCXG4vLyBQb3NzaWJsZSBzdHJpbmcgaW5wdXRzOlxuLy9cbi8vICAgICBcInJlZFwiXG4vLyAgICAgXCIjZjAwXCIgb3IgXCJmMDBcIlxuLy8gICAgIFwiI2ZmMDAwMFwiIG9yIFwiZmYwMDAwXCJcbi8vICAgICBcIiNmZjAwMDAwMFwiIG9yIFwiZmYwMDAwMDBcIlxuLy8gICAgIFwicmdiIDI1NSAwIDBcIiBvciBcInJnYiAoMjU1LCAwLCAwKVwiXG4vLyAgICAgXCJyZ2IgMS4wIDAgMFwiIG9yIFwicmdiICgxLCAwLCAwKVwiXG4vLyAgICAgXCJyZ2JhICgyNTUsIDAsIDAsIDEpXCIgb3IgXCJyZ2JhIDI1NSwgMCwgMCwgMVwiXG4vLyAgICAgXCJyZ2JhICgxLjAsIDAsIDAsIDEpXCIgb3IgXCJyZ2JhIDEuMCwgMCwgMCwgMVwiXG4vLyAgICAgXCJoc2woMCwgMTAwJSwgNTAlKVwiIG9yIFwiaHNsIDAgMTAwJSA1MCVcIlxuLy8gICAgIFwiaHNsYSgwLCAxMDAlLCA1MCUsIDEpXCIgb3IgXCJoc2xhIDAgMTAwJSA1MCUsIDFcIlxuLy8gICAgIFwiaHN2KDAsIDEwMCUsIDEwMCUpXCIgb3IgXCJoc3YgMCAxMDAlIDEwMCVcIlxuLy9cbmZ1bmN0aW9uIGlucHV0VG9SR0IoY29sb3IpIHtcblxuICAgIHZhciByZ2IgPSB7IHI6IDAsIGc6IDAsIGI6IDAgfTtcbiAgICB2YXIgYSA9IDE7XG4gICAgdmFyIHMgPSBudWxsO1xuICAgIHZhciB2ID0gbnVsbDtcbiAgICB2YXIgbCA9IG51bGw7XG4gICAgdmFyIG9rID0gZmFsc2U7XG4gICAgdmFyIGZvcm1hdCA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbG9yID0gc3RyaW5nSW5wdXRUb09iamVjdChjb2xvcik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlmIChpc1ZhbGlkQ1NTVW5pdChjb2xvci5yKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5nKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5iKSkge1xuICAgICAgICAgICAgcmdiID0gcmdiVG9SZ2IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XG4gICAgICAgICAgICBvayA9IHRydWU7XG4gICAgICAgICAgICBmb3JtYXQgPSBTdHJpbmcoY29sb3Iucikuc3Vic3RyKC0xKSA9PT0gXCIlXCIgPyBcInByZ2JcIiA6IFwicmdiXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWYWxpZENTU1VuaXQoY29sb3IuaCkgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IucykgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IudikpIHtcbiAgICAgICAgICAgIHMgPSBjb252ZXJ0VG9QZXJjZW50YWdlKGNvbG9yLnMpO1xuICAgICAgICAgICAgdiA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3Iudik7XG4gICAgICAgICAgICByZ2IgPSBoc3ZUb1JnYihjb2xvci5oLCBzLCB2KTtcbiAgICAgICAgICAgIG9rID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvcm1hdCA9IFwiaHN2XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWYWxpZENTU1VuaXQoY29sb3IuaCkgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IucykgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IubCkpIHtcbiAgICAgICAgICAgIHMgPSBjb252ZXJ0VG9QZXJjZW50YWdlKGNvbG9yLnMpO1xuICAgICAgICAgICAgbCA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3IubCk7XG4gICAgICAgICAgICByZ2IgPSBoc2xUb1JnYihjb2xvci5oLCBzLCBsKTtcbiAgICAgICAgICAgIG9rID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvcm1hdCA9IFwiaHNsXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29sb3IuaGFzT3duUHJvcGVydHkoXCJhXCIpKSB7XG4gICAgICAgICAgICBhID0gY29sb3IuYTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGEgPSBib3VuZEFscGhhKGEpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgb2s6IG9rLFxuICAgICAgICBmb3JtYXQ6IGNvbG9yLmZvcm1hdCB8fCBmb3JtYXQsXG4gICAgICAgIHI6IG1hdGhNaW4oMjU1LCBtYXRoTWF4KHJnYi5yLCAwKSksXG4gICAgICAgIGc6IG1hdGhNaW4oMjU1LCBtYXRoTWF4KHJnYi5nLCAwKSksXG4gICAgICAgIGI6IG1hdGhNaW4oMjU1LCBtYXRoTWF4KHJnYi5iLCAwKSksXG4gICAgICAgIGE6IGFcbiAgICB9O1xufVxuXG5cbi8vIENvbnZlcnNpb24gRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBgcmdiVG9Ic2xgLCBgcmdiVG9Ic3ZgLCBgaHNsVG9SZ2JgLCBgaHN2VG9SZ2JgIG1vZGlmaWVkIGZyb206XG4vLyA8aHR0cDovL21qaWphY2tzb24uY29tLzIwMDgvMDIvcmdiLXRvLWhzbC1hbmQtcmdiLXRvLWhzdi1jb2xvci1tb2RlbC1jb252ZXJzaW9uLWFsZ29yaXRobXMtaW4tamF2YXNjcmlwdD5cblxuLy8gYHJnYlRvUmdiYFxuLy8gSGFuZGxlIGJvdW5kcyAvIHBlcmNlbnRhZ2UgY2hlY2tpbmcgdG8gY29uZm9ybSB0byBDU1MgY29sb3Igc3BlY1xuLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvPlxuLy8gKkFzc3VtZXM6KiByLCBnLCBiIGluIFswLCAyNTVdIG9yIFswLCAxXVxuLy8gKlJldHVybnM6KiB7IHIsIGcsIGIgfSBpbiBbMCwgMjU1XVxuZnVuY3Rpb24gcmdiVG9SZ2IociwgZywgYil7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcjogYm91bmQwMShyLCAyNTUpICogMjU1LFxuICAgICAgICBnOiBib3VuZDAxKGcsIDI1NSkgKiAyNTUsXG4gICAgICAgIGI6IGJvdW5kMDEoYiwgMjU1KSAqIDI1NVxuICAgIH07XG59XG5cbi8vIGByZ2JUb0hzbGBcbi8vIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0wuXG4vLyAqQXNzdW1lczoqIHIsIGcsIGFuZCBiIGFyZSBjb250YWluZWQgaW4gWzAsIDI1NV0gb3IgWzAsIDFdXG4vLyAqUmV0dXJuczoqIHsgaCwgcywgbCB9IGluIFswLDFdXG5mdW5jdGlvbiByZ2JUb0hzbChyLCBnLCBiKSB7XG5cbiAgICByID0gYm91bmQwMShyLCAyNTUpO1xuICAgIGcgPSBib3VuZDAxKGcsIDI1NSk7XG4gICAgYiA9IGJvdW5kMDEoYiwgMjU1KTtcblxuICAgIHZhciBtYXggPSBtYXRoTWF4KHIsIGcsIGIpLCBtaW4gPSBtYXRoTWluKHIsIGcsIGIpO1xuICAgIHZhciBoLCBzLCBsID0gKG1heCArIG1pbikgLyAyO1xuXG4gICAgaWYobWF4ID09IG1pbikge1xuICAgICAgICBoID0gcyA9IDA7IC8vIGFjaHJvbWF0aWNcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBkID0gbWF4IC0gbWluO1xuICAgICAgICBzID0gbCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbik7XG4gICAgICAgIHN3aXRjaChtYXgpIHtcbiAgICAgICAgICAgIGNhc2UgcjogaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZzogaCA9IChiIC0gcikgLyBkICsgMjsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGI6IGggPSAociAtIGcpIC8gZCArIDQ7IGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaCAvPSA2O1xuICAgIH1cblxuICAgIHJldHVybiB7IGg6IGgsIHM6IHMsIGw6IGwgfTtcbn1cblxuLy8gYGhzbFRvUmdiYFxuLy8gQ29udmVydHMgYW4gSFNMIGNvbG9yIHZhbHVlIHRvIFJHQi5cbi8vICpBc3N1bWVzOiogaCBpcyBjb250YWluZWQgaW4gWzAsIDFdIG9yIFswLCAzNjBdIGFuZCBzIGFuZCBsIGFyZSBjb250YWluZWQgWzAsIDFdIG9yIFswLCAxMDBdXG4vLyAqUmV0dXJuczoqIHsgciwgZywgYiB9IGluIHRoZSBzZXQgWzAsIDI1NV1cbmZ1bmN0aW9uIGhzbFRvUmdiKGgsIHMsIGwpIHtcbiAgICB2YXIgciwgZywgYjtcblxuICAgIGggPSBib3VuZDAxKGgsIDM2MCk7XG4gICAgcyA9IGJvdW5kMDEocywgMTAwKTtcbiAgICBsID0gYm91bmQwMShsLCAxMDApO1xuXG4gICAgZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgICAgIGlmKHQgPCAwKSB0ICs9IDE7XG4gICAgICAgIGlmKHQgPiAxKSB0IC09IDE7XG4gICAgICAgIGlmKHQgPCAxLzYpIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICAgICAgICBpZih0IDwgMS8yKSByZXR1cm4gcTtcbiAgICAgICAgaWYodCA8IDIvMykgcmV0dXJuIHAgKyAocSAtIHApICogKDIvMyAtIHQpICogNjtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgaWYocyA9PT0gMCkge1xuICAgICAgICByID0gZyA9IGIgPSBsOyAvLyBhY2hyb21hdGljXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgICAgIHZhciBwID0gMiAqIGwgLSBxO1xuICAgICAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMS8zKTtcbiAgICAgICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gICAgICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxLzMpO1xuICAgIH1cblxuICAgIHJldHVybiB7IHI6IHIgKiAyNTUsIGc6IGcgKiAyNTUsIGI6IGIgKiAyNTUgfTtcbn1cblxuLy8gYHJnYlRvSHN2YFxuLy8gQ29udmVydHMgYW4gUkdCIGNvbG9yIHZhbHVlIHRvIEhTVlxuLy8gKkFzc3VtZXM6KiByLCBnLCBhbmQgYiBhcmUgY29udGFpbmVkIGluIHRoZSBzZXQgWzAsIDI1NV0gb3IgWzAsIDFdXG4vLyAqUmV0dXJuczoqIHsgaCwgcywgdiB9IGluIFswLDFdXG5mdW5jdGlvbiByZ2JUb0hzdihyLCBnLCBiKSB7XG5cbiAgICByID0gYm91bmQwMShyLCAyNTUpO1xuICAgIGcgPSBib3VuZDAxKGcsIDI1NSk7XG4gICAgYiA9IGJvdW5kMDEoYiwgMjU1KTtcblxuICAgIHZhciBtYXggPSBtYXRoTWF4KHIsIGcsIGIpLCBtaW4gPSBtYXRoTWluKHIsIGcsIGIpO1xuICAgIHZhciBoLCBzLCB2ID0gbWF4O1xuXG4gICAgdmFyIGQgPSBtYXggLSBtaW47XG4gICAgcyA9IG1heCA9PT0gMCA/IDAgOiBkIC8gbWF4O1xuXG4gICAgaWYobWF4ID09IG1pbikge1xuICAgICAgICBoID0gMDsgLy8gYWNocm9tYXRpY1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3dpdGNoKG1heCkge1xuICAgICAgICAgICAgY2FzZSByOiBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBnOiBoID0gKGIgLSByKSAvIGQgKyAyOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYjogaCA9IChyIC0gZykgLyBkICsgNDsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaCAvPSA2O1xuICAgIH1cbiAgICByZXR1cm4geyBoOiBoLCBzOiBzLCB2OiB2IH07XG59XG5cbi8vIGBoc3ZUb1JnYmBcbi8vIENvbnZlcnRzIGFuIEhTViBjb2xvciB2YWx1ZSB0byBSR0IuXG4vLyAqQXNzdW1lczoqIGggaXMgY29udGFpbmVkIGluIFswLCAxXSBvciBbMCwgMzYwXSBhbmQgcyBhbmQgdiBhcmUgY29udGFpbmVkIGluIFswLCAxXSBvciBbMCwgMTAwXVxuLy8gKlJldHVybnM6KiB7IHIsIGcsIGIgfSBpbiB0aGUgc2V0IFswLCAyNTVdXG4gZnVuY3Rpb24gaHN2VG9SZ2IoaCwgcywgdikge1xuXG4gICAgaCA9IGJvdW5kMDEoaCwgMzYwKSAqIDY7XG4gICAgcyA9IGJvdW5kMDEocywgMTAwKTtcbiAgICB2ID0gYm91bmQwMSh2LCAxMDApO1xuXG4gICAgdmFyIGkgPSBNYXRoLmZsb29yKGgpLFxuICAgICAgICBmID0gaCAtIGksXG4gICAgICAgIHAgPSB2ICogKDEgLSBzKSxcbiAgICAgICAgcSA9IHYgKiAoMSAtIGYgKiBzKSxcbiAgICAgICAgdCA9IHYgKiAoMSAtICgxIC0gZikgKiBzKSxcbiAgICAgICAgbW9kID0gaSAlIDYsXG4gICAgICAgIHIgPSBbdiwgcSwgcCwgcCwgdCwgdl1bbW9kXSxcbiAgICAgICAgZyA9IFt0LCB2LCB2LCBxLCBwLCBwXVttb2RdLFxuICAgICAgICBiID0gW3AsIHAsIHQsIHYsIHYsIHFdW21vZF07XG5cbiAgICByZXR1cm4geyByOiByICogMjU1LCBnOiBnICogMjU1LCBiOiBiICogMjU1IH07XG59XG5cbi8vIGByZ2JUb0hleGBcbi8vIENvbnZlcnRzIGFuIFJHQiBjb2xvciB0byBoZXhcbi8vIEFzc3VtZXMgciwgZywgYW5kIGIgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAyNTVdXG4vLyBSZXR1cm5zIGEgMyBvciA2IGNoYXJhY3RlciBoZXhcbmZ1bmN0aW9uIHJnYlRvSGV4KHIsIGcsIGIsIGFsbG93M0NoYXIpIHtcblxuICAgIHZhciBoZXggPSBbXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKHIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGcpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGIpLnRvU3RyaW5nKDE2KSlcbiAgICBdO1xuXG4gICAgLy8gUmV0dXJuIGEgMyBjaGFyYWN0ZXIgaGV4IGlmIHBvc3NpYmxlXG4gICAgaWYgKGFsbG93M0NoYXIgJiYgaGV4WzBdLmNoYXJBdCgwKSA9PSBoZXhbMF0uY2hhckF0KDEpICYmIGhleFsxXS5jaGFyQXQoMCkgPT0gaGV4WzFdLmNoYXJBdCgxKSAmJiBoZXhbMl0uY2hhckF0KDApID09IGhleFsyXS5jaGFyQXQoMSkpIHtcbiAgICAgICAgcmV0dXJuIGhleFswXS5jaGFyQXQoMCkgKyBoZXhbMV0uY2hhckF0KDApICsgaGV4WzJdLmNoYXJBdCgwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGV4LmpvaW4oXCJcIik7XG59XG5cbi8vIGByZ2JhVG9IZXhgXG4vLyBDb252ZXJ0cyBhbiBSR0JBIGNvbG9yIHBsdXMgYWxwaGEgdHJhbnNwYXJlbmN5IHRvIGhleFxuLy8gQXNzdW1lcyByLCBnLCBiIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMjU1XSBhbmRcbi8vIGEgaW4gWzAsIDFdLiBSZXR1cm5zIGEgNCBvciA4IGNoYXJhY3RlciByZ2JhIGhleFxuZnVuY3Rpb24gcmdiYVRvSGV4KHIsIGcsIGIsIGEsIGFsbG93NENoYXIpIHtcblxuICAgIHZhciBoZXggPSBbXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKHIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGcpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIoY29udmVydERlY2ltYWxUb0hleChhKSlcbiAgICBdO1xuXG4gICAgLy8gUmV0dXJuIGEgNCBjaGFyYWN0ZXIgaGV4IGlmIHBvc3NpYmxlXG4gICAgaWYgKGFsbG93NENoYXIgJiYgaGV4WzBdLmNoYXJBdCgwKSA9PSBoZXhbMF0uY2hhckF0KDEpICYmIGhleFsxXS5jaGFyQXQoMCkgPT0gaGV4WzFdLmNoYXJBdCgxKSAmJiBoZXhbMl0uY2hhckF0KDApID09IGhleFsyXS5jaGFyQXQoMSkgJiYgaGV4WzNdLmNoYXJBdCgwKSA9PSBoZXhbM10uY2hhckF0KDEpKSB7XG4gICAgICAgIHJldHVybiBoZXhbMF0uY2hhckF0KDApICsgaGV4WzFdLmNoYXJBdCgwKSArIGhleFsyXS5jaGFyQXQoMCkgKyBoZXhbM10uY2hhckF0KDApO1xuICAgIH1cblxuICAgIHJldHVybiBoZXguam9pbihcIlwiKTtcbn1cblxuLy8gYHJnYmFUb0FyZ2JIZXhgXG4vLyBDb252ZXJ0cyBhbiBSR0JBIGNvbG9yIHRvIGFuIEFSR0IgSGV4OCBzdHJpbmdcbi8vIFJhcmVseSB1c2VkLCBidXQgcmVxdWlyZWQgZm9yIFwidG9GaWx0ZXIoKVwiXG5mdW5jdGlvbiByZ2JhVG9BcmdiSGV4KHIsIGcsIGIsIGEpIHtcblxuICAgIHZhciBoZXggPSBbXG4gICAgICAgIHBhZDIoY29udmVydERlY2ltYWxUb0hleChhKSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKHIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGcpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGIpLnRvU3RyaW5nKDE2KSlcbiAgICBdO1xuXG4gICAgcmV0dXJuIGhleC5qb2luKFwiXCIpO1xufVxuXG4vLyBgZXF1YWxzYFxuLy8gQ2FuIGJlIGNhbGxlZCB3aXRoIGFueSB0aW55Y29sb3IgaW5wdXRcbnRpbnljb2xvci5lcXVhbHMgPSBmdW5jdGlvbiAoY29sb3IxLCBjb2xvcjIpIHtcbiAgICBpZiAoIWNvbG9yMSB8fCAhY29sb3IyKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IxKS50b1JnYlN0cmluZygpID09IHRpbnljb2xvcihjb2xvcjIpLnRvUmdiU3RyaW5nKCk7XG59O1xuXG50aW55Y29sb3IucmFuZG9tID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRpbnljb2xvci5mcm9tUmF0aW8oe1xuICAgICAgICByOiBtYXRoUmFuZG9tKCksXG4gICAgICAgIGc6IG1hdGhSYW5kb20oKSxcbiAgICAgICAgYjogbWF0aFJhbmRvbSgpXG4gICAgfSk7XG59O1xuXG5cbi8vIE1vZGlmaWNhdGlvbiBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoYW5rcyB0byBsZXNzLmpzIGZvciBzb21lIG9mIHRoZSBiYXNpY3MgaGVyZVxuLy8gPGh0dHBzOi8vZ2l0aHViLmNvbS9jbG91ZGhlYWQvbGVzcy5qcy9ibG9iL21hc3Rlci9saWIvbGVzcy9mdW5jdGlvbnMuanM+XG5cbmZ1bmN0aW9uIGRlc2F0dXJhdGUoY29sb3IsIGFtb3VudCkge1xuICAgIGFtb3VudCA9IChhbW91bnQgPT09IDApID8gMCA6IChhbW91bnQgfHwgMTApO1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgaHNsLnMgLT0gYW1vdW50IC8gMTAwO1xuICAgIGhzbC5zID0gY2xhbXAwMShoc2wucyk7XG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xufVxuXG5mdW5jdGlvbiBzYXR1cmF0ZShjb2xvciwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICBoc2wucyArPSBhbW91bnQgLyAxMDA7XG4gICAgaHNsLnMgPSBjbGFtcDAxKGhzbC5zKTtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbmZ1bmN0aW9uIGdyZXlzY2FsZShjb2xvcikge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmRlc2F0dXJhdGUoMTAwKTtcbn1cblxuZnVuY3Rpb24gbGlnaHRlbiAoY29sb3IsIGFtb3VudCkge1xuICAgIGFtb3VudCA9IChhbW91bnQgPT09IDApID8gMCA6IChhbW91bnQgfHwgMTApO1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgaHNsLmwgKz0gYW1vdW50IC8gMTAwO1xuICAgIGhzbC5sID0gY2xhbXAwMShoc2wubCk7XG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xufVxuXG5mdW5jdGlvbiBicmlnaHRlbihjb2xvciwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XG4gICAgdmFyIHJnYiA9IHRpbnljb2xvcihjb2xvcikudG9SZ2IoKTtcbiAgICByZ2IuciA9IG1hdGhNYXgoMCwgbWF0aE1pbigyNTUsIHJnYi5yIC0gbWF0aFJvdW5kKDI1NSAqIC0gKGFtb3VudCAvIDEwMCkpKSk7XG4gICAgcmdiLmcgPSBtYXRoTWF4KDAsIG1hdGhNaW4oMjU1LCByZ2IuZyAtIG1hdGhSb3VuZCgyNTUgKiAtIChhbW91bnQgLyAxMDApKSkpO1xuICAgIHJnYi5iID0gbWF0aE1heCgwLCBtYXRoTWluKDI1NSwgcmdiLmIgLSBtYXRoUm91bmQoMjU1ICogLSAoYW1vdW50IC8gMTAwKSkpKTtcbiAgICByZXR1cm4gdGlueWNvbG9yKHJnYik7XG59XG5cbmZ1bmN0aW9uIGRhcmtlbiAoY29sb3IsIGFtb3VudCkge1xuICAgIGFtb3VudCA9IChhbW91bnQgPT09IDApID8gMCA6IChhbW91bnQgfHwgMTApO1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgaHNsLmwgLT0gYW1vdW50IC8gMTAwO1xuICAgIGhzbC5sID0gY2xhbXAwMShoc2wubCk7XG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xufVxuXG4vLyBTcGluIHRha2VzIGEgcG9zaXRpdmUgb3IgbmVnYXRpdmUgYW1vdW50IHdpdGhpbiBbLTM2MCwgMzYwXSBpbmRpY2F0aW5nIHRoZSBjaGFuZ2Ugb2YgaHVlLlxuLy8gVmFsdWVzIG91dHNpZGUgb2YgdGhpcyByYW5nZSB3aWxsIGJlIHdyYXBwZWQgaW50byB0aGlzIHJhbmdlLlxuZnVuY3Rpb24gc3Bpbihjb2xvciwgYW1vdW50KSB7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICB2YXIgaHVlID0gKGhzbC5oICsgYW1vdW50KSAlIDM2MDtcbiAgICBoc2wuaCA9IGh1ZSA8IDAgPyAzNjAgKyBodWUgOiBodWU7XG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xufVxuXG4vLyBDb21iaW5hdGlvbiBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGhhbmtzIHRvIGpRdWVyeSB4Q29sb3IgZm9yIHNvbWUgb2YgdGhlIGlkZWFzIGJlaGluZCB0aGVzZVxuLy8gPGh0dHBzOi8vZ2l0aHViLmNvbS9pbmZ1c2lvbi9qUXVlcnkteGNvbG9yL2Jsb2IvbWFzdGVyL2pxdWVyeS54Y29sb3IuanM+XG5cbmZ1bmN0aW9uIGNvbXBsZW1lbnQoY29sb3IpIHtcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xuICAgIGhzbC5oID0gKGhzbC5oICsgMTgwKSAlIDM2MDtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbmZ1bmN0aW9uIHRyaWFkKGNvbG9yKSB7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICB2YXIgaCA9IGhzbC5oO1xuICAgIHJldHVybiBbXG4gICAgICAgIHRpbnljb2xvcihjb2xvciksXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgMTIwKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDI0MCkgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCB9KVxuICAgIF07XG59XG5cbmZ1bmN0aW9uIHRldHJhZChjb2xvcikge1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgdmFyIGggPSBoc2wuaDtcbiAgICByZXR1cm4gW1xuICAgICAgICB0aW55Y29sb3IoY29sb3IpLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDkwKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDE4MCkgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCB9KSxcbiAgICAgICAgdGlueWNvbG9yKHsgaDogKGggKyAyNzApICUgMzYwLCBzOiBoc2wucywgbDogaHNsLmwgfSlcbiAgICBdO1xufVxuXG5mdW5jdGlvbiBzcGxpdGNvbXBsZW1lbnQoY29sb3IpIHtcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xuICAgIHZhciBoID0gaHNsLmg7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgdGlueWNvbG9yKGNvbG9yKSxcbiAgICAgICAgdGlueWNvbG9yKHsgaDogKGggKyA3MikgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubH0pLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDIxNikgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubH0pXG4gICAgXTtcbn1cblxuZnVuY3Rpb24gYW5hbG9nb3VzKGNvbG9yLCByZXN1bHRzLCBzbGljZXMpIHtcbiAgICByZXN1bHRzID0gcmVzdWx0cyB8fCA2O1xuICAgIHNsaWNlcyA9IHNsaWNlcyB8fCAzMDtcblxuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgdmFyIHBhcnQgPSAzNjAgLyBzbGljZXM7XG4gICAgdmFyIHJldCA9IFt0aW55Y29sb3IoY29sb3IpXTtcblxuICAgIGZvciAoaHNsLmggPSAoKGhzbC5oIC0gKHBhcnQgKiByZXN1bHRzID4+IDEpKSArIDcyMCkgJSAzNjA7IC0tcmVzdWx0czsgKSB7XG4gICAgICAgIGhzbC5oID0gKGhzbC5oICsgcGFydCkgJSAzNjA7XG4gICAgICAgIHJldC5wdXNoKHRpbnljb2xvcihoc2wpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gbW9ub2Nocm9tYXRpYyhjb2xvciwgcmVzdWx0cykge1xuICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IDY7XG4gICAgdmFyIGhzdiA9IHRpbnljb2xvcihjb2xvcikudG9Ic3YoKTtcbiAgICB2YXIgaCA9IGhzdi5oLCBzID0gaHN2LnMsIHYgPSBoc3YudjtcbiAgICB2YXIgcmV0ID0gW107XG4gICAgdmFyIG1vZGlmaWNhdGlvbiA9IDEgLyByZXN1bHRzO1xuXG4gICAgd2hpbGUgKHJlc3VsdHMtLSkge1xuICAgICAgICByZXQucHVzaCh0aW55Y29sb3IoeyBoOiBoLCBzOiBzLCB2OiB2fSkpO1xuICAgICAgICB2ID0gKHYgKyBtb2RpZmljYXRpb24pICUgMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xufVxuXG4vLyBVdGlsaXR5IEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbnRpbnljb2xvci5taXggPSBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMiwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCA1MCk7XG5cbiAgICB2YXIgcmdiMSA9IHRpbnljb2xvcihjb2xvcjEpLnRvUmdiKCk7XG4gICAgdmFyIHJnYjIgPSB0aW55Y29sb3IoY29sb3IyKS50b1JnYigpO1xuXG4gICAgdmFyIHAgPSBhbW91bnQgLyAxMDA7XG5cbiAgICB2YXIgcmdiYSA9IHtcbiAgICAgICAgcjogKChyZ2IyLnIgLSByZ2IxLnIpICogcCkgKyByZ2IxLnIsXG4gICAgICAgIGc6ICgocmdiMi5nIC0gcmdiMS5nKSAqIHApICsgcmdiMS5nLFxuICAgICAgICBiOiAoKHJnYjIuYiAtIHJnYjEuYikgKiBwKSArIHJnYjEuYixcbiAgICAgICAgYTogKChyZ2IyLmEgLSByZ2IxLmEpICogcCkgKyByZ2IxLmFcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRpbnljb2xvcihyZ2JhKTtcbn07XG5cblxuLy8gUmVhZGFiaWxpdHkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDxodHRwOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI2NvbnRyYXN0LXJhdGlvZGVmIChXQ0FHIFZlcnNpb24gMilcblxuLy8gYGNvbnRyYXN0YFxuLy8gQW5hbHl6ZSB0aGUgMiBjb2xvcnMgYW5kIHJldHVybnMgdGhlIGNvbG9yIGNvbnRyYXN0IGRlZmluZWQgYnkgKFdDQUcgVmVyc2lvbiAyKVxudGlueWNvbG9yLnJlYWRhYmlsaXR5ID0gZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIpIHtcbiAgICB2YXIgYzEgPSB0aW55Y29sb3IoY29sb3IxKTtcbiAgICB2YXIgYzIgPSB0aW55Y29sb3IoY29sb3IyKTtcbiAgICByZXR1cm4gKE1hdGgubWF4KGMxLmdldEx1bWluYW5jZSgpLGMyLmdldEx1bWluYW5jZSgpKSswLjA1KSAvIChNYXRoLm1pbihjMS5nZXRMdW1pbmFuY2UoKSxjMi5nZXRMdW1pbmFuY2UoKSkrMC4wNSk7XG59O1xuXG4vLyBgaXNSZWFkYWJsZWBcbi8vIEVuc3VyZSB0aGF0IGZvcmVncm91bmQgYW5kIGJhY2tncm91bmQgY29sb3IgY29tYmluYXRpb25zIG1lZXQgV0NBRzIgZ3VpZGVsaW5lcy5cbi8vIFRoZSB0aGlyZCBhcmd1bWVudCBpcyBhbiBvcHRpb25hbCBPYmplY3QuXG4vLyAgICAgIHRoZSAnbGV2ZWwnIHByb3BlcnR5IHN0YXRlcyAnQUEnIG9yICdBQUEnIC0gaWYgbWlzc2luZyBvciBpbnZhbGlkLCBpdCBkZWZhdWx0cyB0byAnQUEnO1xuLy8gICAgICB0aGUgJ3NpemUnIHByb3BlcnR5IHN0YXRlcyAnbGFyZ2UnIG9yICdzbWFsbCcgLSBpZiBtaXNzaW5nIG9yIGludmFsaWQsIGl0IGRlZmF1bHRzIHRvICdzbWFsbCcuXG4vLyBJZiB0aGUgZW50aXJlIG9iamVjdCBpcyBhYnNlbnQsIGlzUmVhZGFibGUgZGVmYXVsdHMgdG8ge2xldmVsOlwiQUFcIixzaXplOlwic21hbGxcIn0uXG5cbi8vICpFeGFtcGxlKlxuLy8gICAgdGlueWNvbG9yLmlzUmVhZGFibGUoXCIjMDAwXCIsIFwiIzExMVwiKSA9PiBmYWxzZVxuLy8gICAgdGlueWNvbG9yLmlzUmVhZGFibGUoXCIjMDAwXCIsIFwiIzExMVwiLHtsZXZlbDpcIkFBXCIsc2l6ZTpcImxhcmdlXCJ9KSA9PiBmYWxzZVxudGlueWNvbG9yLmlzUmVhZGFibGUgPSBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMiwgd2NhZzIpIHtcbiAgICB2YXIgcmVhZGFiaWxpdHkgPSB0aW55Y29sb3IucmVhZGFiaWxpdHkoY29sb3IxLCBjb2xvcjIpO1xuICAgIHZhciB3Y2FnMlBhcm1zLCBvdXQ7XG5cbiAgICBvdXQgPSBmYWxzZTtcblxuICAgIHdjYWcyUGFybXMgPSB2YWxpZGF0ZVdDQUcyUGFybXMod2NhZzIpO1xuICAgIHN3aXRjaCAod2NhZzJQYXJtcy5sZXZlbCArIHdjYWcyUGFybXMuc2l6ZSkge1xuICAgICAgICBjYXNlIFwiQUFzbWFsbFwiOlxuICAgICAgICBjYXNlIFwiQUFBbGFyZ2VcIjpcbiAgICAgICAgICAgIG91dCA9IHJlYWRhYmlsaXR5ID49IDQuNTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQUFsYXJnZVwiOlxuICAgICAgICAgICAgb3V0ID0gcmVhZGFiaWxpdHkgPj0gMztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQUFBc21hbGxcIjpcbiAgICAgICAgICAgIG91dCA9IHJlYWRhYmlsaXR5ID49IDc7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcblxufTtcblxuLy8gYG1vc3RSZWFkYWJsZWBcbi8vIEdpdmVuIGEgYmFzZSBjb2xvciBhbmQgYSBsaXN0IG9mIHBvc3NpYmxlIGZvcmVncm91bmQgb3IgYmFja2dyb3VuZFxuLy8gY29sb3JzIGZvciB0aGF0IGJhc2UsIHJldHVybnMgdGhlIG1vc3QgcmVhZGFibGUgY29sb3IuXG4vLyBPcHRpb25hbGx5IHJldHVybnMgQmxhY2sgb3IgV2hpdGUgaWYgdGhlIG1vc3QgcmVhZGFibGUgY29sb3IgaXMgdW5yZWFkYWJsZS5cbi8vICpFeGFtcGxlKlxuLy8gICAgdGlueWNvbG9yLm1vc3RSZWFkYWJsZSh0aW55Y29sb3IubW9zdFJlYWRhYmxlKFwiIzEyM1wiLCBbXCIjMTI0XCIsIFwiIzEyNVwiXSx7aW5jbHVkZUZhbGxiYWNrQ29sb3JzOmZhbHNlfSkudG9IZXhTdHJpbmcoKTsgLy8gXCIjMTEyMjU1XCJcbi8vICAgIHRpbnljb2xvci5tb3N0UmVhZGFibGUodGlueWNvbG9yLm1vc3RSZWFkYWJsZShcIiMxMjNcIiwgW1wiIzEyNFwiLCBcIiMxMjVcIl0se2luY2x1ZGVGYWxsYmFja0NvbG9yczp0cnVlfSkudG9IZXhTdHJpbmcoKTsgIC8vIFwiI2ZmZmZmZlwiXG4vLyAgICB0aW55Y29sb3IubW9zdFJlYWRhYmxlKFwiI2E4MDE1YVwiLCBbXCIjZmFmM2YzXCJdLHtpbmNsdWRlRmFsbGJhY2tDb2xvcnM6dHJ1ZSxsZXZlbDpcIkFBQVwiLHNpemU6XCJsYXJnZVwifSkudG9IZXhTdHJpbmcoKTsgLy8gXCIjZmFmM2YzXCJcbi8vICAgIHRpbnljb2xvci5tb3N0UmVhZGFibGUoXCIjYTgwMTVhXCIsIFtcIiNmYWYzZjNcIl0se2luY2x1ZGVGYWxsYmFja0NvbG9yczp0cnVlLGxldmVsOlwiQUFBXCIsc2l6ZTpcInNtYWxsXCJ9KS50b0hleFN0cmluZygpOyAvLyBcIiNmZmZmZmZcIlxudGlueWNvbG9yLm1vc3RSZWFkYWJsZSA9IGZ1bmN0aW9uKGJhc2VDb2xvciwgY29sb3JMaXN0LCBhcmdzKSB7XG4gICAgdmFyIGJlc3RDb2xvciA9IG51bGw7XG4gICAgdmFyIGJlc3RTY29yZSA9IDA7XG4gICAgdmFyIHJlYWRhYmlsaXR5O1xuICAgIHZhciBpbmNsdWRlRmFsbGJhY2tDb2xvcnMsIGxldmVsLCBzaXplIDtcbiAgICBhcmdzID0gYXJncyB8fCB7fTtcbiAgICBpbmNsdWRlRmFsbGJhY2tDb2xvcnMgPSBhcmdzLmluY2x1ZGVGYWxsYmFja0NvbG9ycyA7XG4gICAgbGV2ZWwgPSBhcmdzLmxldmVsO1xuICAgIHNpemUgPSBhcmdzLnNpemU7XG5cbiAgICBmb3IgKHZhciBpPSAwOyBpIDwgY29sb3JMaXN0Lmxlbmd0aCA7IGkrKykge1xuICAgICAgICByZWFkYWJpbGl0eSA9IHRpbnljb2xvci5yZWFkYWJpbGl0eShiYXNlQ29sb3IsIGNvbG9yTGlzdFtpXSk7XG4gICAgICAgIGlmIChyZWFkYWJpbGl0eSA+IGJlc3RTY29yZSkge1xuICAgICAgICAgICAgYmVzdFNjb3JlID0gcmVhZGFiaWxpdHk7XG4gICAgICAgICAgICBiZXN0Q29sb3IgPSB0aW55Y29sb3IoY29sb3JMaXN0W2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aW55Y29sb3IuaXNSZWFkYWJsZShiYXNlQ29sb3IsIGJlc3RDb2xvciwge1wibGV2ZWxcIjpsZXZlbCxcInNpemVcIjpzaXplfSkgfHwgIWluY2x1ZGVGYWxsYmFja0NvbG9ycykge1xuICAgICAgICByZXR1cm4gYmVzdENvbG9yO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXJncy5pbmNsdWRlRmFsbGJhY2tDb2xvcnM9ZmFsc2U7XG4gICAgICAgIHJldHVybiB0aW55Y29sb3IubW9zdFJlYWRhYmxlKGJhc2VDb2xvcixbXCIjZmZmXCIsIFwiIzAwMFwiXSxhcmdzKTtcbiAgICB9XG59O1xuXG5cbi8vIEJpZyBMaXN0IG9mIENvbG9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8jc3ZnLWNvbG9yPlxudmFyIG5hbWVzID0gdGlueWNvbG9yLm5hbWVzID0ge1xuICAgIGFsaWNlYmx1ZTogXCJmMGY4ZmZcIixcbiAgICBhbnRpcXVld2hpdGU6IFwiZmFlYmQ3XCIsXG4gICAgYXF1YTogXCIwZmZcIixcbiAgICBhcXVhbWFyaW5lOiBcIjdmZmZkNFwiLFxuICAgIGF6dXJlOiBcImYwZmZmZlwiLFxuICAgIGJlaWdlOiBcImY1ZjVkY1wiLFxuICAgIGJpc3F1ZTogXCJmZmU0YzRcIixcbiAgICBibGFjazogXCIwMDBcIixcbiAgICBibGFuY2hlZGFsbW9uZDogXCJmZmViY2RcIixcbiAgICBibHVlOiBcIjAwZlwiLFxuICAgIGJsdWV2aW9sZXQ6IFwiOGEyYmUyXCIsXG4gICAgYnJvd246IFwiYTUyYTJhXCIsXG4gICAgYnVybHl3b29kOiBcImRlYjg4N1wiLFxuICAgIGJ1cm50c2llbm5hOiBcImVhN2U1ZFwiLFxuICAgIGNhZGV0Ymx1ZTogXCI1ZjllYTBcIixcbiAgICBjaGFydHJldXNlOiBcIjdmZmYwMFwiLFxuICAgIGNob2NvbGF0ZTogXCJkMjY5MWVcIixcbiAgICBjb3JhbDogXCJmZjdmNTBcIixcbiAgICBjb3JuZmxvd2VyYmx1ZTogXCI2NDk1ZWRcIixcbiAgICBjb3Juc2lsazogXCJmZmY4ZGNcIixcbiAgICBjcmltc29uOiBcImRjMTQzY1wiLFxuICAgIGN5YW46IFwiMGZmXCIsXG4gICAgZGFya2JsdWU6IFwiMDAwMDhiXCIsXG4gICAgZGFya2N5YW46IFwiMDA4YjhiXCIsXG4gICAgZGFya2dvbGRlbnJvZDogXCJiODg2MGJcIixcbiAgICBkYXJrZ3JheTogXCJhOWE5YTlcIixcbiAgICBkYXJrZ3JlZW46IFwiMDA2NDAwXCIsXG4gICAgZGFya2dyZXk6IFwiYTlhOWE5XCIsXG4gICAgZGFya2toYWtpOiBcImJkYjc2YlwiLFxuICAgIGRhcmttYWdlbnRhOiBcIjhiMDA4YlwiLFxuICAgIGRhcmtvbGl2ZWdyZWVuOiBcIjU1NmIyZlwiLFxuICAgIGRhcmtvcmFuZ2U6IFwiZmY4YzAwXCIsXG4gICAgZGFya29yY2hpZDogXCI5OTMyY2NcIixcbiAgICBkYXJrcmVkOiBcIjhiMDAwMFwiLFxuICAgIGRhcmtzYWxtb246IFwiZTk5NjdhXCIsXG4gICAgZGFya3NlYWdyZWVuOiBcIjhmYmM4ZlwiLFxuICAgIGRhcmtzbGF0ZWJsdWU6IFwiNDgzZDhiXCIsXG4gICAgZGFya3NsYXRlZ3JheTogXCIyZjRmNGZcIixcbiAgICBkYXJrc2xhdGVncmV5OiBcIjJmNGY0ZlwiLFxuICAgIGRhcmt0dXJxdW9pc2U6IFwiMDBjZWQxXCIsXG4gICAgZGFya3Zpb2xldDogXCI5NDAwZDNcIixcbiAgICBkZWVwcGluazogXCJmZjE0OTNcIixcbiAgICBkZWVwc2t5Ymx1ZTogXCIwMGJmZmZcIixcbiAgICBkaW1ncmF5OiBcIjY5Njk2OVwiLFxuICAgIGRpbWdyZXk6IFwiNjk2OTY5XCIsXG4gICAgZG9kZ2VyYmx1ZTogXCIxZTkwZmZcIixcbiAgICBmaXJlYnJpY2s6IFwiYjIyMjIyXCIsXG4gICAgZmxvcmFsd2hpdGU6IFwiZmZmYWYwXCIsXG4gICAgZm9yZXN0Z3JlZW46IFwiMjI4YjIyXCIsXG4gICAgZnVjaHNpYTogXCJmMGZcIixcbiAgICBnYWluc2Jvcm86IFwiZGNkY2RjXCIsXG4gICAgZ2hvc3R3aGl0ZTogXCJmOGY4ZmZcIixcbiAgICBnb2xkOiBcImZmZDcwMFwiLFxuICAgIGdvbGRlbnJvZDogXCJkYWE1MjBcIixcbiAgICBncmF5OiBcIjgwODA4MFwiLFxuICAgIGdyZWVuOiBcIjAwODAwMFwiLFxuICAgIGdyZWVueWVsbG93OiBcImFkZmYyZlwiLFxuICAgIGdyZXk6IFwiODA4MDgwXCIsXG4gICAgaG9uZXlkZXc6IFwiZjBmZmYwXCIsXG4gICAgaG90cGluazogXCJmZjY5YjRcIixcbiAgICBpbmRpYW5yZWQ6IFwiY2Q1YzVjXCIsXG4gICAgaW5kaWdvOiBcIjRiMDA4MlwiLFxuICAgIGl2b3J5OiBcImZmZmZmMFwiLFxuICAgIGtoYWtpOiBcImYwZTY4Y1wiLFxuICAgIGxhdmVuZGVyOiBcImU2ZTZmYVwiLFxuICAgIGxhdmVuZGVyYmx1c2g6IFwiZmZmMGY1XCIsXG4gICAgbGF3bmdyZWVuOiBcIjdjZmMwMFwiLFxuICAgIGxlbW9uY2hpZmZvbjogXCJmZmZhY2RcIixcbiAgICBsaWdodGJsdWU6IFwiYWRkOGU2XCIsXG4gICAgbGlnaHRjb3JhbDogXCJmMDgwODBcIixcbiAgICBsaWdodGN5YW46IFwiZTBmZmZmXCIsXG4gICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IFwiZmFmYWQyXCIsXG4gICAgbGlnaHRncmF5OiBcImQzZDNkM1wiLFxuICAgIGxpZ2h0Z3JlZW46IFwiOTBlZTkwXCIsXG4gICAgbGlnaHRncmV5OiBcImQzZDNkM1wiLFxuICAgIGxpZ2h0cGluazogXCJmZmI2YzFcIixcbiAgICBsaWdodHNhbG1vbjogXCJmZmEwN2FcIixcbiAgICBsaWdodHNlYWdyZWVuOiBcIjIwYjJhYVwiLFxuICAgIGxpZ2h0c2t5Ymx1ZTogXCI4N2NlZmFcIixcbiAgICBsaWdodHNsYXRlZ3JheTogXCI3ODlcIixcbiAgICBsaWdodHNsYXRlZ3JleTogXCI3ODlcIixcbiAgICBsaWdodHN0ZWVsYmx1ZTogXCJiMGM0ZGVcIixcbiAgICBsaWdodHllbGxvdzogXCJmZmZmZTBcIixcbiAgICBsaW1lOiBcIjBmMFwiLFxuICAgIGxpbWVncmVlbjogXCIzMmNkMzJcIixcbiAgICBsaW5lbjogXCJmYWYwZTZcIixcbiAgICBtYWdlbnRhOiBcImYwZlwiLFxuICAgIG1hcm9vbjogXCI4MDAwMDBcIixcbiAgICBtZWRpdW1hcXVhbWFyaW5lOiBcIjY2Y2RhYVwiLFxuICAgIG1lZGl1bWJsdWU6IFwiMDAwMGNkXCIsXG4gICAgbWVkaXVtb3JjaGlkOiBcImJhNTVkM1wiLFxuICAgIG1lZGl1bXB1cnBsZTogXCI5MzcwZGJcIixcbiAgICBtZWRpdW1zZWFncmVlbjogXCIzY2IzNzFcIixcbiAgICBtZWRpdW1zbGF0ZWJsdWU6IFwiN2I2OGVlXCIsXG4gICAgbWVkaXVtc3ByaW5nZ3JlZW46IFwiMDBmYTlhXCIsXG4gICAgbWVkaXVtdHVycXVvaXNlOiBcIjQ4ZDFjY1wiLFxuICAgIG1lZGl1bXZpb2xldHJlZDogXCJjNzE1ODVcIixcbiAgICBtaWRuaWdodGJsdWU6IFwiMTkxOTcwXCIsXG4gICAgbWludGNyZWFtOiBcImY1ZmZmYVwiLFxuICAgIG1pc3R5cm9zZTogXCJmZmU0ZTFcIixcbiAgICBtb2NjYXNpbjogXCJmZmU0YjVcIixcbiAgICBuYXZham93aGl0ZTogXCJmZmRlYWRcIixcbiAgICBuYXZ5OiBcIjAwMDA4MFwiLFxuICAgIG9sZGxhY2U6IFwiZmRmNWU2XCIsXG4gICAgb2xpdmU6IFwiODA4MDAwXCIsXG4gICAgb2xpdmVkcmFiOiBcIjZiOGUyM1wiLFxuICAgIG9yYW5nZTogXCJmZmE1MDBcIixcbiAgICBvcmFuZ2VyZWQ6IFwiZmY0NTAwXCIsXG4gICAgb3JjaGlkOiBcImRhNzBkNlwiLFxuICAgIHBhbGVnb2xkZW5yb2Q6IFwiZWVlOGFhXCIsXG4gICAgcGFsZWdyZWVuOiBcIjk4ZmI5OFwiLFxuICAgIHBhbGV0dXJxdW9pc2U6IFwiYWZlZWVlXCIsXG4gICAgcGFsZXZpb2xldHJlZDogXCJkYjcwOTNcIixcbiAgICBwYXBheWF3aGlwOiBcImZmZWZkNVwiLFxuICAgIHBlYWNocHVmZjogXCJmZmRhYjlcIixcbiAgICBwZXJ1OiBcImNkODUzZlwiLFxuICAgIHBpbms6IFwiZmZjMGNiXCIsXG4gICAgcGx1bTogXCJkZGEwZGRcIixcbiAgICBwb3dkZXJibHVlOiBcImIwZTBlNlwiLFxuICAgIHB1cnBsZTogXCI4MDAwODBcIixcbiAgICByZWJlY2NhcHVycGxlOiBcIjY2MzM5OVwiLFxuICAgIHJlZDogXCJmMDBcIixcbiAgICByb3N5YnJvd246IFwiYmM4ZjhmXCIsXG4gICAgcm95YWxibHVlOiBcIjQxNjllMVwiLFxuICAgIHNhZGRsZWJyb3duOiBcIjhiNDUxM1wiLFxuICAgIHNhbG1vbjogXCJmYTgwNzJcIixcbiAgICBzYW5keWJyb3duOiBcImY0YTQ2MFwiLFxuICAgIHNlYWdyZWVuOiBcIjJlOGI1N1wiLFxuICAgIHNlYXNoZWxsOiBcImZmZjVlZVwiLFxuICAgIHNpZW5uYTogXCJhMDUyMmRcIixcbiAgICBzaWx2ZXI6IFwiYzBjMGMwXCIsXG4gICAgc2t5Ymx1ZTogXCI4N2NlZWJcIixcbiAgICBzbGF0ZWJsdWU6IFwiNmE1YWNkXCIsXG4gICAgc2xhdGVncmF5OiBcIjcwODA5MFwiLFxuICAgIHNsYXRlZ3JleTogXCI3MDgwOTBcIixcbiAgICBzbm93OiBcImZmZmFmYVwiLFxuICAgIHNwcmluZ2dyZWVuOiBcIjAwZmY3ZlwiLFxuICAgIHN0ZWVsYmx1ZTogXCI0NjgyYjRcIixcbiAgICB0YW46IFwiZDJiNDhjXCIsXG4gICAgdGVhbDogXCIwMDgwODBcIixcbiAgICB0aGlzdGxlOiBcImQ4YmZkOFwiLFxuICAgIHRvbWF0bzogXCJmZjYzNDdcIixcbiAgICB0dXJxdW9pc2U6IFwiNDBlMGQwXCIsXG4gICAgdmlvbGV0OiBcImVlODJlZVwiLFxuICAgIHdoZWF0OiBcImY1ZGViM1wiLFxuICAgIHdoaXRlOiBcImZmZlwiLFxuICAgIHdoaXRlc21va2U6IFwiZjVmNWY1XCIsXG4gICAgeWVsbG93OiBcImZmMFwiLFxuICAgIHllbGxvd2dyZWVuOiBcIjlhY2QzMlwiXG59O1xuXG4vLyBNYWtlIGl0IGVhc3kgdG8gYWNjZXNzIGNvbG9ycyB2aWEgYGhleE5hbWVzW2hleF1gXG52YXIgaGV4TmFtZXMgPSB0aW55Y29sb3IuaGV4TmFtZXMgPSBmbGlwKG5hbWVzKTtcblxuXG4vLyBVdGlsaXRpZXNcbi8vIC0tLS0tLS0tLVxuXG4vLyBgeyAnbmFtZTEnOiAndmFsMScgfWAgYmVjb21lcyBgeyAndmFsMSc6ICduYW1lMScgfWBcbmZ1bmN0aW9uIGZsaXAobykge1xuICAgIHZhciBmbGlwcGVkID0geyB9O1xuICAgIGZvciAodmFyIGkgaW4gbykge1xuICAgICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgZmxpcHBlZFtvW2ldXSA9IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZsaXBwZWQ7XG59XG5cbi8vIFJldHVybiBhIHZhbGlkIGFscGhhIHZhbHVlIFswLDFdIHdpdGggYWxsIGludmFsaWQgdmFsdWVzIGJlaW5nIHNldCB0byAxXG5mdW5jdGlvbiBib3VuZEFscGhhKGEpIHtcbiAgICBhID0gcGFyc2VGbG9hdChhKTtcblxuICAgIGlmIChpc05hTihhKSB8fCBhIDwgMCB8fCBhID4gMSkge1xuICAgICAgICBhID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbn1cblxuLy8gVGFrZSBpbnB1dCBmcm9tIFswLCBuXSBhbmQgcmV0dXJuIGl0IGFzIFswLCAxXVxuZnVuY3Rpb24gYm91bmQwMShuLCBtYXgpIHtcbiAgICBpZiAoaXNPbmVQb2ludFplcm8obikpIHsgbiA9IFwiMTAwJVwiOyB9XG5cbiAgICB2YXIgcHJvY2Vzc1BlcmNlbnQgPSBpc1BlcmNlbnRhZ2Uobik7XG4gICAgbiA9IG1hdGhNaW4obWF4LCBtYXRoTWF4KDAsIHBhcnNlRmxvYXQobikpKTtcblxuICAgIC8vIEF1dG9tYXRpY2FsbHkgY29udmVydCBwZXJjZW50YWdlIGludG8gbnVtYmVyXG4gICAgaWYgKHByb2Nlc3NQZXJjZW50KSB7XG4gICAgICAgIG4gPSBwYXJzZUludChuICogbWF4LCAxMCkgLyAxMDA7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGZsb2F0aW5nIHBvaW50IHJvdW5kaW5nIGVycm9yc1xuICAgIGlmICgoTWF0aC5hYnMobiAtIG1heCkgPCAwLjAwMDAwMSkpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBpbnRvIFswLCAxXSByYW5nZSBpZiBpdCBpc24ndCBhbHJlYWR5XG4gICAgcmV0dXJuIChuICUgbWF4KSAvIHBhcnNlRmxvYXQobWF4KTtcbn1cblxuLy8gRm9yY2UgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXG5mdW5jdGlvbiBjbGFtcDAxKHZhbCkge1xuICAgIHJldHVybiBtYXRoTWluKDEsIG1hdGhNYXgoMCwgdmFsKSk7XG59XG5cbi8vIFBhcnNlIGEgYmFzZS0xNiBoZXggdmFsdWUgaW50byBhIGJhc2UtMTAgaW50ZWdlclxuZnVuY3Rpb24gcGFyc2VJbnRGcm9tSGV4KHZhbCkge1xuICAgIHJldHVybiBwYXJzZUludCh2YWwsIDE2KTtcbn1cblxuLy8gTmVlZCB0byBoYW5kbGUgMS4wIGFzIDEwMCUsIHNpbmNlIG9uY2UgaXQgaXMgYSBudW1iZXIsIHRoZXJlIGlzIG5vIGRpZmZlcmVuY2UgYmV0d2VlbiBpdCBhbmQgMVxuLy8gPGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzQyMjA3Mi9qYXZhc2NyaXB0LWhvdy10by1kZXRlY3QtbnVtYmVyLWFzLWEtZGVjaW1hbC1pbmNsdWRpbmctMS0wPlxuZnVuY3Rpb24gaXNPbmVQb2ludFplcm8obikge1xuICAgIHJldHVybiB0eXBlb2YgbiA9PSBcInN0cmluZ1wiICYmIG4uaW5kZXhPZignLicpICE9IC0xICYmIHBhcnNlRmxvYXQobikgPT09IDE7XG59XG5cbi8vIENoZWNrIHRvIHNlZSBpZiBzdHJpbmcgcGFzc2VkIGluIGlzIGEgcGVyY2VudGFnZVxuZnVuY3Rpb24gaXNQZXJjZW50YWdlKG4pIHtcbiAgICByZXR1cm4gdHlwZW9mIG4gPT09IFwic3RyaW5nXCIgJiYgbi5pbmRleE9mKCclJykgIT0gLTE7XG59XG5cbi8vIEZvcmNlIGEgaGV4IHZhbHVlIHRvIGhhdmUgMiBjaGFyYWN0ZXJzXG5mdW5jdGlvbiBwYWQyKGMpIHtcbiAgICByZXR1cm4gYy5sZW5ndGggPT0gMSA/ICcwJyArIGMgOiAnJyArIGM7XG59XG5cbi8vIFJlcGxhY2UgYSBkZWNpbWFsIHdpdGggaXQncyBwZXJjZW50YWdlIHZhbHVlXG5mdW5jdGlvbiBjb252ZXJ0VG9QZXJjZW50YWdlKG4pIHtcbiAgICBpZiAobiA8PSAxKSB7XG4gICAgICAgIG4gPSAobiAqIDEwMCkgKyBcIiVcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gbjtcbn1cblxuLy8gQ29udmVydHMgYSBkZWNpbWFsIHRvIGEgaGV4IHZhbHVlXG5mdW5jdGlvbiBjb252ZXJ0RGVjaW1hbFRvSGV4KGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGQpICogMjU1KS50b1N0cmluZygxNik7XG59XG4vLyBDb252ZXJ0cyBhIGhleCB2YWx1ZSB0byBhIGRlY2ltYWxcbmZ1bmN0aW9uIGNvbnZlcnRIZXhUb0RlY2ltYWwoaCkge1xuICAgIHJldHVybiAocGFyc2VJbnRGcm9tSGV4KGgpIC8gMjU1KTtcbn1cblxudmFyIG1hdGNoZXJzID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtdmFsdWVzLyNpbnRlZ2Vycz5cbiAgICB2YXIgQ1NTX0lOVEVHRVIgPSBcIlstXFxcXCtdP1xcXFxkKyU/XCI7XG5cbiAgICAvLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy12YWx1ZXMvI251bWJlci12YWx1ZT5cbiAgICB2YXIgQ1NTX05VTUJFUiA9IFwiWy1cXFxcK10/XFxcXGQqXFxcXC5cXFxcZCslP1wiO1xuXG4gICAgLy8gQWxsb3cgcG9zaXRpdmUvbmVnYXRpdmUgaW50ZWdlci9udW1iZXIuICBEb24ndCBjYXB0dXJlIHRoZSBlaXRoZXIvb3IsIGp1c3QgdGhlIGVudGlyZSBvdXRjb21lLlxuICAgIHZhciBDU1NfVU5JVCA9IFwiKD86XCIgKyBDU1NfTlVNQkVSICsgXCIpfCg/OlwiICsgQ1NTX0lOVEVHRVIgKyBcIilcIjtcblxuICAgIC8vIEFjdHVhbCBtYXRjaGluZy5cbiAgICAvLyBQYXJlbnRoZXNlcyBhbmQgY29tbWFzIGFyZSBvcHRpb25hbCwgYnV0IG5vdCByZXF1aXJlZC5cbiAgICAvLyBXaGl0ZXNwYWNlIGNhbiB0YWtlIHRoZSBwbGFjZSBvZiBjb21tYXMgb3Igb3BlbmluZyBwYXJlblxuICAgIHZhciBQRVJNSVNTSVZFX01BVENIMyA9IFwiW1xcXFxzfFxcXFwoXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVxcXFxzKlxcXFwpP1wiO1xuICAgIHZhciBQRVJNSVNTSVZFX01BVENINCA9IFwiW1xcXFxzfFxcXFwoXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVxcXFxzKlxcXFwpP1wiO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgQ1NTX1VOSVQ6IG5ldyBSZWdFeHAoQ1NTX1VOSVQpLFxuICAgICAgICByZ2I6IG5ldyBSZWdFeHAoXCJyZ2JcIiArIFBFUk1JU1NJVkVfTUFUQ0gzKSxcbiAgICAgICAgcmdiYTogbmV3IFJlZ0V4cChcInJnYmFcIiArIFBFUk1JU1NJVkVfTUFUQ0g0KSxcbiAgICAgICAgaHNsOiBuZXcgUmVnRXhwKFwiaHNsXCIgKyBQRVJNSVNTSVZFX01BVENIMyksXG4gICAgICAgIGhzbGE6IG5ldyBSZWdFeHAoXCJoc2xhXCIgKyBQRVJNSVNTSVZFX01BVENINCksXG4gICAgICAgIGhzdjogbmV3IFJlZ0V4cChcImhzdlwiICsgUEVSTUlTU0lWRV9NQVRDSDMpLFxuICAgICAgICBoc3ZhOiBuZXcgUmVnRXhwKFwiaHN2YVwiICsgUEVSTUlTU0lWRV9NQVRDSDQpLFxuICAgICAgICBoZXgzOiAvXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC8sXG4gICAgICAgIGhleDY6IC9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkLyxcbiAgICAgICAgaGV4NDogL14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxcbiAgICAgICAgaGV4ODogL14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkL1xuICAgIH07XG59KSgpO1xuXG4vLyBgaXNWYWxpZENTU1VuaXRgXG4vLyBUYWtlIGluIGEgc2luZ2xlIHN0cmluZyAvIG51bWJlciBhbmQgY2hlY2sgdG8gc2VlIGlmIGl0IGxvb2tzIGxpa2UgYSBDU1MgdW5pdFxuLy8gKHNlZSBgbWF0Y2hlcnNgIGFib3ZlIGZvciBkZWZpbml0aW9uKS5cbmZ1bmN0aW9uIGlzVmFsaWRDU1NVbml0KGNvbG9yKSB7XG4gICAgcmV0dXJuICEhbWF0Y2hlcnMuQ1NTX1VOSVQuZXhlYyhjb2xvcik7XG59XG5cbi8vIGBzdHJpbmdJbnB1dFRvT2JqZWN0YFxuLy8gUGVybWlzc2l2ZSBzdHJpbmcgcGFyc2luZy4gIFRha2UgaW4gYSBudW1iZXIgb2YgZm9ybWF0cywgYW5kIG91dHB1dCBhbiBvYmplY3Rcbi8vIGJhc2VkIG9uIGRldGVjdGVkIGZvcm1hdC4gIFJldHVybnMgYHsgciwgZywgYiB9YCBvciBgeyBoLCBzLCBsIH1gIG9yIGB7IGgsIHMsIHZ9YFxuZnVuY3Rpb24gc3RyaW5nSW5wdXRUb09iamVjdChjb2xvcikge1xuXG4gICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKHRyaW1MZWZ0LCcnKS5yZXBsYWNlKHRyaW1SaWdodCwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIG5hbWVkID0gZmFsc2U7XG4gICAgaWYgKG5hbWVzW2NvbG9yXSkge1xuICAgICAgICBjb2xvciA9IG5hbWVzW2NvbG9yXTtcbiAgICAgICAgbmFtZWQgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb2xvciA9PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgIHJldHVybiB7IHI6IDAsIGc6IDAsIGI6IDAsIGE6IDAsIGZvcm1hdDogXCJuYW1lXCIgfTtcbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gbWF0Y2ggc3RyaW5nIGlucHV0IHVzaW5nIHJlZ3VsYXIgZXhwcmVzc2lvbnMuXG4gICAgLy8gS2VlcCBtb3N0IG9mIHRoZSBudW1iZXIgYm91bmRpbmcgb3V0IG9mIHRoaXMgZnVuY3Rpb24gLSBkb24ndCB3b3JyeSBhYm91dCBbMCwxXSBvciBbMCwxMDBdIG9yIFswLDM2MF1cbiAgICAvLyBKdXN0IHJldHVybiBhbiBvYmplY3QgYW5kIGxldCB0aGUgY29udmVyc2lvbiBmdW5jdGlvbnMgaGFuZGxlIHRoYXQuXG4gICAgLy8gVGhpcyB3YXkgdGhlIHJlc3VsdCB3aWxsIGJlIHRoZSBzYW1lIHdoZXRoZXIgdGhlIHRpbnljb2xvciBpcyBpbml0aWFsaXplZCB3aXRoIHN0cmluZyBvciBvYmplY3QuXG4gICAgdmFyIG1hdGNoO1xuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5yZ2IuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IHI6IG1hdGNoWzFdLCBnOiBtYXRjaFsyXSwgYjogbWF0Y2hbM10gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLnJnYmEuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IHI6IG1hdGNoWzFdLCBnOiBtYXRjaFsyXSwgYjogbWF0Y2hbM10sIGE6IG1hdGNoWzRdIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oc2wuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgbDogbWF0Y2hbM10gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzbGEuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgbDogbWF0Y2hbM10sIGE6IG1hdGNoWzRdIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oc3YuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgdjogbWF0Y2hbM10gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzdmEuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgdjogbWF0Y2hbM10sIGE6IG1hdGNoWzRdIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oZXg4LmV4ZWMoY29sb3IpKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzFdKSxcbiAgICAgICAgICAgIGc6IHBhcnNlSW50RnJvbUhleChtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10pLFxuICAgICAgICAgICAgYTogY29udmVydEhleFRvRGVjaW1hbChtYXRjaFs0XSksXG4gICAgICAgICAgICBmb3JtYXQ6IG5hbWVkID8gXCJuYW1lXCIgOiBcImhleDhcIlxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaGV4Ni5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50RnJvbUhleChtYXRjaFsxXSksXG4gICAgICAgICAgICBnOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMl0pLFxuICAgICAgICAgICAgYjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzNdKSxcbiAgICAgICAgICAgIGZvcm1hdDogbmFtZWQgPyBcIm5hbWVcIiA6IFwiaGV4XCJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhleDQuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMV0gKyAnJyArIG1hdGNoWzFdKSxcbiAgICAgICAgICAgIGc6IHBhcnNlSW50RnJvbUhleChtYXRjaFsyXSArICcnICsgbWF0Y2hbMl0pLFxuICAgICAgICAgICAgYjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzNdICsgJycgKyBtYXRjaFszXSksXG4gICAgICAgICAgICBhOiBjb252ZXJ0SGV4VG9EZWNpbWFsKG1hdGNoWzRdICsgJycgKyBtYXRjaFs0XSksXG4gICAgICAgICAgICBmb3JtYXQ6IG5hbWVkID8gXCJuYW1lXCIgOiBcImhleDhcIlxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaGV4My5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50RnJvbUhleChtYXRjaFsxXSArICcnICsgbWF0Y2hbMV0pLFxuICAgICAgICAgICAgZzogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzJdICsgJycgKyBtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10gKyAnJyArIG1hdGNoWzNdKSxcbiAgICAgICAgICAgIGZvcm1hdDogbmFtZWQgPyBcIm5hbWVcIiA6IFwiaGV4XCJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlV0NBRzJQYXJtcyhwYXJtcykge1xuICAgIC8vIHJldHVybiB2YWxpZCBXQ0FHMiBwYXJtcyBmb3IgaXNSZWFkYWJsZS5cbiAgICAvLyBJZiBpbnB1dCBwYXJtcyBhcmUgaW52YWxpZCwgcmV0dXJuIHtcImxldmVsXCI6XCJBQVwiLCBcInNpemVcIjpcInNtYWxsXCJ9XG4gICAgdmFyIGxldmVsLCBzaXplO1xuICAgIHBhcm1zID0gcGFybXMgfHwge1wibGV2ZWxcIjpcIkFBXCIsIFwic2l6ZVwiOlwic21hbGxcIn07XG4gICAgbGV2ZWwgPSAocGFybXMubGV2ZWwgfHwgXCJBQVwiKS50b1VwcGVyQ2FzZSgpO1xuICAgIHNpemUgPSAocGFybXMuc2l6ZSB8fCBcInNtYWxsXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxldmVsICE9PSBcIkFBXCIgJiYgbGV2ZWwgIT09IFwiQUFBXCIpIHtcbiAgICAgICAgbGV2ZWwgPSBcIkFBXCI7XG4gICAgfVxuICAgIGlmIChzaXplICE9PSBcInNtYWxsXCIgJiYgc2l6ZSAhPT0gXCJsYXJnZVwiKSB7XG4gICAgICAgIHNpemUgPSBcInNtYWxsXCI7XG4gICAgfVxuICAgIHJldHVybiB7XCJsZXZlbFwiOmxldmVsLCBcInNpemVcIjpzaXplfTtcbn1cblxuLy8gTm9kZTogRXhwb3J0IGZ1bmN0aW9uXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gdGlueWNvbG9yO1xufVxuLy8gQU1EL3JlcXVpcmVqczogRGVmaW5lIHRoZSBtb2R1bGVcbmVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbiAoKSB7cmV0dXJuIHRpbnljb2xvcjt9KTtcbn1cbi8vIEJyb3dzZXI6IEV4cG9zZSB0byB3aW5kb3dcbmVsc2Uge1xuICAgIHdpbmRvdy50aW55Y29sb3IgPSB0aW55Y29sb3I7XG59XG5cbn0pKE1hdGgpO1xuIiwgImltcG9ydCB7IENvbW1hbmQsIEV4dHJhQnV0dG9uQ29tcG9uZW50LCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luTWFuaWZlc3QsIFNldHRpbmdzVGFiIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB0eXBlIHsgQ29tcG9zZWQsIEZ1bmMsIEpTT05TZXRBcnJheU1hcCwgTW9kZSB9IGZyb20gXCIuL3V0aWxcIjtcclxuaW1wb3J0IHsgREFDU2V0dGluZ3NUYWIsIERFRkFVTFRfU0VUVElOR1MgfSBmcm9tIFwic2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgTW9kZXMsIGNvbXBvc2UsIGdldFNuaXBwZXRJdGVtcywgbWFrZUFycmF5LCBxdWVyeVRleHQsIHJlbW92ZVNldHVwRGVidWdOb3RpY2UsIHNpbXBsZUNhbGMgfSBmcm9tICcuL3V0aWwnO1xyXG5cclxuaW1wb3J0IHsgYXJvdW5kIH0gZnJvbSAnbW9ua2V5LWFyb3VuZCc7XHJcblxyXG52YXIgdGlueWNvbG9yID0gcmVxdWlyZShcInRpbnljb2xvcjJcIik7XHJcblxyXG5jb25zdCBDU1NfREVMQVkgPSAyMDA7IC8vIGRlbGF5IGFmdGVyIGVuYWJsaW5nL2Rpc2FibGluZyBjc3MgdG8gYWxsb3cgZm9yIG9ic2lkaWFuIHRvIHJlbGVjdCBjaGFuZ2VzIGJlZm9yZSByZWZyZXNoaW5nXHJcbmNvbnN0IFJFU0VUX0RFTEFZID0gMTAwMDsgLy8gZGVsYXkgYWZ0ZXIgcmVzZXR0aW5nIHRvIGFsbG93IGZvciBvYnNpZGlhbiB0byByZWxlY3QgY2hhbmdlcyBiZWZvcmUgcmVmcmVzaGluZ1xyXG5cclxuLy8gdGhlc2UgaW50ZXJmYWNlcyBhbGxvdyBhIGxldmVsIG9mIHR5cGUgY2hlY2tpbmcgZm9yIHRoZSBhcnJheXMgYmVsb3dcclxuaW50ZXJmYWNlIERBQ0NvbW1hbmQgeyBpZDoga2V5b2YgZGl2aWRlQW5kQ29ucXVlcjsgbmFtZTogc3RyaW5nOyB9XHJcbmludGVyZmFjZSBEQUNCdXR0b24geyBpZDoga2V5b2YgZGl2aWRlQW5kQ29ucXVlcjsgdG9vbHRpcDogc3RyaW5nOyB9XHJcbmludGVyZmFjZSBOYW1lTklEIHsgbmFtZTogc3RyaW5nOyBpZDogc3RyaW5nOyBhdXRob3I/OiBzdHJpbmc7IGRlc2NyaXB0aW9uPzogc3RyaW5nOyB9XHJcblxyXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cclxuLy8gcHJldHRpZXItaWdub3JlXHJcbmNvbnN0IHBsdWdpbkNvbW1hbmRzOiBEQUNDb21tYW5kW10gPSBbXHJcblx0eyBpZDogXCJyZXNldFwiLCBcdFx0bmFtZTogXCJQbHVnaW4gUmVzZXQgLSBmb3JnZXQgdGhlIG9yaWdpbmFsIHN0YXRlIGFuZCBzZXQgdGhlIGN1cnJlbnQgc3RhdGUgYXMgdGhlIG5ldyBvcmlnaW5hbCBzdGF0ZVwiIH0sXHJcblx0eyBpZDogXCJyZXN0b3JlXCIsIFx0bmFtZTogXCJQbHVnaW4gUmVzdG9yZSAtIHJldHVybiB0byB0aGUgb3JpZ2luYWwgc3RhdGVcIiB9LFxyXG5cdHsgaWQ6IFwidW5CaXNlY3RcIiwgXHRuYW1lOiBcIlBsdWdpbiBVbi1CaXNlY3QgLSBVbmRvIHRoZSBsYXN0IGJpc2VjdGlvbiwgb3IgZW5hYmxlIGFsbCBwbHVnaW5zIGlmIGluIHRoZSBvcmlnaW5hbCBzdGF0ZVwiIH0sXHJcblx0eyBpZDogXCJiaXNlY3RcIiwgXHRuYW1lOiBcIlBsdWdpbiBCaXNlY3QgLSBEaXNhYmxlIGhhbGYgb2YgdGhlIGFjdGl2ZSBwbHVnaW5zLCBvciByZXR1cm4gdG8gdGhlIG9yaWdpbmFsIHN0YXRlIGlmIGFsbCBwbHVnaW5zIGFyZSBhY3RpdmVcIiB9LFxyXG5cdHsgaWQ6IFwicmVCaXNlY3RcIiwgXHRuYW1lOiBcIlBsdWdpbiBSZS1CaXNlY3QgLSBVbmRvIHRoZSBsYXN0IGJpc2VjdGlvbiwgdGhlbiBkaXNhYmxlIHRoZSBvdGhlciBoYWxmXCIgfSxcclxuXTtcclxuXHJcbmNvbnN0IHNuaXBwZXRDb21tYW5kczogREFDQ29tbWFuZFtdID0gW1xyXG5cdHsgaWQ6IFwicmVzZXRcIiwgXHRcdG5hbWU6IFwiU25pcHBldCBSZXNldCAtIGZvcmdldCB0aGUgb3JpZ2luYWwgc3RhdGUgYW5kIHNldCB0aGUgY3VycmVudCBzdGF0ZSBhcyB0aGUgbmV3IG9yaWdpbmFsIHN0YXRlXCIgfSxcclxuXHR7IGlkOiBcInJlc3RvcmVcIiwgXHRuYW1lOiBcIlNuaXBwZXQgUmVzdG9yZSAtIHJldHVybiB0byB0aGUgb3JpZ2luYWwgc3RhdGVcIiB9LFxyXG5cdHsgaWQ6IFwidW5CaXNlY3RcIiwgXHRuYW1lOiBcIlNuaXBwZXQgVW4tQmlzZWN0IC0gVW5kbyB0aGUgbGFzdCBiaXNlY3Rpb24sIG9yIGVuYWJsZSBhbGwgc25pcHBldHMgaWYgaW4gdGhlIG9yaWdpbmFsIHN0YXRlXCIgfSxcclxuXHR7IGlkOiBcImJpc2VjdFwiLCBcdG5hbWU6IFwiU25pcHBldCBCaXNlY3QgLSBEaXNhYmxlIGhhbGYgb2YgdGhlIGFjdGl2ZSBzbmlwcGV0cywgb3IgcmV0dXJuIHRvIHRoZSBvcmlnaW5hbCBzdGF0ZSBpZiBhbGwgc25pcHBldHMgYXJlIGFjdGl2ZVwiIH0sXHJcblx0eyBpZDogXCJyZUJpc2VjdFwiLCBcdG5hbWU6IFwiU25pcHBldCBSZS1CaXNlY3QgLSBVbmRvIHRoZSBsYXN0IGJpc2VjdGlvbiwgdGhlbiBkaXNhYmxlIHRoZSBvdGhlciBoYWxmXCIgfSxcclxuXTtcclxuXHJcbi8vIHRoZSBvcmRlcmluZyBvZiB0aGVzZSBkZXRlcm1pbmVzIHRoZSBvcmRlciBpbiB0aGUgc2V0dGluZ3MgdGFiXHJcbmNvbnN0IFVJQnV0dG9uczogREFDQnV0dG9uW10gPSBbXHJcblx0eyBpZDogXCJyZXNldFwiLCBcdFx0dG9vbHRpcDogXCJSZXNldCAtIFNuYXBzaG90IHRoZSBjdXJyZW50IHN0YXRlXCIgfSxcclxuXHR7IGlkOiBcInJlc3RvcmVcIiwgXHR0b29sdGlwOiBcIlJlc3RvcmUgLSBSZXN0b3JlIFNuYXBzaG90XCIgfSxcclxuXHR7IGlkOiBcInVuQmlzZWN0XCIsIFx0dG9vbHRpcDogXCJVbkJpc2VjdCAtIEdvIHVwIGEgbGV2ZWxcIiB9LFxyXG5cdHsgaWQ6IFwiYmlzZWN0XCIsIFx0dG9vbHRpcDogXCJCaXNlY3QgLSBHbyBkb3duIGEgbGV2ZWxcIiB9LFxyXG5cdHsgaWQ6IFwicmVCaXNlY3RcIiwgXHR0b29sdGlwOiBcIlJlLWJpc2VjdCAtIEdvIGJhY2sgYSBsZXZlbCwgdGhlbiBkb3duIHRoZSBvdGhlciBzaWRlXCIgfSxcclxuXTtcclxuXHJcbmNvbnN0IGljb25zOiBba2V5b2YgZGl2aWRlQW5kQ29ucXVlciwgc3RyaW5nXVtdID0gW1xyXG5cdFtcInJlc2V0XCIsIFwiY2FtZXJhXCJdLFxyXG5cdFtcInJlc3RvcmVcIiwgXCJzd2l0Y2gtY2FtZXJhXCJdLFxyXG5cdFtcInVuQmlzZWN0XCIsIFwiZXhwYW5kXCJdLFxyXG5cdFtcImJpc2VjdFwiLCBcIm1pbmltaXplXCJdLFxyXG5cdFtcInJlQmlzZWN0XCIsIFwiZmxpcC12ZXJ0aWNhbFwiXVxyXG5dO1xyXG4vLyBwcmV0dGllci1pZ25vcmVcclxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBkaXZpZGVBbmRDb25xdWVyIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogdHlwZW9mIERFRkFVTFRfU0VUVElOR1M7XHJcblx0bWFuaWZlc3RzID0gdGhpcy5hcHAucGx1Z2lucy5tYW5pZmVzdHM7XHJcblx0ZW5hYmxlZENvbG9yOiBzdHJpbmcgPSBudWxsO1xyXG5cdGRpc2FibGVkQ29sb3I6IHN0cmluZyA9IG51bGw7XHJcblx0Z2V0SXRlbUVsczogKCkgPT4gRWxlbWVudFtdO1xyXG5cdGdldEFsbEl0ZW1zOiAoKSA9PiBTZXQ8TmFtZU5JRD47XHJcblx0Z2V0RW5hYmxlZEZyb21PYnNpZGlhbjogKCkgPT4gU2V0PHN0cmluZz47XHJcblx0ZW5hYmxlSXRlbTogKGl0ZW06IHN0cmluZykgPT4gUHJvbWlzZTxhbnk+O1xyXG5cdGRpc2FibGVJdGVtOiAoaXRlbTogc3RyaW5nKSA9PiBQcm9taXNlPGFueT47XHJcblx0Z2V0RmlsdGVyczogKCkgPT4gc3RyaW5nW107XHJcblxyXG5cdHByaXZhdGUgX21vZGU6IE1vZGUgPSBcInBsdWdpbnNcIjtcclxuXHRwdWJsaWMgZ2V0IG1vZGUoKTogTW9kZSB7IHJldHVybiB0aGlzLl9tb2RlOyB9XHJcblx0cHJpdmF0ZSBzZXRNb2RlKG1vZGU6IE1vZGUpIHsgdGhpcy5fbW9kZSA9IG1vZGU7IH0gLy8gdGhpcyBqdXN0IG1ha2VzIGl0IG1vcmUgZXhwbGljaXQgYW5kIGVhc2llciB0byBmaW5kIHdoZXJlIHRoZSBtb2RlIGlzIHNldFxyXG5cclxuXHRtb2RlMkNhbGw6IE1hcDxNb2RlLCBDb21wb3NlZD4gPSBuZXcgTWFwKCk7XHJcblx0bW9kZTJSZWZyZXNoOiBNYXA8TW9kZSwgKCkgPT4gdm9pZD4gPSBuZXcgTWFwKCk7XHJcblx0bW9kZTJUYWI6IE1hcDxNb2RlLCBTZXR0aW5nc1RhYj4gPSBuZXcgTWFwKCk7XHJcblx0bW9kZTJDb250cm9sczogTWFwPE1vZGUsIEhUTUxFbGVtZW50W10+ID0gbmV3IE1hcCgpO1xyXG5cdG1vZGUyRGlzYWJsZWRTdGF0ZXM6IE1hcDxNb2RlLCBTZXQ8c3RyaW5nPltdPiA9IG5ldyBNYXAoKTtcclxuXHRtb2RlMlNuYXBzaG90OiBNYXA8TW9kZSwgU2V0PHN0cmluZz4+ID0gbmV3IE1hcCgpO1xyXG5cdG1vZGUyTGV2ZWw6IE1hcDxNb2RlLCBudW1iZXI+ID0gbmV3IE1hcChNb2Rlcy5tYXAobW9kZSA9PiBbbW9kZSwgMV0pKTtcclxuXHRrZXkySWNvbjogTWFwPGtleW9mIGRpdmlkZUFuZENvbnF1ZXIsIHN0cmluZz4gPSBuZXcgTWFwKGljb25zKTtcclxuXHRkaXNhYmxlQnV0dG9ucyA9IGZhbHNlO1xyXG5cclxuXHRnZXQgZGlzYWJsZWRTdGF0ZSgpIHsgcmV0dXJuIHRoaXMubW9kZTJEaXNhYmxlZFN0YXRlcy5nZXQodGhpcy5tb2RlKSA/PyBbXTsgfVxyXG5cdHNldCBkaXNhYmxlZFN0YXRlKHMpIHsgdGhpcy5tb2RlMkRpc2FibGVkU3RhdGVzLnNldCh0aGlzLm1vZGUsIHMgPz8gW10pOyB9XHJcblxyXG5cdGdldCBzbmFwc2hvdCgpIHsgcmV0dXJuIHRoaXMubW9kZTJTbmFwc2hvdC5nZXQodGhpcy5tb2RlKSA/PyBuZXcgU2V0KCk7IH1cclxuXHRzZXQgc25hcHNob3QocykgeyB0aGlzLm1vZGUyU25hcHNob3Quc2V0KHRoaXMubW9kZSwgcyA/PyBuZXcgU2V0KCkpOyB9XHJcblxyXG5cdGdldCBjb250cm9scygpIHsgcmV0dXJuIHRoaXMubW9kZTJDb250cm9scy5nZXQodGhpcy5tb2RlKSA/PyBbXTsgfVxyXG5cdHNldCBjb250cm9scyhjKSB7IHRoaXMubW9kZTJDb250cm9scy5zZXQodGhpcy5tb2RlLCBjID8/IFtdKTsgfVxyXG5cclxuXHRnZXQgdGFiKCkgeyByZXR1cm4gdGhpcy5tb2RlMlRhYi5nZXQodGhpcy5tb2RlKTsgfVxyXG5cdGdldCB3cmFwcGVyKCkgeyByZXR1cm4gdGhpcy5tb2RlMkNhbGwuZ2V0KHRoaXMubW9kZSk7IH1cclxuXHRnZXQgcmVmcmVzaFRhYigpIHsgcmV0dXJuIHRoaXMubW9kZTJSZWZyZXNoLmdldCh0aGlzLm1vZGUpOyB9XHJcblx0c2V0IHJlZnJlc2hUYWIoZjogKCkgPT4gdm9pZCkgeyB0aGlzLm1vZGUyUmVmcmVzaC5zZXQodGhpcy5tb2RlLCBmKTsgfVxyXG5cclxuXHRzZXQgbGV2ZWwobCkgeyB0aGlzLm1vZGUyTGV2ZWwuc2V0KHRoaXMubW9kZSwgbCk7IH1cclxuXHRnZXQgbGV2ZWwoKSB7XHJcblx0XHRpZiAoIXRoaXMubW9kZTJMZXZlbC5oYXModGhpcy5tb2RlKSkgdGhpcy5tb2RlMkxldmVsLnNldCh0aGlzLm1vZGUsIDEpO1xyXG5cdFx0cmV0dXJuIHRoaXMubW9kZTJMZXZlbC5nZXQodGhpcy5tb2RlKTtcclxuXHR9XHJcblxyXG5cclxuXHRhc3luYyBvbnVubG9hZCgpIHtcclxuXHRcdHRoaXMuc2F2ZURhdGEoKTtcclxuXHRcdGNvbnNvbGUubG9nKFwiRGl2aWRlICYgQ29ucXVlciBQbHVnaW4gdW5sb2FkZWQuXCIpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBEQUNTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cdFx0Y29uc29sZS5sb2coXCJEaXZpZGUgJiBDb25xdWVyIFBsdWdpbiBsb2FkZWQuXCIpO1xyXG5cclxuXHRcdGNvbnN0IG5vdGljZSA9ICgpID0+IHtcclxuXHRcdFx0cmVtb3ZlU2V0dXBEZWJ1Z05vdGljZSgpOyAvLyB0aGVzZSBoYXZlIG5vIHRpbWVvdXRcclxuXHRcdFx0bGV0IG5vdGljX3N0ciA9IGAke3RoaXMubW9kZX0gbGV2ZWw6JHt0aGlzLmxldmVsfSBgO1xyXG5cdFx0XHRpZiAodGhpcy5sZXZlbCA9PT0gMSkgbmV3IE5vdGljZShub3RpY19zdHIgKyBcIi0gTm93IGluIHRoZSBvcmlnaW5hbCBzdGF0ZVwiKTtcclxuXHRcdFx0ZWxzZSBpZiAodGhpcy5sZXZlbCA9PT0gMCkgbmV3IE5vdGljZShub3RpY19zdHIgKyBcIi0gRW5hYmxlZCBBbGxcIik7XHJcblx0XHRcdGVsc2UgbmV3IE5vdGljZShub3RpY19zdHIpO1xyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBtYXliZVJlbG9hZCA9ICgpID0+IHtcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MucmVsb2FkQWZ0ZXJQbHVnaW5DaGFuZ2VzKSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuYXBwLmNvbW1hbmRzLmV4ZWN1dGVDb21tYW5kQnlJZChcImFwcDpyZWxvYWRcIiksIDIwMDApO1xyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBtYXliZUluaXQgPSAoKSA9PiB7XHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmluaXRpYWxpemVBZnRlclBsdWdpbkNoYW5nZXMpIHJldHVybiB0aGlzLmFwcC5wbHVnaW5zLmluaXRpYWxpemUoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gbW9kZTJDYWxsIHN0b3JlcyBmdW5jdGlvbnMgd2hpY2gsIHdoZW4gY2FsbGVkIHdpdGggYSBmdW5jdGlvbiwgcmV0dXJuIGNvbXBvc2VkIGZ1bmN0aW9ucyB0aGF0IHdpbGwgYXV0b21hdGljYWxseSBzd2l0Y2ggbW9kZXMgYW1vbmcgb3RoZXIgdGhpbmdzXHJcblx0XHR0aGlzLm1vZGUyQ2FsbCA9IG5ldyBNYXAoTW9kZXMubWFwKG1vZGUgPT4gW21vZGUsIChmOiBGdW5jKSA9PiBhc3luYyAoKSA9PiBjb21wb3NlKHRoaXMsXHJcblx0XHRcdCgpID0+IHRoaXMuc2V0TW9kZShtb2RlKSxcclxuXHRcdFx0KCkgPT4gY29uc29sZS5sb2coJ2NhbGxlZDogJywgZi5uYW1lKSxcclxuXHRcdFx0ZiwgKCkgPT4gdGhpcy5tb2RlMlJlZnJlc2guZ2V0KHRoaXMubW9kZSkoKSwgbWF5YmVSZWxvYWQsIG1heWJlSW5pdCwgbm90aWNlXHJcblx0XHQpLmJpbmQodGhpcykoKV0pKTtcclxuXHJcblxyXG5cclxuXHRcdC8vLy8vLy8vLy8vLyBQcmV0dHkgbXVjaCBhbnl0aGluZyB0aGF0IGRpZmZlcnMgYmV0d2VlbiBtb2RlcyBpcyBzcGVjaWZpZWQgaGVyZSAvLy8vLy8vLy8vLy8vL1xyXG5cclxuXHRcdC8vIG92ZXJyaWRlIHRoZSBkaXNwbGF5IG9mIHRhYnMgdG8gYWRkIGNvbnRyb2xzXHJcblx0XHR0aGlzLm1vZGUyVGFiID0gbmV3IE1hcDxNb2RlLCBTZXR0aW5nc1RhYj4oKFtcclxuXHRcdFx0W1wicGx1Z2luc1wiLCBcImNvbW11bml0eS1wbHVnaW5zXCJdLFxyXG5cdFx0XHRbXCJzbmlwcGV0c1wiLCBcImFwcGVhcmFuY2VcIl1cclxuXHRcdF0gYXMgW01vZGUsIHN0cmluZ11bXSkubWFwKChbbW9kZSwgaWRdKSA9PiBbbW9kZSwgdGhpcy5nZXRTZXR0aW5nc1RhYihpZCkgYXMgU2V0dGluZ3NUYWJdKSk7XHJcblxyXG5cdFx0Ly8gc3RvcmUgbW9kZSBzcGVjaWZpYyBpbmZvIGluIHRoZSByZXBlY3RpdmUgdGFiXHJcblx0XHRPYmplY3QuYXNzaWduKFxyXG5cdFx0XHR0aGlzLm1vZGUyVGFiLmdldCgncGx1Z2lucycpLFxyXG5cdFx0XHR7IGhlYWRpbmc6ICdJbnN0YWxsZWQgcGx1Z2lucycsIHJlbG9hZExhYmVsOiAnUmVsb2FkIHBsdWdpbnMnLCByZWxvYWQ6ICgpID0+IHRoaXMuYXBwLnBsdWdpbnMubG9hZE1hbmlmZXN0cygpIH0pO1xyXG5cdFx0T2JqZWN0LmFzc2lnbihcclxuXHRcdFx0dGhpcy5tb2RlMlRhYi5nZXQoJ3NuaXBwZXRzJyksXHJcblx0XHRcdHsgaGVhZGluZzogJ0NTUyBzbmlwcGV0cycsIHJlbG9hZExhYmVsOiAnUmVsb2FkIHNuaXBwZXRzJywgcmVsb2FkOiAoKSA9PiB0aGlzLmFwcC5jdXN0b21Dc3MubG9hZFNuaXBwZXRzKCkgfSk7XHJcblxyXG5cdFx0Wy4uLnRoaXMubW9kZTJUYWIuZW50cmllcygpXS5mb3JFYWNoKChbbW9kZSwgdGFiXSkgPT4gdGhpcy5yZWdpc3Rlcihhcm91bmQodGFiLCB7IGRpc3BsYXk6IHRoaXMub3ZlcnJpZGVEaXNwbGF5LmJpbmQodGhpcywgbW9kZSwgdGFiKSB9KSkpO1xyXG5cclxuXHRcdHRoaXMuZ2V0SXRlbUVscyA9ICgpID0+IHtcclxuXHRcdFx0c3dpdGNoICh0aGlzLm1vZGUpIHtcclxuXHRcdFx0XHRjYXNlICdwbHVnaW5zJzogcmV0dXJuIG1ha2VBcnJheSh0aGlzLnRhYi5jb250YWluZXJFbC5maW5kKFwiLmluc3RhbGxlZC1wbHVnaW5zLWNvbnRhaW5lclwiKS5jaGlsZHJlbik7XHJcblx0XHRcdFx0Y2FzZSAnc25pcHBldHMnOiByZXR1cm4gZ2V0U25pcHBldEl0ZW1zKHRoaXMudGFiKTtcclxuXHRcdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG1vZGU6IFwiICsgdGhpcy5tb2RlKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLmdldEFsbEl0ZW1zID0gKCkgPT4ge1xyXG5cdFx0XHRzd2l0Y2ggKHRoaXMubW9kZSkge1xyXG5cdFx0XHRcdGNhc2UgJ3BsdWdpbnMnOiByZXR1cm4gbmV3IFNldChPYmplY3QudmFsdWVzKHRoaXMubWFuaWZlc3RzKSk7XHJcblx0XHRcdFx0Y2FzZSAnc25pcHBldHMnOiByZXR1cm4gbmV3IFNldCgodGhpcy5hcHAuY3VzdG9tQ3NzLnNuaXBwZXRzKS5tYXAocyA9PiAoeyBuYW1lOiBzLCBpZDogcyB9KSkpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMuZ2V0RW5hYmxlZEZyb21PYnNpZGlhbiA9ICgpID0+IHtcclxuXHRcdFx0c3dpdGNoICh0aGlzLm1vZGUpIHtcclxuXHRcdFx0XHRjYXNlICdwbHVnaW5zJzogcmV0dXJuIHRoaXMuYXBwLnBsdWdpbnMuZW5hYmxlZFBsdWdpbnM7XHJcblx0XHRcdFx0Ly8gZW5hYmxlZFNuaXBwZXRzIGNhbiBzb21ldGltZXMgYW5ub3lpbmdseSBpbmNsdWRlIHNuaXBwZXRzIHRoYXQgd2VyZSByZW1vdmVkIHdpdGhvdXQgZGlzYWJsaW5nIFxyXG5cdFx0XHRcdGNhc2UgJ3NuaXBwZXRzJzogcmV0dXJuIG5ldyBTZXQodGhpcy5hcHAuY3VzdG9tQ3NzLnNuaXBwZXRzLmZpbHRlcigoc25pcHBldCkgPT4gdGhpcy5hcHAuY3VzdG9tQ3NzLmVuYWJsZWRTbmlwcGV0cy5oYXMoc25pcHBldCkpKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLmVuYWJsZUl0ZW0gPSAoaWQ6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRzd2l0Y2ggKHRoaXMubW9kZSkge1xyXG5cdFx0XHRcdGNhc2UgJ3BsdWdpbnMnOiByZXR1cm4gdGhpcy5hcHAucGx1Z2lucy5lbmFibGVQbHVnaW5BbmRTYXZlKGlkKTtcclxuXHRcdFx0XHRjYXNlICdzbmlwcGV0cyc6XHJcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5hcHAuY3VzdG9tQ3NzLnNldENzc0VuYWJsZWRTdGF0dXMoaWQsIHRydWUpO1xyXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoe30pLCBDU1NfREVMQVkpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5kaXNhYmxlSXRlbSA9IChpZDogc3RyaW5nKSA9PiB7XHJcblx0XHRcdHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcblx0XHRcdFx0Y2FzZSAncGx1Z2lucyc6IHJldHVybiB0aGlzLmFwcC5wbHVnaW5zLmRpc2FibGVQbHVnaW5BbmRTYXZlKGlkKTtcclxuXHRcdFx0XHRjYXNlICdzbmlwcGV0cyc6XHJcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5hcHAuY3VzdG9tQ3NzLnNldENzc0VuYWJsZWRTdGF0dXMoaWQsIGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiByZXNvbHZlKHt9KSwgQ1NTX0RFTEFZKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMuZ2V0RmlsdGVycyA9ICgpID0+IHtcclxuXHRcdFx0c3dpdGNoICh0aGlzLm1vZGUpIHtcclxuXHRcdFx0XHRjYXNlICdwbHVnaW5zJzogcmV0dXJuIHRoaXMuc2V0dGluZ3MucGx1Z2luRmlsdGVyUmVnZXhlcztcclxuXHRcdFx0XHRjYXNlICdzbmlwcGV0cyc6IHJldHVybiB0aGlzLnNldHRpbmdzLnNuaXBwZXRGaWx0ZXJSZWdleGVzO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kcygpO1xyXG5cdFx0Ly8gd2hlbiB0aGUgd29ya3NwYWNlIGlzIHJlYWR5LCBnZXQgdGhlIGNvbXB1dGVkIGNoZWNrYm94IGNvbG9yc1xyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xyXG5cdFx0XHRsZXQgYXBwQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImFwcC1jb250YWluZXJcIikuaXRlbSgwKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHRcdFx0dGhpcy5lbmFibGVkQ29sb3IgPz89IHRpbnljb2xvcihzaW1wbGVDYWxjKGFwcENvbnRhaW5lci5nZXRDc3NQcm9wZXJ0eVZhbHVlKCctLWNoZWNrYm94LWNvbG9yJykpKS5zcGluKDE4MCkudG9IZXhTdHJpbmcoKTtcclxuXHRcdFx0dGhpcy5kaXNhYmxlZENvbG9yID8/PSB0aW55Y29sb3IodGhpcy5lbmFibGVkQ29sb3IpLmRhcmtlbigzNSkudG9IZXhTdHJpbmcoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGFzeW5jIGxvYWREYXRhKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHN1cGVyLmxvYWREYXRhKCkpO1xyXG5cdFx0dGhpcy5tb2RlMkRpc2FibGVkU3RhdGVzID0gdGhpcy5zZXR0aW5ncy5kaXNhYmxlZFN0YXRlcyA/IG5ldyBNYXAoXHJcblx0XHRcdChPYmplY3QuZW50cmllcyhKU09OLnBhcnNlKHRoaXMuc2V0dGluZ3MuZGlzYWJsZWRTdGF0ZXMpKSBhcyBKU09OU2V0QXJyYXlNYXApXHJcblx0XHRcdFx0Lm1hcCgoW21vZGUsIHN0YXRlc10pID0+IFttb2RlLCBzdGF0ZXMubWFwKHN0YXRlID0+IG5ldyBTZXQoc3RhdGUpKV0pXHJcblx0XHQpIDogbmV3IE1hcCgpO1xyXG5cdFx0dGhpcy5tb2RlMlNuYXBzaG90ID0gdGhpcy5zZXR0aW5ncy5zbmFwc2hvdHMgPyBuZXcgTWFwKFxyXG5cdFx0XHQoT2JqZWN0LmVudHJpZXMoSlNPTi5wYXJzZSh0aGlzLnNldHRpbmdzLnNuYXBzaG90cykpIGFzIEpTT05TZXRBcnJheU1hcClcclxuXHRcdFx0XHQubWFwKChbbW9kZSwgc3RhdGVzXSkgPT4gW21vZGUsIG5ldyBTZXQoc3RhdGVzKV0pXHJcblx0XHQpIDogbmV3IE1hcCgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGFzeW5jIHNhdmVEYXRhKHJlc3RvcmU6IGJvb2xlYW4gPSB0cnVlKSB7XHJcblx0XHRpZiAodGhpcy5tb2RlMkRpc2FibGVkU3RhdGVzKSB0aGlzLnNldHRpbmdzLmRpc2FibGVkU3RhdGVzID0gSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmZyb21FbnRyaWVzKFxyXG5cdFx0XHRbLi4udGhpcy5tb2RlMkRpc2FibGVkU3RhdGVzLmVudHJpZXMoKV0ubWFwKChbbW9kZSwgc2V0c10pID0+IFttb2RlLCBbLi4uc2V0c10ubWFwKHNldCA9PiBbLi4uc2V0XSldKVxyXG5cdFx0KSk7XHJcblx0XHRlbHNlIHRoaXMuc2V0dGluZ3MuZGlzYWJsZWRTdGF0ZXMgPSB1bmRlZmluZWQ7XHJcblxyXG5cdFx0aWYgKHRoaXMubW9kZTJTbmFwc2hvdCkgdGhpcy5zZXR0aW5ncy5zbmFwc2hvdHMgPSBKU09OLnN0cmluZ2lmeShPYmplY3QuZnJvbUVudHJpZXMoXHJcblx0XHRcdFsuLi50aGlzLm1vZGUyU25hcHNob3QuZW50cmllcygpXS5tYXAoKFttb2RlLCBzZXRdKSA9PiBbbW9kZSwgWy4uLnNldF1dKVxyXG5cdFx0KSk7XHJcblx0XHRlbHNlIHRoaXMuc2V0dGluZ3Muc25hcHNob3RzID0gdW5kZWZpbmVkO1xyXG5cclxuXHRcdGlmIChyZXN0b3JlKSBhd2FpdCB0aGlzLnJlc3RvcmUoKTtcclxuXHRcdGF3YWl0IHN1cGVyLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGRDb250cm9scygpIHtcclxuXHRcdGxldCBjb250YWluZXIgPSB0aGlzLmdldENvbnRyb2xDb250YWluZXIoKTtcclxuXHRcdHRoaXMubW9kZTJDb250cm9scyA/Pz0gbmV3IE1hcDxNb2RlLCBIVE1MRGl2RWxlbWVudFtdPigpO1xyXG5cdFx0aWYgKCF0aGlzLm1vZGUyQ29udHJvbHMuaGFzKHRoaXMubW9kZSkpIHRoaXMubW9kZTJDb250cm9scy5zZXQodGhpcy5tb2RlLFxyXG5cdFx0XHRbLi4uVUlCdXR0b25zLm1hcChvID0+IG5ldyBFeHRyYUJ1dHRvbkNvbXBvbmVudChjb250YWluZXIpXHJcblx0XHRcdFx0LnNldFRvb2x0aXAoby50b29sdGlwKVxyXG5cdFx0XHRcdC5zZXRJY29uKHRoaXMua2V5Mkljb24uZ2V0KG8uaWQpKVxyXG5cdFx0XHRcdC5vbkNsaWNrKHRoaXMud3JhcENhbGwodGhpcy5tb2RlLCBvLmlkKSlcclxuXHRcdFx0XHQuc2V0RGlzYWJsZWQoZmFsc2UpLmV4dHJhU2V0dGluZ3NFbFxyXG5cdFx0XHQpLCB0aGlzLmNyZWF0ZUxldmVsVGV4dCgpXVxyXG5cdFx0KTtcclxuXHRcdHRoaXMuY29udHJvbHMubGFzdCgpLnNldFRleHQoYExldmVsOiAke3RoaXMubW9kZTJMZXZlbC5nZXQodGhpcy5tb2RlKX1gKTtcclxuXHRcdHRoaXMuY29udHJvbHMuZm9yRWFjaChjb250cm9sID0+IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb250cm9sKSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZENvbW1hbmRzKCkge1xyXG5cdFx0dHlwZSBQQyA9IFBhcnRpYWw8Q29tbWFuZD47XHJcblx0XHRwbHVnaW5Db21tYW5kcy5mb3JFYWNoKGNvbW1hbmQgPT4gdGhpcy5hZGRDb21tYW5kKFxyXG5cdFx0XHRPYmplY3QuYXNzaWduKGNvbW1hbmQsIHsgY2FsbGJhY2s6IHRoaXMubW9kZTJDYWxsLmdldCgncGx1Z2lucycpKHRoaXNbY29tbWFuZC5pZF0gYXMgRnVuYykgfSBhcyBQQylcclxuXHRcdCkpO1xyXG5cdFx0c25pcHBldENvbW1hbmRzLmZvckVhY2goY29tbWFuZCA9PiB0aGlzLmFkZENvbW1hbmQoXHJcblx0XHRcdE9iamVjdC5hc3NpZ24oY29tbWFuZCwgeyBjYWxsYmFjazogdGhpcy5tb2RlMkNhbGwuZ2V0KCdzbmlwcGV0cycpKHRoaXNbY29tbWFuZC5pZF0gYXMgRnVuYykgfSBhcyBQQylcclxuXHRcdCkpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgYmlzZWN0KCkge1xyXG5cdFx0dGhpcy5sZXZlbCA9IHRoaXMubGV2ZWwgKyAxO1xyXG5cdFx0aWYgKCh0aGlzLmxldmVsKSA9PT0gMSkgeyB0aGlzLnJlc3RvcmUoKTsgcmV0dXJuOyB9XHJcblx0XHRjb25zdCB7IGVuYWJsZWQgfSA9IHRoaXMuZ2V0Q3VycmVudFN0YXRlKCk7XHJcblx0XHRjb25zdCBoYWxmID0gYXdhaXQgdGhpcy5kaXNhYmxlSXRlbXMoZW5hYmxlZC5zbGljZSgwLCBNYXRoLmZsb29yKGVuYWJsZWQubGVuZ3RoIC8gMikpKTtcclxuXHRcdGlmIChoYWxmLmxlbmd0aCA+IDApIHRoaXMuZGlzYWJsZWRTdGF0ZS5wdXNoKG5ldyBTZXQoaGFsZikpO1xyXG5cdFx0ZWxzZSB0aGlzLmxldmVsLS07XHJcblx0XHRyZXR1cm4gaGFsZjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyB1bkJpc2VjdCgpIHtcclxuXHRcdHRoaXMubGV2ZWwgPSB0aGlzLmxldmVsID4gMCA/IHRoaXMubGV2ZWwgLSAxIDogMDtcclxuXHRcdGNvbnN0IHsgZGlzYWJsZWQgfSA9IHRoaXMuZ2V0Q3VycmVudFN0YXRlKCk7XHJcblx0XHRhd2FpdCB0aGlzLmVuYWJsZUl0ZW1zKGRpc2FibGVkKTtcclxuXHRcdC8vIHRoaXMgYWxsb3dzIHVuYmlzZWN0IHRvIHR1cm4gb24gYWxsIHBsdWdpbnMgd2l0aG91dCBsb3NpbmcgdGhlIG9yaWdpbmFsIHN0YXRlXHJcblx0XHRpZiAodGhpcy5kaXNhYmxlZFN0YXRlLmxlbmd0aCA+IDEpIHJldHVybiB0aGlzLmRpc2FibGVkU3RhdGUucG9wKCk7XHJcblx0XHRyZXR1cm4gbmV3IFNldCgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGFzeW5jIHJlQmlzZWN0KCkge1xyXG5cdFx0aWYgKHRoaXMubGV2ZWwgPCAyKSB7XHJcblx0XHRcdG5ldyBOb3RpY2UoXCJDYW5ub3QgcmUtYmlzZWN0IHRoZSBvcmlnaW5hbCBzdGF0ZS5cIik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGNvbnN0IHJlZW5hYmxlZCA9IGF3YWl0IHRoaXMudW5CaXNlY3QoKTtcclxuXHRcdGNvbnN0IHsgZW5hYmxlZCB9ID0gdGhpcy5nZXRDdXJyZW50U3RhdGUoKTtcclxuXHRcdGNvbnN0IHRvRGlzYWJsZSA9IGVuYWJsZWQuZmlsdGVyKGlkID0+ICFyZWVuYWJsZWQuaGFzKGlkKSk7XHJcblx0XHRhd2FpdCB0aGlzLmRpc2FibGVJdGVtcyh0b0Rpc2FibGUpO1xyXG5cdFx0aWYgKHRvRGlzYWJsZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdHRoaXMuZGlzYWJsZWRTdGF0ZS5wdXNoKG5ldyBTZXQodG9EaXNhYmxlKSk7XHJcblx0XHRcdHRoaXMubGV2ZWwgPSB0aGlzLmxldmVsICsgMTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHRwdWJsaWMgcmVzZXQoKSB7XHJcblx0XHR0aGlzLmRpc2FibGVkU3RhdGUgPSB0aGlzLnNuYXBzaG90ID0gdW5kZWZpbmVkO1xyXG5cdFx0dGhpcy5sZXZlbCA9IDE7XHJcblx0XHRsZXQgeyBlbmFibGVkLCBkaXNhYmxlZCB9ID0gdGhpcy5nZXRFbmFibGVkRGlzYWJsZWQoKTtcclxuXHRcdHRoaXMuZGlzYWJsZWRTdGF0ZSA9IFtuZXcgU2V0KGRpc2FibGVkKV07XHJcblx0XHR0aGlzLnNuYXBzaG90ID0gbmV3IFNldChkaXNhYmxlZCk7XHJcblx0XHR0aGlzLnNhdmVEYXRhKGZhbHNlKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyByZXN0b3JlKCkge1xyXG5cdFx0aWYgKHRoaXMuZGlzYWJsZWRTdGF0ZS5sZW5ndGggPCAxKSByZXR1cm47XHJcblx0XHQvLyBsb2cgdGhlIGN1cnJlbnQgdGltZVxyXG5cdFx0Ly8gaWdub3JlIHRoZSBmaXJzdCBzdGF0ZSAoc2luY2UgaXQncyB0aGUgb3JpZ2luYWwgc3RhdGUpIGFuZCBkaXNhYmxlIHRoZSByZXN0IGluIHRoZSBvcmRlciB0aGV5IHdlcmUgZGlzYWJsZWRcclxuXHRcdHRoaXMuZGlzYWJsZWRTdGF0ZS5zbGljZSgxKS5yZXZlcnNlKCkubWFwKChzZXQpID0+IHRoaXMuZW5hYmxlSXRlbXMoc2V0KSk7XHJcblx0XHRhd2FpdCB0aGlzLmRpc2FibGVJdGVtcyh0aGlzLnNuYXBzaG90KTtcclxuXHRcdGF3YWl0IHRoaXMuYXBwLnBsdWdpbnMucmVxdWVzdFNhdmVDb25maWcoKTtcclxuXHRcdHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZXNldCgpLCBSRVNFVF9ERUxBWSk7IC8vIG9ic2lkaWFuIHRha2VzIGl0J3Mgc3dlZXQgdGltZSB0byB1cGRhdGUgd2hpY2ggcGx1Z2lucyBhcmUgZW5hYmxlZCBldmVuIGFmdGVyIHRoZSBwcm9taXNlIHJlc29sdmVzXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q3VycmVudFN0YXRlKCkge1xyXG5cdFx0Y29uc3QgeyBlbmFibGVkLCBkaXNhYmxlZCB9ID0gdGhpcy5nZXRFbmFibGVkRGlzYWJsZWQoKTtcclxuXHRcdHRoaXMuZGlzYWJsZWRTdGF0ZSA9IHRoaXMuZGlzYWJsZWRTdGF0ZS5sZW5ndGggPCAxID8gW25ldyBTZXQoZGlzYWJsZWQpXSA6IHRoaXMuZGlzYWJsZWRTdGF0ZTtcclxuXHRcdGNvbnN0IGN1cnJlbnREaXNhYmxlZCA9IHRoaXMuZGlzYWJsZWRTdGF0ZS5sYXN0KCk7XHJcblx0XHRyZXR1cm4geyBlbmFibGVkLCBkaXNhYmxlZDogY3VycmVudERpc2FibGVkIH07XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0RW5hYmxlZERpc2FibGVkKCkge1xyXG5cdFx0Ly8gdGhlIHdob2xlIHBvaW50IG9mIHVzaW5nIHNldHMgaXMgY29uc3RhbnQgdGltZSBsb29rdXAsIGJ1dCBqcyBpcyBkdW1iIGFuZCBkb2VzIHN0cmljdCBvYmplY3QgZXF1YWxpdHkgd2l0aCBubyBhbGxvd2FuY2UgZm9yIGN1c3RvbSBjb21wYXJhdG9yc1xyXG5cdFx0Ly8gd2l0aCBvdXIgc21hbGwgZGF0YSBzZXRzLCBpdCBwcm9iYWJseSB3b24ndCBodXJ0IHBlcmZvcm1hbmNlIGJ1dCB0aGlzIGlzIHRlY2huaWNhbGx5IE8obl4yKVxyXG5cdFx0bGV0IGV4Y2x1ZGVkID0gWy4uLnRoaXMuZ2V0RXhjbHVkZWRJdGVtcygpXTtcclxuXHRcdGxldCBpbmNsdWRlZCA9IFsuLi50aGlzLmdldEFsbEl0ZW1zKCldLmZpbHRlcihpdGVtID0+ICFleGNsdWRlZC5zb21lKGkgPT4gaS5pZCA9PT0gaXRlbS5pZCkpXHJcblx0XHRcdC5zb3J0KChhLCBiKSA9PiBiLm5hbWUubG9jYWxlQ29tcGFyZShhLm5hbWUpKSAvLyBzb3J0IGJ5IGRpc3BsYXkgbmFtZSByYXRoZXIgdGhhbiBpZFxyXG5cdFx0XHQubWFwKChpdGVtKSA9PiBpdGVtLmlkKTtcclxuXHRcdGxldCByZXN1bHQgPSB7XHJcblx0XHRcdGVuYWJsZWQ6IGluY2x1ZGVkLmZpbHRlcihpZCA9PiB0aGlzLmdldEVuYWJsZWRGcm9tT2JzaWRpYW4oKS5oYXMoaWQpKSxcclxuXHRcdFx0ZGlzYWJsZWQ6IGluY2x1ZGVkLmZpbHRlcihpZCA9PiAhdGhpcy5nZXRFbmFibGVkRnJvbU9ic2lkaWFuKCkuaGFzKGlkKSlcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEluY2x1ZGVkSXRlbXMobW9kZT86IE1vZGUpIHtcclxuXHRcdHJldHVybiB0aGlzLmdldEV4Y2x1ZGVkSXRlbXMobW9kZSwgdHJ1ZSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0RXhjbHVkZWRJdGVtcyhtb2RlPzogTW9kZSwgb3V0SW5jbHVkZWQ6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG5cdFx0bGV0IG9sZG1vZGUgPSB0aGlzLm1vZGU7XHJcblx0XHRpZiAobW9kZSkgdGhpcy5zZXRNb2RlKG1vZGUpO1xyXG5cdFx0Y29uc3QgcGx1Z2lucyA9IFsuLi50aGlzLmdldEFsbEl0ZW1zKCldLmZpbHRlcihcclxuXHRcdFx0KHA6IE5hbWVOSUQpID0+IG91dEluY2x1ZGVkICE9PSB0aGlzLmdldEZpbHRlcnMoKS5zb21lKFxyXG5cdFx0XHRcdGZpbHRlciA9PiBwLmlkLm1hdGNoKG5ldyBSZWdFeHAoZmlsdGVyLCBcImlcIikpXHJcblx0XHRcdFx0XHR8fCAodGhpcy5zZXR0aW5ncy5maWx0ZXJVc2luZ0Rpc3BsYXlOYW1lICYmIHAubmFtZS5tYXRjaChuZXcgUmVnRXhwKGZpbHRlciwgXCJpXCIpKSlcclxuXHRcdFx0XHRcdHx8ICh0aGlzLnNldHRpbmdzLmZpbHRlclVzaW5nQXV0aG9yICYmIHAuYXV0aG9yPy5tYXRjaChuZXcgUmVnRXhwKGZpbHRlciwgXCJpXCIpKSlcclxuXHRcdFx0XHRcdHx8ICh0aGlzLnNldHRpbmdzLmZpbHRlclVzaW5nRGVzY3JpcHRpb24gJiYgcC5kZXNjcmlwdGlvbj8ubWF0Y2gobmV3IFJlZ0V4cChmaWx0ZXIsIFwiaVwiKSkpXHJcblx0XHRcdCkpO1xyXG5cdFx0aWYgKG1vZGUpIHRoaXMuc2V0TW9kZShvbGRtb2RlKTtcclxuXHRcdHJldHVybiBuZXcgU2V0KHBsdWdpbnMpO1xyXG5cdH1cclxuXHJcblx0Ly8gZW5hYmxlcyBpbiB0aGUgcmV2ZXJzZSBvcmRlciB0aGF0IHRoZXkgd2VyZSBkaXNhYmxlZCAocHJvYmFibHkgbm90IG5lY2Vzc2FyeSwgYnV0IGl0J3MgbmljZSB0byBiZSBjb25zaXN0ZW50KVxyXG5cdGFzeW5jIGVuYWJsZUl0ZW1zKGl0ZW1zOiBzdHJpbmdbXSB8IFNldDxzdHJpbmc+KSB7XHJcblx0XHRpZiAoaXRlbXMgaW5zdGFuY2VvZiBTZXQpIGl0ZW1zID0gWy4uLml0ZW1zXTtcclxuXHRcdGNvbnNvbGUubG9nKFwiRW5hYmxpbmc6XCIsIGl0ZW1zKTtcclxuXHRcdGl0ZW1zLnJldmVyc2UoKS5tYXAoaWQgPT4gdGhpcy5lbmFibGVJdGVtKGlkKSk7XHJcblx0XHRyZXR1cm4gaXRlbXM7XHJcblx0fVxyXG5cclxuXHRhc3luYyBkaXNhYmxlSXRlbXMoaXRlbXM6IHN0cmluZ1tdIHwgU2V0PHN0cmluZz4pIHtcclxuXHRcdGlmIChpdGVtcyBpbnN0YW5jZW9mIFNldCkgaXRlbXMgPSBbLi4uaXRlbXNdO1xyXG5cdFx0Y29uc29sZS5sb2coXCJEaXNhYmxpbmc6XCIsIGl0ZW1zKTtcclxuXHRcdGZvciAoY29uc3QgaWQgb2YgaXRlbXMpIHtcclxuXHRcdFx0YXdhaXQgdGhpcy5kaXNhYmxlSXRlbShpZCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXRlbXM7XHJcblx0fVxyXG5cclxuXHRnZXRDb250cm9sQ29udGFpbmVyKHRhYj86IFNldHRpbmdzVGFiKSB7XHJcblx0XHR0YWIgPz89IHRoaXMudGFiO1xyXG5cdFx0cmV0dXJuIHF1ZXJ5VGV4dCh0YWIuY29udGFpbmVyRWwsIFwiLnNldHRpbmctaXRlbS1oZWFkaW5nXCIsIHRhYi5oZWFkaW5nKS5xdWVyeVNlbGVjdG9yKFwiLnNldHRpbmctaXRlbS1jb250cm9sXCIpIGFzIEhUTUxFbGVtZW50O1xyXG5cdH1cclxuXHJcblx0Z2V0UmVsb2FkQnV0dG9uKHRhYj86IFNldHRpbmdzVGFiKSB7XHJcblx0XHR0YWIgPz89IHRoaXMubW9kZTJUYWIuZ2V0KHRoaXMubW9kZSk7XHJcblx0XHRsZXQgY29udHJvbHMgPSB0aGlzLmdldENvbnRyb2xDb250YWluZXIodGFiKTtcclxuXHRcdHJldHVybiBjb250cm9scy5maW5kKGBbYXJpYS1sYWJlbD1cIiR7dGFiLnJlbG9hZExhYmVsfVwiXWApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG5cdH1cclxuXHJcblx0Z2V0U2V0dGluZ3NUYWIoaWQ6IHN0cmluZykge1xyXG5cdFx0cmV0dXJuIHRoaXMuYXBwLnNldHRpbmcuc2V0dGluZ1RhYnMuZmlsdGVyKHQgPT4gdC5pZCA9PT0gaWQpLnNoaWZ0KCkgYXMgUGFydGlhbDxTZXR0aW5nc1RhYj47XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUxldmVsVGV4dCgpIHtcclxuXHRcdGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcblx0XHRzcGFuLnNldFRleHQoYExldmVsOiAke3RoaXMubGV2ZWx9YCk7XHJcblx0XHRyZXR1cm4gc3BhbjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgb3ZlcnJpZGVEaXNwbGF5KG1vZGU6IE1vZGUsIHRhYjogU2V0dGluZ3NUYWIsIG9sZDogYW55KSB7XHJcblx0XHRsZXQgcGx1Z2luID0gdGhpcztcclxuXHRcdHJldHVybiAoZnVuY3Rpb24gZGlzcGxheSguLi5hcmdzOiBhbnlbXSkge1xyXG5cdFx0XHRwbHVnaW4uc2V0TW9kZShtb2RlKTtcclxuXHRcdFx0cGx1Z2luLnJlZnJlc2hUYWIgPSAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJyZWZyZXNoaW5nIHRhYlwiLCBtb2RlKTtcclxuXHRcdFx0XHRwbHVnaW4uc2V0TW9kZShtb2RlKTtcclxuXHRcdFx0XHR0YWIucmVsb2FkKCkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHRvbGQuYXBwbHkodGFiLCBhcmdzKTsgLy8gcmVuZGVyIHRoZSB0YWIgYWZ0ZXIgcmUtbG9hZGluZyB0aGUgcGx1Z2lucy9zbmlwcGV0c1xyXG5cdFx0XHRcdFx0cGx1Z2luLmFkZENvbnRyb2xzKCk7IC8vIGFkZCB0aGUgY29udHJvbHMgYmFja1xyXG5cdFx0XHRcdFx0cGx1Z2luLmNvbG9yaXplSWdub3JlZFRvZ2dsZXMoKTtcclxuXHRcdFx0XHRcdC8vIGxldCByZWxvYWQgPSBwbHVnaW4uZ2V0UmVsb2FkQnV0dG9uKCk7XHJcblx0XHRcdFx0XHQvLyByZWxvYWQub25DbGlja0V2ZW50ID0gKCkgPT4gcGx1Z2luLnJlZnJlc2hUYWIoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fTtcclxuXHRcdFx0cGx1Z2luLnJlZnJlc2hUYWIoKTtcclxuXHRcdH0pLmJpbmQocGx1Z2luLCB0YWIpO1xyXG5cdH1cclxuXHJcblxyXG5cdHByaXZhdGUgY29sb3JpemVJZ25vcmVkVG9nZ2xlcygpIHtcclxuXHRcdGxldCBuYW1lMlRvZ2dsZSA9IHRoaXMuY3JlYXRlVG9nZ2xlTWFwKHRoaXMuZ2V0SXRlbUVscygpKTtcclxuXHRcdC8vIGZvciBub3csIHJlZ2V4IGZpbHRlcmluZyBpcyBvbmx5IGZvciBwbHVnaW5zXHJcblx0XHRsZXQgaW5jbHVkZWQgPSBuZXcgU2V0KFsuLi4odGhpcy5nZXRJbmNsdWRlZEl0ZW1zKCkpXS5tYXAobSA9PiBtLm5hbWUpKTtcclxuXHRcdGNvbnNvbGUubG9nKCdpbmNsdWRlZCcsIGluY2x1ZGVkLCB0aGlzLmdldEluY2x1ZGVkSXRlbXMoKSwgbmFtZTJUb2dnbGUpO1xyXG5cclxuXHRcdGZvciAobGV0IFtuYW1lLCB0b2dnbGVdIG9mIG5hbWUyVG9nZ2xlKSB7XHJcblx0XHRcdC8vIGlmIHRoZSBwbHVnaW4gaXMgZmlsdGVyZWQgYnkgcmVnZXggc2V0dGluZ3MsIHdlIGluZGljYXRlIHRoaXMgdmlzdWFsbHkgYnkgY29sb3JpbmcgdGhlIHRvZ2dsZVxyXG5cdFx0XHRpZiAoIWluY2x1ZGVkPy5oYXMobmFtZSkpIHtcclxuXHRcdFx0XHRsZXQgY29sb3JUb2dnbGUgPSAoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAodG9nZ2xlLmNsYXNzTGlzdC5jb250YWlucygnaXMtZW5hYmxlZCcpKSB0b2dnbGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5lbmFibGVkQ29sb3I7XHJcblx0XHRcdFx0XHRlbHNlIHRvZ2dsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRpc2FibGVkQ29sb3I7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRjb2xvclRvZ2dsZSgpO1xyXG5cdFx0XHRcdHRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNvbG9yVG9nZ2xlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGlkID0gWy4uLnRoaXMuZ2V0QWxsSXRlbXMoKV0uZmluZChwID0+IHAubmFtZSA9PSBuYW1lKT8uaWQ7XHJcblx0XHRcdC8vIGlmIHRoZSBwbHVnaW4gaXMgaW4gdGhlIHNuYXBzaG90LCB3ZSBpbmRpY2F0ZSB0aGlzIHZpc3VhbGx5IGJ5IG91dGxpbmluZ1xyXG5cdFx0XHRpZiAoaWQgJiYgdGhpcy5zbmFwc2hvdCAmJiB0aGlzLnNuYXBzaG90LmhhcyhpZCkpIHtcclxuXHRcdFx0XHR0b2dnbGUuc3R5bGUub3V0bGluZU9mZnNldCA9IFwiMXB4XCI7XHJcblx0XHRcdFx0dG9nZ2xlLnN0eWxlLm91dGxpbmUgPSBcIm91dHNldFwiO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVUb2dnbGVNYXAoaXRlbXM6IEVsZW1lbnRbXSkge1xyXG5cdFx0bGV0IG5hbWUyVG9nZ2xlID0gbmV3IE1hcDxzdHJpbmcsIEhUTUxEaXZFbGVtZW50PigpO1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRsZXQgY2hpbGQgPSBpdGVtc1tpXTtcclxuXHRcdFx0bGV0IG5hbWUgPSAoY2hpbGQucXVlcnlTZWxlY3RvcihcIi5zZXR0aW5nLWl0ZW0tbmFtZVwiKSBhcyBIVE1MRGl2RWxlbWVudCkuaW5uZXJUZXh0O1xyXG5cdFx0XHRsZXQgdG9nZ2xlID0gKGNoaWxkLnF1ZXJ5U2VsZWN0b3IoXCIuc2V0dGluZy1pdGVtLWNvbnRyb2xcIikpLnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveC1jb250YWluZXInKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHRcdFx0aWYgKG5hbWUgJiYgdG9nZ2xlKVxyXG5cdFx0XHRcdG5hbWUyVG9nZ2xlLnNldChuYW1lLCB0b2dnbGUpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5hbWUyVG9nZ2xlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB3cmFwQ2FsbChtb2RlOiBNb2RlLCBrZXk6IGtleW9mIGRpdmlkZUFuZENvbnF1ZXIpIHtcclxuXHRcdHJldHVybiB0aGlzLndyYXBwZXIodGhpc1trZXldIGFzIEZ1bmMpO1xyXG5cdH1cclxuXHJcblxyXG5cclxufVxyXG5cclxuIiwgImltcG9ydCB7IEFwcCwgUGx1Z2luTWFuaWZlc3QsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIFRleHRBcmVhQ29tcG9uZW50LCBUb2dnbGVDb21wb25lbnQgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmltcG9ydCB0eXBlIHsgTW9kZSB9IGZyb20gXCIuL3V0aWxcIjtcclxuaW1wb3J0IHsgYXJvdW5kIH0gZnJvbSAnbW9ua2V5LWFyb3VuZCc7XHJcbmltcG9ydCBkaXZpZGVBbmRDb25xdWVyIGZyb20gXCJtYWluXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERBQ1NldHRpbmdzIHtcclxuICAgIHBsdWdpbkZpbHRlclJlZ2V4ZXM6IHN0cmluZ1tdO1xyXG4gICAgc25pcHBldEZpbHRlclJlZ2V4ZXM6IHN0cmluZ1tdO1xyXG4gICAgZmlsdGVyVXNpbmdEaXNwbGF5TmFtZTogYm9vbGVhbixcclxuICAgIGZpbHRlclVzaW5nQXV0aG9yOiBib29sZWFuLFxyXG4gICAgZmlsdGVyVXNpbmdEZXNjcmlwdGlvbjogYm9vbGVhbixcclxuICAgIGluaXRpYWxpemVBZnRlclBsdWdpbkNoYW5nZXM6IGJvb2xlYW4sXHJcbiAgICByZWxvYWRBZnRlclBsdWdpbkNoYW5nZXM6IGJvb2xlYW4sXHJcbiAgICBkaXNhYmxlZFN0YXRlczogc3RyaW5nO1xyXG4gICAgc25hcHNob3RzOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBEQUNTZXR0aW5ncyA9IHtcclxuICAgIHBsdWdpbkZpbHRlclJlZ2V4ZXM6IFtcclxuICAgICAgICBcImhvdC1yZWxvYWRcIixcclxuICAgICAgICBcIm9ic2lkaWFuLWRpdmlkZS1hbmQtY29ucXVlclwiXHJcbiAgICBdLFxyXG4gICAgc25pcHBldEZpbHRlclJlZ2V4ZXM6IFtdLFxyXG4gICAgZmlsdGVyVXNpbmdEaXNwbGF5TmFtZTogdHJ1ZSxcclxuICAgIGZpbHRlclVzaW5nQXV0aG9yOiBmYWxzZSxcclxuICAgIGZpbHRlclVzaW5nRGVzY3JpcHRpb246IGZhbHNlLFxyXG4gICAgaW5pdGlhbGl6ZUFmdGVyUGx1Z2luQ2hhbmdlczogZmFsc2UsXHJcbiAgICByZWxvYWRBZnRlclBsdWdpbkNoYW5nZXM6IGZhbHNlLFxyXG4gICAgZGlzYWJsZWRTdGF0ZXM6IHVuZGVmaW5lZCxcclxuICAgIHNuYXBzaG90czogdW5kZWZpbmVkLFxyXG59O1xyXG5cclxuaW50ZXJmYWNlICBUZXh0QXJlYUFyZ3MgeyBtb2RlOiBNb2RlLCBjb250YWluZXI6IFNldHRpbmcsIHBsYWNlaG9sZGVyPzogc3RyaW5nLCB2YWx1ZT86IHN0cmluZywgZGlzYWJsZWRBcmVhPzpUZXh0QXJlYUNvbXBvbmVudCB9ICAgIFxyXG5cclxuZXhwb3J0IGNsYXNzIERBQ1NldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcbiAgICBwbHVnaW46IGRpdmlkZUFuZENvbnF1ZXI7XHJcbiAgICB0b2dnbGVzOiBUb2dnbGVDb21wb25lbnRbXSA9IFtdO1xyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogZGl2aWRlQW5kQ29ucXVlcikge1xyXG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGxheSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnRGl2aWRlIGFuZCBDb25xdWVyJyB9KTtcclxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDUnLCB7XHJcbiAgICAgICAgICAgIHRleHQ6ICdOb3RlOiBSZWluaXRpYWxpemluZyBvciBSZWxvYWRpbmcgbWF5IGNhdXNlIGRpc2FibGVkIHBsdWdpbnMgdG8gZGlzc2FwcGVhcjsgY2xvc2UgYW5kIG9wZW4gdGhlIG1lbnUgdG8gc2VlIHRoZW0gYWdhaW4nXHJcbiAgICAgICAgICAgIC8vIHNldCB0aGUgY29sb3IgdG8gdGhlIGNvbXB1dGVkIHZhbHVlIG9mIC0taW50ZXJhY3RpdmUtYWNjZW50XHJcbiAgICAgICAgfSkuc3R5bGUuY29sb3IgPSBnZXRDb21wdXRlZFN0eWxlKGNvbnRhaW5lckVsKS5nZXRQcm9wZXJ0eVZhbHVlKCctLWludGVyYWN0aXZlLWFjY2VudCcpO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoJ1JlaW5pdGlhbGl6ZSBPYnNpZGlhbiBhZnRlciBwbHVnaW4gY2hhbmdlcycpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKCdUaGlzIGlzIG5vdCB1c3VhbGx5IG5lY2Vzc2FyeS4gSWYgeW91IGhhdmUgXCJEZWJ1ZyBzdGFydHVwIHRpbWVcIiBlbmFibGVkIGluIHRoZSBDb21tdW5pdHkgUGx1Z2lucyB0YWIgeW91XFwnbGwgc2VlIHN0YXJ0dXAgdGltZXMgd2hlbiB1c2luZyBjb21tbWFuZHMnKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbml0aWFsaXplQWZ0ZXJQbHVnaW5DaGFuZ2VzKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5pdGlhbGl6ZUFmdGVyUGx1Z2luQ2hhbmdlcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKCdSZWxvYWQgT2JzaWRpYW4gYWZ0ZXIgcGx1Z2luIGNoYW5nZXMnKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWxvYWRBZnRlclBsdWdpbkNoYW5nZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWxvYWRBZnRlclBsdWdpbkNoYW5nZXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2hyJykuY3JlYXRlRWwoJ2JyJyk7XHJcblxyXG5cclxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdDaGFuZ2luZyBhbnkgb2YgdGhlIGZvbGxvd2luZyBzZXR0aW5ncyB3aWxsIHJlc3RvcmUgcGx1Z2lucyB0byB0aGUgb3JpZ2luYWwgc3RhdGUuJyB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKCdVc2UgRmlsdGVycyBvbiBQbHVnaW4gRGlzcGxheSBOYW1lcycpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKCdJZiB0aGlzIGlzIG9mZiwgREFDIHdpbGwgb25seSBtYXRjaCBwbHVnaW5zIGJ5IHRoZWlyIElEJylcclxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZXMucHVzaCh0b2dnbGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWx0ZXJVc2luZ0Rpc3BsYXlOYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlsdGVyVXNpbmdEaXNwbGF5TmFtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZSgnVXNlIEZpbHRlcnMgb24gUGx1Z2luIEF1dGhvcnMnKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlcy5wdXNoKHRvZ2dsZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpbHRlclVzaW5nQXV0aG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlsdGVyVXNpbmdBdXRob3IgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoJ1VzZSBGaWx0ZXJzIG9uIFBsdWdpbiBEZXNjcmlwdGlvbnMnKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlcy5wdXNoKHRvZ2dsZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpbHRlclVzaW5nRGVzY3JpcHRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWx0ZXJVc2luZ0Rlc2NyaXB0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IHBsdWdpbkV4Y2x1c2lvbnMgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoJ1BsdWdpbiBFeGNsdXNpb25zJylcclxuICAgICAgICAgICAgLnNldERlc2MoJ0V4Y2x1ZGUgcGx1Z2lucyB1c2luZyByZWdleCAoY2FzZSBpbnNlbnNpdGl2ZSkuXFxuRWFjaCBuZXcgbGluZSBpcyBhIG5ldyByZWdleC4gUGx1Z2luIGlkcyBhcmUgdXNlZCBmb3IgbWF0Y2hpbmcgYnkgZGVmYXVsdC4gSW5jbHVkZWQgcGx1Z2lucyBhcmUgb24gdGhlIGxlZnQsIGV4Y2x1ZGVkIG9uIHRoZSByaWdodC4gJyk7XHJcbiAgICAgICAgdGhpcy5hZGRUZXh0QXJlYSh7XHJcbiAgICAgICAgICAgIG1vZGU6ICdwbHVnaW5zJyxcclxuICAgICAgICAgICAgY29udGFpbmVyOiBwbHVnaW5FeGNsdXNpb25zLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogJ15kYWlseS9cXG5cXFxcLnBuZyRcXG5ldGMuLi4nLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MucGx1Z2luRmlsdGVyUmVnZXhlcy5qb2luKCdcXG4nKSxcclxuICAgICAgICAgICAgZGlzYWJsZWRBcmVhOiB0aGlzLmFkZFRleHRBcmVhKHsgbW9kZTogJ3BsdWdpbnMnLCBjb250YWluZXI6IHBsdWdpbkV4Y2x1c2lvbnMgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IHNuaXBwZXRFeGNsdXNpb25zID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKCdTbmlwcGV0IEV4Y2x1c2lvbnMnKVxyXG4gICAgICAgICAgICAuc2V0RGVzYygnRXhjbHVkZSBzbmlwcGV0cyB1c2luZyByZWdleCAoY2FzZSBpbnNlbnNpdGl2ZSkuXFxuRWFjaCBuZXcgbGluZSBpcyBhIG5ldyByZWdleC4gU25pcHBldCBhcmUgb25seSBleGNsdWRlIGJ5IHRoZWlyIG5hbWUuJyk7XHJcbiAgICAgICAgdGhpcy5hZGRUZXh0QXJlYSh7XHJcbiAgICAgICAgICAgIG1vZGU6ICdzbmlwcGV0cycsXHJcbiAgICAgICAgICAgIGNvbnRhaW5lcjogc25pcHBldEV4Y2x1c2lvbnMsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnXmRhaWx5L1xcblxcXFwucG5nJFxcbmV0Yy4uLicsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zbmlwcGV0RmlsdGVyUmVnZXhlcy5qb2luKCdcXG4nKSxcclxuICAgICAgICAgICAgZGlzYWJsZWRBcmVhOiB0aGlzLmFkZFRleHRBcmVhKHsgbW9kZTogJ3NuaXBwZXRzJywgY29udGFpbmVyOiBzbmlwcGV0RXhjbHVzaW9ucyB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBbcGx1Z2luRXhjbHVzaW9ucywgc25pcHBldEV4Y2x1c2lvbnNdLmZvckVhY2gocyA9PiB7XHJcbiAgICAgICAgICAgIHMuY29udHJvbEVsLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgICAgICBzLmluZm9FbC5zdHlsZS53aWR0aCA9ICc0NSUnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFRleHRBcmVhKHsgbW9kZSwgY29udGFpbmVyLCBwbGFjZWhvbGRlciwgdmFsdWUsIGRpc2FibGVkQXJlYSB9OiBUZXh0QXJlYUFyZ3MpIHtcclxuICAgICAgICBsZXQgcmV0OiBUZXh0QXJlYUNvbXBvbmVudDtcclxuICAgICAgICBsZXQgcmVzZXQgPSAoYXJlYTogVGV4dEFyZWFDb21wb25lbnQsIG1vZGU6IE1vZGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2F2ZURhdGEoKTtcclxuICAgICAgICAgICAgYXJlYS5zZXRQbGFjZWhvbGRlcihcclxuICAgICAgICAgICAgICAgIFsuLi4odGhpcy5wbHVnaW4uZ2V0SW5jbHVkZWRJdGVtcyhtb2RlKSldLm1hcChwID0+IHAubmFtZSkuam9pbignXFxuJylcclxuICAgICAgICAgICAgKS5zZXREaXNhYmxlZCh0cnVlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb250YWluZXIuYWRkVGV4dEFyZWEoKHRleHRBcmVhKSA9PiB7XHJcbiAgICAgICAgICAgIHJldCA9IHRleHRBcmVhO1xyXG4gICAgICAgICAgICB0ZXh0QXJlYS5pbnB1dEVsLnNldEF0dHIoJ3Jvd3MnLCAxMCk7XHJcbiAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkgdGV4dEFyZWEuc2V0UGxhY2Vob2xkZXIocGxhY2Vob2xkZXIpLnNldFZhbHVlKHZhbHVlKTtcclxuICAgICAgICAgICAgdGV4dEFyZWEuc2V0UGxhY2Vob2xkZXIoXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlciA/PyBbLi4uKHRoaXMucGx1Z2luLmdldEluY2x1ZGVkSXRlbXMobW9kZSkpXS5tYXAocCA9PiBwLm5hbWUpLmpvaW4oJ1xcbicpXHJcbiAgICAgICAgICAgICkuc2V0RGlzYWJsZWQoIWRpc2FibGVkQXJlYSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlzYWJsZWRBcmVhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZXMuZm9yRWFjaCh0ID0+IHQudG9nZ2xlRWwub25DbGlja0V2ZW50KHJlc2V0LmJpbmQodGhpcywgZGlzYWJsZWRBcmVhLCBtb2RlKSkpO1xyXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuaW5wdXRFbC5vbmJsdXIgPSAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RmlsdGVycyhtb2RlLCAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0KGRpc2FibGVkQXJlYSwgbW9kZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0RmlsdGVycyhtb2RlOiBNb2RlLCBpbnB1dDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGYgPSBpbnB1dD8uc3BsaXQoJ1xcbicpLmZpbHRlcihwID0+IHAubGVuZ3RoKTtcclxuICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSAncGx1Z2lucyc6IHRoaXMucGx1Z2luLnNldHRpbmdzLnBsdWdpbkZpbHRlclJlZ2V4ZXMgPSBmOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnc25pcHBldHMnOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zbmlwcGV0RmlsdGVyUmVnZXhlcyA9IGY7IGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBsdWdpbi5zYXZlRGF0YSgpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG59IiwgImltcG9ydCB7IFNldHRpbmdzVGFiIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG4vLyBhY2NlcHRzIGEgc3RyaW5nIGFuZCBjaGVja3MgaWYgaXQgaXMgYSBjYWxjIGV4cHJlc3Npb24gKGxpbWl0ZWQgdG8gcGVyY2VudGFnZXMgYW5kIGFkZGl0aW9uL3N1YnRyYWN0aW9uKSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0aW5nIHN0cmluZ1xyXG5leHBvcnQgZnVuY3Rpb24gc2ltcGxlQ2FsYyhzdHI6IHN0cmluZykge1xyXG5cdGNvbnN0IGNhbGNSZWdleCA9IC9jYWxjXFwoKFxcZCspJVxccyooWystXSlcXHMqKFxcZCspJVxcKS87XHJcblx0Y29uc3QgbWF0Y2ggPSBzdHIubWF0Y2goY2FsY1JlZ2V4KTtcclxuXHRpZiAoIW1hdGNoKSByZXR1cm4gc3RyO1xyXG5cdGNvbnN0IFtfLCBhLCBvcCwgYl0gPSBtYXRjaDtcclxuXHRjb25zdCByZXN1bHQgPSBvcCA9PT0gXCIrXCIgPyArYSArICtiIDogK2EgLSArYjtcclxuXHRyZXR1cm4gc3RyLnJlcGxhY2UoY2FsY1JlZ2V4LCBgJHtyZXN1bHR9JWApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlU2V0dXBEZWJ1Z05vdGljZSgpIHtcclxuXHRsZXQgbm90aWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3RpY2UnKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PjtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IG5vdGljZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGxldCBub3RpY2UgPSBub3RpY2VzW2ldO1xyXG5cdFx0aWYgKG5vdGljZT8uaW5uZXJUZXh0LmluY2x1ZGVzKCdwbHVnaW4gc2V0dXAnKSkgbm90aWNlLnJlbW92ZSgpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5VGV4dChlbDpIVE1MRWxlbWVudCwgc2VsZWN0b3I6c3RyaW5nLCB0ZXh0OnN0cmluZykge1xyXG5cdHJldHVybiBBcnJheS5mcm9tPEhUTUxFbGVtZW50PihlbC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkuZmluZCgoaGVhZGluZykgPT4gaGVhZGluZy5pbm5lclRleHQuaW5jbHVkZXModGV4dCkpO1xyXG59XHJcblxyXG4vLyBjb21wb3NlIHRha2VzIGFueSBudW1iZXIgb2YgZnVuY3Rpb25zLCBiaW5kcyB0aGVtIHRvIFwiX3RoaXNcIiwgYW5kIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbGxzIHRoZW0gaW4gb3JkZXJcclxuZXhwb3J0IGNvbnN0IGNvbXBvc2UgPSAoX3RoaXM6YW55LC4uLmZ1bmNzOiBGdW5jdGlvbltdKSA9PiAoLi4uYXJnczogYW55W10pID0+XHJcblx0ZnVuY3MucmVkdWNlKChwcm9taXNlLCBmdW5jKSA9PiBwcm9taXNlLnRoZW4oZnVuYy5iaW5kKF90aGlzKSksIFByb21pc2UucmVzb2x2ZSgpKTtcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFrZUFycmF5KGNvbGxlY3Rpb246IEhUTUxDb2xsZWN0aW9uKSB7XHJcblx0Y29uc3QgYXJyYXkgPSBbXTtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGNvbGxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcclxuXHRcdGFycmF5LnB1c2goY29sbGVjdGlvbltpXSk7XHJcblx0fVxyXG5cdHJldHVybiBhcnJheTtcclxufVxyXG5cclxuLy8gdW5saWtlIHBsdWdpbnMsIHNuaXBwZXRzIGFyZSBub3QgaW4gYSBjb250YWluZXIsIHRoZXkgYXJlIGFmdGVyIHRoZSBsYXN0IC5zZXR0aW5nLWl0ZW0taGVhZGluZyBpbiB0YWIuY29udGFpbmVyRWxcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNuaXBwZXRJdGVtcyh0YWI6IFNldHRpbmdzVGFiKSB7XHJcblx0Y29uc3QgaGVhZGluZ3MgPSB0YWIuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvckFsbChcIi5zZXR0aW5nLWl0ZW0taGVhZGluZ1wiKTtcclxuXHRjb25zdCBsYXN0SGVhZGluZyA9IGhlYWRpbmdzW2hlYWRpbmdzLmxlbmd0aCAtIDFdO1xyXG5cdGxldCByZXMgPSBBcnJheS5mcm9tKHRhYi5jb250YWluZXJFbC5jaGlsZHJlbikuZmlsdGVyKFxyXG5cdFx0KGNoaWxkKSA9PiAhKGNoaWxkLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGxhc3RIZWFkaW5nKSAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HKVxyXG5cdCk7XHJcblx0Y29uc29sZS5sb2cocmVzLCBoZWFkaW5ncyk7XHJcblx0cmV0dXJuIHJlcztcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IE1vZGVzID0gW1xyXG5cdCdwbHVnaW5zJyxcclxuXHQnc25pcHBldHMnXHJcbl0gYXMgY29uc3Q7XHJcblxyXG5leHBvcnQgdHlwZSBURnJvbUFycmF5PFQgZXh0ZW5kcyBSZWFkb25seUFycmF5PHVua25vd24+PiA9IFQgZXh0ZW5kcyBSZWFkb25seUFycmF5PGluZmVyIFRGcm9tQXJyYXk+ID8gVEZyb21BcnJheSA6IG5ldmVyO1xyXG5leHBvcnQgdHlwZSBDb21wb3NlZCA9IChmdW5jOiBGdW5jKSA9PiBGdW5jO1xyXG5leHBvcnQgdHlwZSBGdW5jID0gKCkgPT4gYW55O1xyXG5leHBvcnQgdHlwZSBNb2RlID0gVEZyb21BcnJheTx0eXBlb2YgTW9kZXM+O1xyXG5leHBvcnQgdHlwZSBKU09OU2V0QXJyYXlNYXAgPSBbTW9kZSwgc3RyaW5nW11bXV1bXTsiLCAiZXhwb3J0IGZ1bmN0aW9uIGFyb3VuZChvYmosIGZhY3Rvcmllcykge1xuICAgIGNvbnN0IHJlbW92ZXJzID0gT2JqZWN0LmtleXMoZmFjdG9yaWVzKS5tYXAoa2V5ID0+IGFyb3VuZDEob2JqLCBrZXksIGZhY3Rvcmllc1trZXldKSk7XG4gICAgcmV0dXJuIHJlbW92ZXJzLmxlbmd0aCA9PT0gMSA/IHJlbW92ZXJzWzBdIDogZnVuY3Rpb24gKCkgeyByZW1vdmVycy5mb3JFYWNoKHIgPT4gcigpKTsgfTtcbn1cbmZ1bmN0aW9uIGFyb3VuZDEob2JqLCBtZXRob2QsIGNyZWF0ZVdyYXBwZXIpIHtcbiAgICBjb25zdCBvcmlnaW5hbCA9IG9ialttZXRob2RdLCBoYWRPd24gPSBvYmouaGFzT3duUHJvcGVydHkobWV0aG9kKTtcbiAgICBsZXQgY3VycmVudCA9IGNyZWF0ZVdyYXBwZXIob3JpZ2luYWwpO1xuICAgIC8vIExldCBvdXIgd3JhcHBlciBpbmhlcml0IHN0YXRpYyBwcm9wcyBmcm9tIHRoZSB3cmFwcGluZyBtZXRob2QsXG4gICAgLy8gYW5kIHRoZSB3cmFwcGluZyBtZXRob2QsIHByb3BzIGZyb20gdGhlIG9yaWdpbmFsIG1ldGhvZFxuICAgIGlmIChvcmlnaW5hbClcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGN1cnJlbnQsIG9yaWdpbmFsKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yod3JhcHBlciwgY3VycmVudCk7XG4gICAgb2JqW21ldGhvZF0gPSB3cmFwcGVyO1xuICAgIC8vIFJldHVybiBhIGNhbGxiYWNrIHRvIGFsbG93IHNhZmUgcmVtb3ZhbFxuICAgIHJldHVybiByZW1vdmU7XG4gICAgZnVuY3Rpb24gd3JhcHBlciguLi5hcmdzKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYmVlbiBkZWFjdGl2YXRlZCBhbmQgYXJlIG5vIGxvbmdlciB3cmFwcGVkLCByZW1vdmUgb3Vyc2VsdmVzXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBvcmlnaW5hbCAmJiBvYmpbbWV0aG9kXSA9PT0gd3JhcHBlcilcbiAgICAgICAgICAgIHJlbW92ZSgpO1xuICAgICAgICByZXR1cm4gY3VycmVudC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICAvLyBJZiBubyBvdGhlciBwYXRjaGVzLCBqdXN0IGRvIGEgZGlyZWN0IHJlbW92YWxcbiAgICAgICAgaWYgKG9ialttZXRob2RdID09PSB3cmFwcGVyKSB7XG4gICAgICAgICAgICBpZiAoaGFkT3duKVxuICAgICAgICAgICAgICAgIG9ialttZXRob2RdID0gb3JpZ2luYWw7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZGVsZXRlIG9ialttZXRob2RdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50ID09PSBvcmlnaW5hbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLy8gRWxzZSBwYXNzIGZ1dHVyZSBjYWxscyB0aHJvdWdoLCBhbmQgcmVtb3ZlIHdyYXBwZXIgZnJvbSB0aGUgcHJvdG90eXBlIGNoYWluXG4gICAgICAgIGN1cnJlbnQgPSBvcmlnaW5hbDtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHdyYXBwZXIsIG9yaWdpbmFsIHx8IEZ1bmN0aW9uKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVkdXBlKGtleSwgb2xkRm4sIG5ld0ZuKSB7XG4gICAgY2hlY2tba2V5XSA9IGtleTtcbiAgICByZXR1cm4gY2hlY2s7XG4gICAgZnVuY3Rpb24gY2hlY2soLi4uYXJncykge1xuICAgICAgICByZXR1cm4gKG9sZEZuW2tleV0gPT09IGtleSA/IG9sZEZuIDogbmV3Rm4pLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhZnRlcihwcm9taXNlLCBjYikge1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oY2IsIGNiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemUoYXN5bmNGdW5jdGlvbikge1xuICAgIGxldCBsYXN0UnVuID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgZnVuY3Rpb24gd3JhcHBlciguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBsYXN0UnVuID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgICAgICBhZnRlcihsYXN0UnVuLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXN5bmNGdW5jdGlvbi5hcHBseSh0aGlzLCBhcmdzKS50aGVuKHJlcywgcmVqKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgd3JhcHBlci5hZnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxhc3RSdW4gPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHsgYWZ0ZXIobGFzdFJ1biwgcmVzKTsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gd3JhcHBlcjtcbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUlBLElBQUMsVUFBUyxPQUFNO0FBRWhCLFVBQUksV0FBVyxRQUNYLFlBQVksUUFDWixjQUFjLEdBQ2QsWUFBWSxNQUFLLE9BQ2pCLFVBQVUsTUFBSyxLQUNmLFVBQVUsTUFBSyxLQUNmLGFBQWEsTUFBSztBQUV0QiwwQkFBb0IsT0FBTyxNQUFNO0FBRTdCLGdCQUFTLFFBQVMsUUFBUTtBQUMxQixlQUFPLFFBQVE7QUFHZixZQUFJLGlCQUFpQixZQUFXO0FBQzdCLGlCQUFPO0FBQUE7QUFHVixZ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QUEsUUFDVixXQUFXO0FBQUEsUUFDWCxhQUFhO0FBQUEsUUFDYixnQkFBZ0I7QUFBQSxRQUNoQixZQUFZO0FBQUEsUUFDWixZQUFZO0FBQUEsUUFDWixTQUFTO0FBQUEsUUFDVCxZQUFZO0FBQUEsUUFDWixjQUFjO0FBQUEsUUFDZCxlQUFlO0FBQUEsUUFDZixlQUFlO0FBQUEsUUFDZixlQUFlO0FBQUEsUUFDZixlQUFlO0FBQUEsUUFDZixZQUFZO0FBQUEsUUFDWixVQUFVO0FBQUEsUUFDVixhQUFhO0FBQUEsUUFDYixTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxZQUFZO0FBQUEsUUFDWixXQUFXO0FBQUEsUUFDWCxhQUFhO0FBQUEsUUFDYixhQUFhO0FBQUEsUUFDYixTQUFTO0FBQUEsUUFDVCxXQUFXO0FBQUEsUUFDWCxZQUFZO0FBQUEsUUFDWixNQUFNO0FBQUEsUUFDTixXQUFXO0FBQUEsUUFDWCxNQUFNO0FBQUEsUUFDTixPQUFPO0FBQUEsUUFDUCxhQUFhO0FBQUEsUUFDYixNQUFNO0FBQUEsUUFDTixVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxXQUFXO0FBQUEsUUFDWCxRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsUUFDUCxVQUFVO0FBQUEsUUFDVixlQUFlO0FBQUEsUUFDZixXQUFXO0FBQUEsUUFDWCxjQUFjO0FBQUEsUUFDZCxXQUFXO0FBQUEsUUFDWCxZQUFZO0FBQUEsUUFDWixXQUFXO0FBQUEsUUFDWCxzQkFBc0I7QUFBQSxRQUN0QixXQUFXO0FBQUEsUUFDWCxZQUFZO0FBQUEsUUFDWixXQUFXO0FBQUEsUUFDWCxXQUFXO0FBQUEsUUFDWCxhQUFhO0FBQUEsUUFDYixlQUFlO0FBQUEsUUFDZixjQUFjO0FBQUEsUUFDZCxnQkFBZ0I7QUFBQSxRQUNoQixnQkFBZ0I7QUFBQSxRQUNoQixnQkFBZ0I7QUFBQSxRQUNoQixhQUFhO0FBQUEsUUFDYixNQUFNO0FBQUEsUUFDTixXQUFXO0FBQUEsUUFDWCxPQUFPO0FBQUEsUUFDUCxTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixrQkFBa0I7QUFBQSxRQUNsQixZQUFZO0FBQUEsUUFDWixjQUFjO0FBQUEsUUFDZCxjQUFjO0FBQUEsUUFDZCxnQkFBZ0I7QUFBQSxRQUNoQixpQkFBaUI7QUFBQSxRQUNqQixtQkFBbUI7QUFBQSxRQUNuQixpQkFBaUI7QUFBQSxRQUNqQixpQkFBaUI7QUFBQSxRQUNqQixjQUFjO0FBQUEsUUFDZCxXQUFXO0FBQUEsUUFDWCxXQUFXO0FBQUEsUUFDWCxVQUFVO0FBQUEsUUFDVixhQUFhO0FBQUEsUUFDYixNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsUUFDVCxPQUFPO0FBQUEsUUFDUCxXQUFXO0FBQUEsUUFDWCxRQUFRO0FBQUEsUUFDUixXQUFXO0FBQUEsUUFDWCxRQUFRO0FBQUEsUUFDUixlQUFlO0FBQUEsUUFDZixXQUFXO0FBQUEsUUFDWCxlQUFlO0FBQUEsUUFDZixlQUFlO0FBQUEsUUFDZixZQUFZO0FBQUEsUUFDWixXQUFXO0FBQUEsUUFDWCxNQUFNO0FBQUEsUUFDTixNQUFNO0FBQUEsUUFDTixNQUFNO0FBQUEsUUFDTixZQUFZO0FBQUEsUUFDWixRQUFRO0FBQUEsUUFDUixlQUFlO0FBQUEsUUFDZixLQUFLO0FBQUEsUUFDTCxXQUFXO0FBQUEsUUFDWCxXQUFXO0FBQUEsUUFDWCxhQUFhO0FBQUEsUUFDYixRQUFRO0FBQUEsUUFDUixZQUFZO0FBQUEsUUFDWixVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxXQUFXO0FBQUEsUUFDWCxXQUFXO0FBQUEsUUFDWCxXQUFXO0FBQUEsUUFDWCxNQUFNO0FBQUEsUUFDTixhQUFhO0FBQUEsUUFDYixXQUFXO0FBQUEsUUFDWCxLQUFLO0FBQUEsUUFDTCxNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixXQUFXO0FBQUEsUUFDWCxRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxPQUFP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
